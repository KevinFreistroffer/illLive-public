(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){e.exports=n.p+"static/media/loadingGif.29799c52.gif"},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},192:function(e,t,n){e.exports=n(302)},197:function(e,t,n){},299:function(e,t,n){e.exports=n.p+"static/media/lnr-user.0a06c92b.svg"},302:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(4),i=n.n(s),o=(n(197),n(7)),l=n(5),c=n(9),u=n(10),m=n(11),d=n(13),p=n(57),h=n(31),f=n(72),g=n(150),v={appName:"illLive"},E="MEASUREMENT_REQUIRED",b="FOOD_OR_DRINK_REQUIRED",O="FOODDRINK_NAME_REQUIRED",S={isLoading:!1,loadingText:""},N=n(23),y=n(12);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C={username:"",email:"",password:"",confirmationToken:"",authenticationToken:"",apiToken:"",foodDrinks:[],measurements:[],formError:"",authenticationErrors:[],signInErrors:[],saveNewFoodDrinkErrors:[],confirm24HourMealResetMessageErrors:[],confirmed24HourMealResetMessage:!1,isConfirming24HourMealResetMessage:!1,accountConfirmationError:{},accountConfirmed:!1,isStoringUser:!1,isAuthenticating:!1,isAuthenticated:!1,isSigningIn:!1,isSigningUp:!1,isSignedUp:!1,isSigningOut:!1,isConfirmingAccount:!1,isSendingResetPasswordEmail:!1,resetPasswordEmailSent:!1,isAddingNewFoodDrink:!1,confirmedCookieFlag:!1};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j={measurements:[],successSavingNewFoodDrink:!1,isSavingNewFoodDrink:!1,isSavingMeals:!1,isCreatingNewMeal:!1,errors:[],saveNewFoodDrinkErrors:[]};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var T={menuOpen:!1};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x={isVisible:!1,title:"",text:"",feeling:"info"};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F={showDetails:!1};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var U={isVisible:!1,text:""};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G={isCalculatingTotals:!1,totals:{vitaminA:0,vitaminB1:0,vitaminB2:0,vitaminB3:0,vitaminB5:0,vitaminB6:0,vitaminB7:0,calcium:0,choline:0,chromium:0,copper:0,fluoride:0,folicAcid:0,iodine:0,iron:0,magnesium:0,manganese:0,molybdenum:0,phosphorus:0,potassium:0,salt:0,vitaminD3:0,vitaminE:0,vitaminK:0,zinc:0}},z=function(){if(localStorage.getItem("state"))try{localStorage.delete("state")}catch(e){console.log("An error occured deleting localStorage")}},q=Object(f.c)({appReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;arguments.length>1&&arguments[1];return e},userReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),console.log(t.payload),t.type){case"BEGIN_STORING_USER":return k({},e,{isStoringUser:!0});case"STORE_USER":return k({},e,{},t.payload.user,{isStoringUser:!1});case"BEGIN_AUTHENTICATING":return k({},e,{isAuthenticating:!0});case"SUCCESS_AUTHENTICATING":return k({},e,{isAuthenticating:!1,isAuthenticated:!0,authenticationErrors:[]});case"FAILURE_AUTHENTICATING":return k({},e,{isAuthenticating:!1,isAuthenticated:!1,authenticationErrors:[t.payload.errors]});case"STORE_ACCOUNT_CONFIRMATION_TOKEN":return k({},e,{confirmationToken:t.token});case"STORE_AUTHENTICATION_TOKEN":return k({},e,{authenticationToken:t.token});case"STORE_API_TOKEN":return k({},e,{apiToken:t.token});case"BEGIN_SIGNING_IN":return k({},e,{isSigningIn:!0});case"SUCCESS_SIGNING_IN":return k({},e,{isSigningIn:!1,isAuthenticated:!0,signInErrors:[]});case"FAILURE_SIGNING_IN":return console.log("FAILURE_SIGNING_IN()",t.payload.error),k({},e,{isSigningIn:!1,isAuthenticated:!1,formErrorText:t.payload.error});case"BEGIN_SIGNING_UP":return k({},e,{isSigningUp:!0});case"SUCCESS_SIGNING_UP":return k({},e,{isSigningUp:!1,isSignedUp:!0});case"RESET_IS_SIGNED_UP":return k({},e,{isSignedUp:!1});case"FAILURE_SIGNING_UP":return console.log("failure_signing_up"),k({},e,{isSigningUp:!1,isSignedUp:!1});case"BEGIN_SIGNING_OUT":return k({},e,{isSigningOut:!0});case"SUCCESS_SIGNING_OUT":return k({},e,{username:"",email:"",password:"",confirmationToken:"",authenticationToken:"",apiToken:"",foodDrinks:[],measurements:[],formError:"",authenticationErrors:[],signInErrors:[],saveNewFoodDrinkErrors:[],accountConfirmationError:k({},e),accountConfirmed:!1,isAuthenticating:!1,isAuthenticated:!1,isSigningIn:!1,isSigningUp:!1,isSigningOut:!1,isConfirmingAccount:!1,isAddingNewFoodDrink:!1,confirmedCookieFlag:!1});case"FAILURE_SIGNING_OUT":return k({},e,{},t.user,{isSigningOut:!1});case"BEGIN_CONFIRMING_ACCOUNT":return k({},e,{isConfirmingAccount:!0});case"SUCCESS_CONFIRMING_ACCOUNT":return k({},e,{isConfirmingAccount:!1,accountConfirmed:!0});case"FAILURE_CONFIRMING_ACCOUNT":return k({},e,{isConfirmingAccount:!1,accountConfirmed:!1,accountConfirmationError:k({},e,{},e.accountConfirmationError,{},t.payload.error)});case"SET_CONFIRM_COOKIE_FLAG":return k({},e,{confirmedCookieFlag:!0});case"BEGIN_CONFIRM_24_HOUR_MEAL_RESET":return k({},e,{isConfirming24HourMealResetMessage:!0});case"SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET":return k({},e,{confirmed24HourMealResetMessage:!0,isConfirming24HourMealResetMessage:!1});case"FAILURE_CONFIRMING_24_HOUR_MEAL_RESET":return k({},e,{confirmed24HourMealResetMessage:!1,isConfirming24HourMealResetMessage:!1,confirm24HourMealResetMessageErrors:Object(N.a)(t.payload.errors)});case"BEGIN_PASSWORD_RESET":return k({},e,{isSendingResetPasswordEmail:!0});case"SUCCESS_PASSWORD_RESET":return k({},e,{isSendingResetPasswordEmail:!1,resetPasswordEmailSent:!0});case"FAILURE_PASSWORD_RESET":return k({},e,{isSendingResetPasswordEmail:!1,resetPasswordEmailSent:!1});case"SET_FORM_ERROR":return k({},e,{formErrorText:t.payload.error});default:return k({},e)}},dashboardReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN_SAVING_NEW_MEASUREMENT":return D({},e);case"SUCCESS_SAVING_NEW_MEASUREMENT":return D({},e,{measurements:[].concat(Object(N.a)(e.measurements),[t.measurement])});case"FAILURE_SAVING_NEW_MEASUREMENT":return D({},e,{errors:[].concat(Object(N.a)(e.errors),[t.error])});case"BEGIN_SAVING_NEW_FOOD_DRINK":return console.log("dashboardReducer BEGIN_SAVING_NEW_FOOD_DRINK"),D({},e,{successSavingNewFoodDrink:!1,isSavingNewFoodDrink:!0});case"SUCCESS_SAVING_NEW_FOOD_DRINK":return console.log("SUCCESS_SAVING_NEW_FOOD_DRINK"),D({},e,{successSavingNewFoodDrink:!0,isSavingNewFoodDrink:!1});case"FAILURE_SAVING_NEW_FOOD_DRINK":return console.log("FAILURE_SAVING_NEW_FOOD_DRINK",t.payload.errors),D({},e,{successSavingNewFoodDrink:!1,isSavingNewFoodDrink:!1,saveNewFoodDrinkErrors:[].concat(Object(N.a)(e.saveNewFoodDrinkErrors),Object(N.a)(t.payload.errors))});case"PUSH_TO_SAVE_FOOD_DRINK_ERRORS":return D({},e,{saveNewFoodDrinkErrors:[].concat(Object(N.a)(e.saveNewFoodDrinkErrors),Object(N.a)(t.payload.errors))});case"BEGIN_SAVING_MEALS":return D({},e,{isSavingMeals:!0});case"SUCCESS_SAVING_MEALS":case"FAILURE_SAVING_MEALS":return D({},e,{isSavingMeals:!1});case"BEGIN_CREATING_NEW_MEAL":return D({},e,{isCreatingNewMeal:!0});case"SUCCESS_CREATING_NEW_MEAL":return console.log("SUCCESS_CREATING_NEW_MEAL"),D({},e,{isCreatingNewMeal:!1});case"FAILURE_CREATING_NEW_MEAL":return D({},e,{isCreatingNewMeal:!1});default:return D({},e)}},loadingReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADER":return{isLoading:t.isLoading,loadingText:t.loadingText,showSpinner:t.showSpinner};default:return e}},menuReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_MENU":return{menuOpen:!e.menuOpen};default:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)}},alertReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ALERT":return R({},e,{isVisible:a.isVisible,title:a.title,body:a.body,feeling:a.feeling});default:return R({},e)}},detailsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DETAILS":return P({},e,{showDetails:t.payload.showDetails});default:return P({},e)}},stayBoxReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STAY_BOX":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t.payload);default:return e}},totalsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;switch((arguments.length>1?arguments[1]:void 0).type){case"BEGIN_CALCULATING_TOTALS":return L({},e,{isCalculatingTotals:!0});case"CALCULATE_TOTALS_SUCCESS":return L({},e,{isCalculatingTotals:!1});default:return L({},e)}}}),H=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log("An error occured loading state",t)}}(),W=Object(f.d)(q,H,Object(f.a)(g.a));W.subscribe(function(e,t,n){var a;return function(){var r=this,s=arguments,i=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,s)},t),i&&e.apply(r,s)}}(function(){W.getState()},1e3));var K=n(21),Y=n(22),J=n.n(Y),Z=n(151),Q=function(e){return r.a.createElement("div",{className:"home view",styles:Z},r.a.createElement("div",{id:"home-overlay",className:"view-overlay"},r.a.createElement("section",{className:"welcome"},r.a.createElement("h1",null,r.a.createElement("span",null,"24 Hour")," Vitamin Tracking"),r.a.createElement("div",{className:"welcome-buttons"},r.a.createElement("button",{className:"signup-button",type:"button",onClick:function(){return e.history.push("/register")}},"Sign Up"),r.a.createElement("button",{className:"signin-button",type:"button",onClick:function(){return e.history.push("/signin")}},"Sign In"))),r.a.createElement("section",{className:"mobile-version"},r.a.createElement("h1",null,"Mobile version coming soon!"))))},X=n(32),$=n.n(X),ee=n(47),te=n(14),ne={domain:"http://localhost:3000",apiUrl:"http://localhost:1337/api",environment:"production",online:!0,sessionTimeout:24,tokenTimeout:230,minDesktopViewport:768},ae=n(73),re=n.n(ae),se=function(e){var t=e.login,n=e.password,a=e.rememberMe;return J()("".concat(ne.apiUrl,"/auth/signin"),{method:"post",withCredentials:!0,headers:{"Content-type":"application/json"},data:{login:t,password:n,rememberMe:a}})},ie=function(e){var t=e.username,n=e.email,a=e.password;return J()("".concat(ne.apiUrl,"/auth/signup"),{method:"post",headers:{"Content-type":"application/json"},data:{username:t,email:n,password:a}})},oe=function(){return re.a.remove("user_sid"),J()("".concat(ne.apiUrl,"/auth/signout"))},le=function(e,t){try{null!==localStorage.getItem(e)?ue(e,t):"string"===typeof t&&t.indexOf(":")<0?localStorage.setItem(e,t):localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("An error occured at addToLocalStorage",n)}},ce=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){console.warn("An error occured calling localStorage.getItem()",n)}},ue=function(e,t){try{if(null===localStorage.getItem(e))return null;localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("An error occured at updateLocalStorage",n)}},me=function(){try{localStorage.clear()}catch(e){console.warn("An error occured calling localStorage.clear()",e)}},de=function(e,t){return{type:"SET_LOADER",isLoading:e,loadingText:t,showSpinner:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]}},pe=function(e){return{type:"STORE_USER",payload:{user:e}}},he=function(e){return function(t){return t(pe(e)),e.meals&&e.meals.length>0&&le("meals",e.meals),t({type:"SUCCESS_AUTHENTICATING"})}},fe=function(e){return{type:"FAILURE_AUTHENTICATING",payload:{errors:e}}},ge=function(e){return function(){var t=Object(ee.a)($.a.mark(function t(n){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("[action] signUp",e),t.prev=1,t.next=4,ie(e);case 4:a=t.sent,console.log(a),a.data.success?n(ve()):(console.log(a),n(Ee(a.data.data))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Try Catch error block error. Also an error occured in signUp()",t.t0),n(Ee(t.t0));case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(e){return console.log("[action] successSigningUp"),e({type:"SUCCESS_SIGNING_UP"})}},Ee=function(e){return console.log("[action] failureSigningUp",e),{type:"FAILURE_SIGNING_UP",payload:{errors:e}}},be=function(e){return console.log("signIn"),function(){var t=Object(ee.a)($.a.mark(function t(n){return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:se(e).then(function(e){console.log("response",e),200===e.status?n(Oe(e.data.data)):(console.log("response.  ",e.status),setTimeout(function(){n(Se(e.data.data))},5e3))}).catch(function(e){e&&e.response&&e.response.data?n(Se(e.response.data.data)):n(Se("An error occured. Please try again."))});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return console.log("successSigningIn"),function(t){t(pe(e)),e.meals&&e.meals.length>0&&le("meals",e.meals),t({type:"SUCCESS_SIGNING_IN"})}},Se=function(e){return console.log("[userActions] failureSigningIn()",e),function(t,n){return t({type:"FAILURE_SIGNING_IN",payload:{error:e}})}},Ne=function(){return function(e){return e(ye()),e({type:"BEGIN_SIGNING_OUT",payload:{isSigningOut:!0}})}},ye=function(){return function(){var e=Object(ee.a)($.a.mark(function e(t){var n;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return z(),me(),e.next=4,oe();case 4:200===(n=e.sent).status?t(we(n.data)):t(ke(n.data));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},we=function(e){return{type:"SUCCESS_SIGNING_OUT"}},ke=function(e){return{type:"FAILURE_SIGNING_OUT"}},Ce=function(e){return function(t){(function(e){return J()("".concat(ne.apiUrl,"/auth/confirm-account/").concat(e))})(e).then(function(e){var n=e.data,a=n.invalidToken,r=n.tokenExpired,s={};401===e.status?(s.invalidToken=a,s.tokenExpired=r,t(De(s))):201===e.status&&t(Me())}).catch(function(e){console.warn("[ConfirmAccount] error POSTing auth/resend-confirmation",e),t(De(e))})}},Me=function(){return{type:"SUCCESS_CONFIRMING_ACCOUNT"}},De=function(e){return{type:"FAILURE_CONFIRMING_ACCOUNT",payload:{error:e}}},je=function(){return function(e){return e(Ie()),e({type:"BEGIN_CONFIRM_24_HOUR_MEAL_RESET"})}},Ie=function(){return function(e){J()("".concat(ne.apiUrl,"/auth/confirm-24-hour-meal-reset"),{withCredentials:!0}).then(function(t){200===t.status?e(Te(t.data.data)):e(Ae(t.data.errors))}).catch(function(e){})}},Te=function(){return{type:"SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET"}},Ae=function(e){return{type:"FAILURE_CONFIRMING_24_HOUR_MEAL_RESET",payload:{errors:e}}},Re=function(e){return function(t){console.log("sendPasswordRecoveryEmail"),function(e){return console.log("sendResetPasswordEmailRequest email",e),J()("".concat(ne.apiUrl,"/auth/reset-password-email"),{method:"POST",withCredentials:!0,data:{email:e}})}(e).then(function(e){console.log(e),setTimeout(function(){t(xe())},3800)},function(e){console.log("An error occured sending password recovery email",e),setTimeout(function(){t(_e())},3800)})}},xe=function(){return console.log("successPasswordReset"),{type:"SUCCESS_PASSWORD_RESET"}},_e=function(){return console.log("failurePasswordRecovery"),{type:"FAILURE_PASSWORD_RESET"}},Pe=function(e){return console.log("setFormError"),{type:"SET_FORM_ERROR",payload:{error:e}}},Fe=n(152),Be=n(50),Ue=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ve="Password's must match.",Le="This doesn't appear to be a valid email, though we'll send you the confirmation link anyways.",Ge=function(e){var t=Object(a.useState)(""),n=Object(Be.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)(function(){console.log(e.inputName);r.a.Children.toArray(e.children).map(function(e){i(e)})}),r.a.createElement("div",{id:"".concat(e.inputName&&"email"===e.inputName&&s===Le?"email-form-error-text":""),className:"form-error-text flex center-all"},e.children)};Ge.displayName="FormError";var ze=Ge,qe=function(e){var t=e.formGlobalError,n=e.error,s=e.handleOnChange,i=e.handleOnBlur;return Object(a.useEffect)(function(){console.log(n)}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"register-username"},"Username"),r.a.createElement("input",{name:"username",type:"text",id:"register-username",className:""!==n?"form-error-input":"",placeholder:"Username",autoComplete:"on",onChange:s,onBlur:i,required:!0}),""===t&&""!==n&&r.a.createElement(ze,null,n))};qe.displayName="Username";var He=qe,We=function(e){var t=e.formGlobalError,n=e.error,a=e.pattern,s=e.handleOnChange,i=e.handleOnBlur;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"register-email"},"Email"),r.a.createElement("input",{name:"email",type:"email",id:"register-email",className:""!==n?"form-error-input":"",placeholder:"Email",autoComplete:"email",pattern:a,onChange:s,onBlur:i,required:!0}),""===t&&""!==n&&r.a.createElement(ze,{inputName:"email"},n))};We.displayName="Email";var Ke=We,Ye=function(e){var t=e.formGlobalError,n=e.error,s=e.handleOnChange,i=e.handleOnBlur;return Object(a.useEffect)(function(){console.log(t,n)}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"register-password"},"Password"),r.a.createElement("input",{name:"password",type:"password",id:"register-password",className:""!==n?"form-error-input":"",placeholder:"Password",autoComplete:"off",onChange:s,onBlur:i,required:!0}),""===t&&""!==n&&r.a.createElement(ze,null,n))};Ye.displayName="Password";var Je=Ye,Ze=function(e){var t=e.formGlobalError,n=e.error,a=e.handleOnChange,s=e.handleOnBlur;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"register-confirm-password"},"Confirm Password"),r.a.createElement("input",{name:"confirm",type:"password",id:"register-confirm-password",className:""!==n?"form-error-input":"",placeholder:"Confirm your password",autoComplete:"password",onChange:a,onBlur:s,required:!0}),""===t&&""!==n&&r.a.createElement(ze,null,n))};Ze.displayName="ConfirmPassword";var Qe=Ze;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var $e=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).inputsAreAllPopulated=function(){console.log("inputsAreAllPopulated()");var e=n.state,t=document.getElementById("register-username").value.replace(" ",""),a=document.getElementById("register-email").value.replace(" ",""),r=document.getElementById("register-password").value.replace(" ",""),s=document.getElementById("register-confirm-password").value.replace(" ","");return e.username.replace(" ","")&&t&&e.email.replace(" ","")&&a&&e.password.replace(" ","")&&r&&e.confirm.replace(" ","")&&""!==s},n.emailIsValid=function(){return console.log("emailIsValid()"),n.state.email.match(Ue)},n.passwordsMatch=function(){console.log("passwordsMatch()");var e=n.state;return e.password.replace(" ","")===e.confirm.replace(" ","")},n.handleOnChange=function(e){var t,a=n.createInputValidationVariables(e),r=a.name,s=a.capitalizedInputName,i=a.value,o=a.inputIsEmpty,l=a.inputNameErrorText;n.props.setFormError(""),n.setState((t={formErrorText:""},Object(y.a)(t,r,i),Object(y.a)(t,l,o?"".concat(s," is required."):""),t)),"password"===r&&(n.state.confirmErrorText!==Ve&&""===n.state.confirm.replace(" ","")||(i===n.state.confirm.replace(" ","")?n.setState({passwordErrorText:"",confirmErrorText:""}):n.setState({passwordErrorText:Ve}))),"confirm"===r&&n.state.passwordErrorText===Ve&&""!==n.state.password.replace(" ","")&&(i===n.state.password.replace(" ","")?n.setState({passwordErrorText:"",confirmErrorText:""}):n.setState({confirmErrorText:Ve}))},n.handleOnBlur=function(e){var t=n.createInputValidationVariables(e),a=t.name,r=t.capitalizedInputName,s=t.value,i=t.inputIsEmpty,o=t.inputNameErrorText;if(i)n.setState(Object(y.a)({},o,i?"".concat(r," is required."):""));else{var l=document.getElementById("register-password").value.replace(" ",""),c=document.getElementById("register-confirm-password").value.replace(" ","");"email"===a&&n.setState({emailErrorText:s.match(Ue)?"":Le}),"confirm"===a&&n.setState({confirmErrorText:l!==c?Ve:""})}n.props.setFormError("")},n.handleSubmit=function(e){if(e.preventDefault(),n.inputsAreAllPopulated())if(n.passwordsMatch())try{n.setState({formSubmitted:!0},Object(ee.a)($.a.mark(function e(){var t;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={username:n.state.username,email:n.state.email,password:n.state.password},n.props.beginSigningUp(t);case 2:case"end":return e.stop()}},e)})))}catch(i){}else n.emailIsValid()||n.setState({confirmErrorText:n.passwordsMatch()?n.state.confirmErrorText:Ve});else{var t=n.state.username.replace(" ",""),a=n.state.email.replace(" ",""),r=n.state.password.replace(" ",""),s=n.state.confirm.replace(" ","");""===t&&""===a&&""===r&&""===s?n.props.setFormError("Please fill out the form."):(n.props.setFormError(""),n.setState({usernameErrorText:""===t?"Username is required.":n.state.usernameErrorText,emailErrorText:""===a?"Email is required.":n.state.emailErrorText,passwordErrorText:""===r?"Password is required.":""===n.state.passwordValue,confirmErrorText:""===s?"Confirm password is required.":n.state.confirmErrorText}))}},n.state={formSubmitted:!1,registerSuccessfull:!1,formErrorText:"",usernameErrorText:"",emailErrorText:"",passwordErrorText:"",confirmErrorText:"",username:"",email:"",password:"",confirm:""},document.title="Sign Up",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createInputValidationVariables",value:function(e){var t=e.target.name,n="confirm"!==t?"".concat(t[0].toUpperCase()+t.substr(1)):"Your password confirmation",a=e.target.value.replace(" ","");return{name:t,capitalizedInputName:n,value:a,inputIsEmpty:0===a.length,inputNameErrorText:"".concat(t,"ErrorText")}}},{key:"componentDidMount",value:function(){console.log(this.props.location.pathName),this.setState({currentRoute:this.props.location.pathName})}},{key:"componentDidUpdate",value:function(e,t){e.isSigningUp&&!this.props.isSigningUp&&this.setState({formSubmitted:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"register view-with-padding flex column center-all",styles:Fe},r.a.createElement("div",{className:"mobile-nav-links flex space-around align-center"},r.a.createElement(te.a,{to:"/register",className:"register"===this.props.location.pathName?"":"active"},"Register"),r.a.createElement(te.a,{to:"/signin",className:"register"!==this.props.location.pathName?"":"active",signin:!0},r.a.createElement("span",null," Sign In"))),r.a.createElement("div",{className:"h1-form-container"},r.a.createElement("h1",{className:"mobile-view-title"},"Account Setup"),r.a.createElement("h1",{className:"view-title"},"Create your account"),r.a.createElement("form",{id:"register-form",className:"".concat(this.state.validForm?"display-errors":""),onSubmit:this.handleSubmit,noValidate:!0},this.props.formErrorText&&""!==this.props.formErrorText&&r.a.createElement("div",{className:"form-error"},this.props.formErrorText),r.a.createElement(He,{formGlobalError:this.props.formErrorText,error:this.state.usernameErrorText,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement(Ke,{formGlobalError:this.props.formErrorText,error:this.state.emailErrorText,pattern:Ue,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement(Je,{formGlobalError:this.props.formErrorText,error:this.state.passwordErrorText,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement(Qe,{formGlobalError:this.props.formErrorText,error:this.state.confirmErrorText,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement("button",{type:"submit",onClick:this.onSubmit},this.state.formSubmitted&&r.a.createElement("i",{className:"fa fa-spinner fa-pulse"}),!this.state.formSubmitted&&"All Set"),r.a.createElement("h6",{className:"link-to-opposite-form"},r.a.createElement(te.a,{to:"/signin"},"Already a member? ",r.a.createElement("span",null," Sign in here."))))))}}]),t}(a.Component),et=Object(d.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isSigningUp:e.userReducers.isSigningUp,formErrorText:e.userReducers.formErrorText})},function(e){return{beginSigningUp:function(t){return e(function(e){return console.log("[action] beginSigningUp",e),function(t){return t(ge(e)),t({type:"BEGIN_SIGNING_UP"})}}(t))},successSigningUp:function(){return e(ve())},failureSigningUp:function(){return e(Ee())},setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading ...";return e(de(t,n))},setUser:function(t){return e(pe(t))},setFormError:function(t){return e(Pe(t))}}})($e),tt=n(153),nt=function(e){return Object(a.useEffect)(function(){document.title="Successfull Registration"}),r.a.createElement("div",{className:"signup-success view-with-padding flex column center-all",styles:tt},r.a.createElement("h1",null,"Your Account is created!"),r.a.createElement("h2",null,"An email is being sent for you to confirm your account."),r.a.createElement("button",{type:"button",onClick:function(){return alert("make this feature")}},"Didn't receive it? Click here to have it resent."),r.a.createElement("button",{type:"button",onClick:function(){e.history.push("/signin")}},"Sign In"))},at=n(329),rt=function(e){var t=e.formGlobalError,n=e.error,a=e.handleOnChange,s=e.handleOnBlur;return r.a.createElement("div",{className:"form-group"},r.a.createElement(at.a,{name:"login",type:"text",id:"signin-login",className:n?"form-error-input":"",placeholder:"Username or email",autoComplete:"on",onChange:a,onBlur:s,required:!0}),!t&&n&&r.a.createElement(ze,null,n))};rt.displayName="Login";var st=rt,it=function(e){var t=e.formGlobalError,n=e.error,a=e.handleOnChange,s=e.handleOnBlur;return r.a.createElement("div",{className:"form-group"},r.a.createElement(at.a,{name:"password",type:"password",id:"signin-password",className:n?"form-error-input":"",placeholder:"Password",autoComplete:"off",onChange:a,onBlur:s,required:!0}),!t&&n&&r.a.createElement(ze,null,n))};it.displayName="Password";var ot=it,lt=function(e){var t=e.handleRememberMeOnChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"stay-signed-in"},"Stay Signed In?",r.a.createElement("input",{onChange:t,type:"checkbox",name:"stay-logged-in",id:"stay-signed-in"})))};lt.displayName="StaySignedIn";var ct=lt,ut=n(157),mt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={formSubmitted:!1,signInSuccessfull:!1,rememberMe:!1,formErrorText:"",loginErrorText:"",passwordErrorText:"",login:"",password:""},n.handleOnChange=n.handleOnChange.bind(Object(K.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(K.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(K.a)(n)),n.handleRememberMeOnChange=n.handleRememberMeOnChange.bind(Object(K.a)(n)),document.title="Sign In",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){console.log(this.props)}},{key:"createInputValidationVariables",value:function(e){var t=e.target.name,n="".concat(t[0].toUpperCase()+t.substr(1)),a=e.target.value.replace(" ","");return{name:t,capitalizedInputName:n,value:a,inputIsEmpty:0===a.length,inputNameErrorText:"".concat(t,"ErrorText")}}},{key:"inputsAreAllPopulated",value:function(){var e=document.getElementById("signin-login").value.replace(" ",""),t=document.getElementById("signin-password").value.replace(" ","");return""!==this.state.login.replace(" ","")&&""!==e&&""!==this.state.password.replace(" ","")&&""!==t}},{key:"handleOnChange",value:function(e){var t,n=this.createInputValidationVariables(e),a=n.name,r=n.capitalizedInputName,s=n.value,i=n.inputIsEmpty,o=n.inputNameErrorText;i&&this.props.setFormError(""),this.setState((t={formErrorText:""},Object(y.a)(t,a,s),Object(y.a)(t,o,i?"".concat(r," is required."):""),t))}},{key:"handleRememberMeOnChange",value:function(){this.setState({rememberMe:!this.state.rememberMe})}},{key:"handleOnBlur",value:function(e){var t=this.createInputValidationVariables(e),n=t.capitalizedInputName,a=t.inputIsEmpty,r=t.inputNameErrorText;this.setState(Object(y.a)({},r,a?"".concat(n," is required."):"")),this.props.setFormError("")}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.inputsAreAllPopulated()){this.setState({formSubmitted:!0});var t={login:this.state.login,password:this.state.password,rememberMe:this.state.rememberMe};this.props.beginSigningIn(t)}else{var n=this.state.login.replace(" ",""),a=this.state.password.replace(" ",""),r=document.getElementById("signin-login").value.replace(" ",""),s=document.getElementById("signin-password").value.replace(" ","");this.setState({loginErrorText:""===n||""===r?"Login is required.":""}),this.setState({passwordErrorText:""===a||""===s?"Password is required.":""})}}},{key:"render",value:function(){var e=this.state,t=e.loginErrorText,n=e.passwordErrorText,a=(e.formSubmitted,e.isSigningIn,e.validForm),s=this.props.formErrorText;return r.a.createElement("div",{className:"signin flex column view-with-padding center-all",styles:ut},r.a.createElement("div",{className:"h1-form-container flex center-all column"},r.a.createElement("h1",{className:"view-title"},"Sign In"),r.a.createElement("div",{id:"form-error"},s),r.a.createElement("form",{id:"signin-form",className:"signin-form ".concat(a?"display-errors":""),onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(st,{formGlobalError:s,error:t,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement(ot,{formGlobalError:s,error:n,handleOnChange:this.handleOnChange,handleOnBlur:this.handleOnBlur}),r.a.createElement(ct,{handleRememberMeOnChange:this.handleRememberMeOnChange}),r.a.createElement("button",{type:"submit"},this.props.isSigningIn&&r.a.createElement("i",{className:"fa fa-spinner fa-pulse"}),!this.props.isSigningIn&&r.a.createElement("div",null,"Go")),r.a.createElement("h5",{className:"link-to-opposite-form"},r.a.createElement(te.a,{to:"/register"},"Need an account? ",r.a.createElement("span",null," Sign up here."))),r.a.createElement("h6",{className:"link-to-reset-password"},r.a.createElement(te.a,{to:"/reset-password"},"Forgot password? ",r.a.createElement("span",null,"Click here"))))))}}]),t}(a.Component),dt=Object(p.g)(Object(d.b)(function(e){return console.log(e.userReducers),{user:e.userReducers,errors:e.userReducers.errors,isSigningIn:e.userReducers.isSigningIn,formErrorText:e.userReducers.formErrorText}},function(e){return{beginSigningIn:function(t){return e(function(e){return console.log("beginSigningIn"),function(t){t(be(e)),t({type:"BEGIN_SIGNING_IN",payload:{isSigningIn:!0}})}}(t))},setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading ...";return e(de(t,n))},setUser:function(t){e(pe(t))},setFormError:function(t){return e(Pe(t))}}})(mt)),pt=n(63),ht=n.n(pt),ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.log("setStayBox",e,t),{type:"SET_STAY_BOX",payload:{isVisible:e,text:t}}},gt=function(e){return{type:"SET_ALERT",payload:{isVisible:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",body:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",feeling:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info"}}},vt="https://illlive.herokuapp.com/api",Et=n(158),bt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).emailNewToken=function(){""!==n.state.email.replace(" ","")?n.state.email.match(Ue)?J()("".concat(vt,"/auth/resend-confirmation-email"),{method:"post",crossDomain:!0,mode:"no-cors",headers:{"Content-type":"application/json"},data:{email:n.state.email}}).then(function(e){n.setState({formText:e.message}),n.props.setAlert(!0,"Confirmation Email","Email sent!")}).catch(function(e){console.log(e),n.setState({formText:e}),console.log("[ConfirmAccount] error POSTing auth/resend-confirmation | error: ".concat(e))}):n.setState({emailErrorText:Le}):n.setState({emailErrorText:"Email is required."})},n.handleOnChange=function(e){n.setState({email:e.target.value,emailErrorText:""===e.target.value.replace(" ","")?"Email is required.":""})},n.handleOnBlur=function(e){if(""!==n.state.email.replace(" ","")){var t=n.state.email.match(Ue);n.setState({emailErrorText:t?"":Le})}else n.setState({emailErrorText:"Email is required."})},n.state={accountConfirmed:!1,token:"",invalidToken:!1,email:"",emailErrorText:"",formText:"Confirm Your Account"},document.title="Confirm your account",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setLoader(!0,""),this.props.isAuthenticated&&this.props.isConfirmed?(this.props.setLoader(!0,""),setTimeout(function(){e.props.setLoader(!0,"Your account is already confirmed.",!1)},2500),setTimeout(function(){e.props.setLoader(!0,"Let's move onto the app.",!1)},4800),setTimeout(function(){e.props.setLoader(!1,""),e.props.history.push("/me/dashboard")},7e3)):this.props.match.params.token?this.props.beginConfirmingAccount(this.props.match.params.token):(this.setState({formText:"Mmm ... there's something wrong. Try the link sent to your email again, or enter your email to have another link sent."}),setTimeout(function(){e.props.setLoader(!1,"")},2800))}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props.accountConfirmationError;console.log(e,this.props),!e.isConfirmingAccount&&this.props.isConfirmingAccount&&this.props.setLoader(!0,"Confirming your account."),e.isConfirmingAccount&&!this.props.isConfirmingAccount&&(e.isConfirmed||this.props.isConfirmed||pt.isEmpty(a)||this.setState(function(e){return{formText:a.tokenExpired?"Your token expired. Enter your email to have another token sent. You have 30 minutes to confirm that token.":"An error occured confirming your token. Please try refreshing the page, or enter your email for another token."}},function(){return n.props.setLoader(!1,"")}),!e.isConfirmed&&this.props.isConfirmed&&this.setState(function(e){return n.props.setStayBox(!1,""),n.props.setLoader(!0,"Account confirmed!!! Please sign in."),{formText:""}},function(){setTimeout(function(){n.props.setLoader(!1,""),n.props.history.push("/signin")},2500)})),!e.isAuthenticated&&this.props.isAuthenticated&&(this.props.match.params.token?(this.props.isConfirmed&&(this.props.setLoader(!0,""),this.setState({formText:"Your account is already confirmed."}),setTimeout(function(){n.props.setLoader(!0,"Your account is already confirmed.",!1)},2e3),setTimeout(function(){n.props.setLoader(!0,"Routing to your dashboard.")},3800),setTimeout(function(){n.props.setLoader(!1,""),n.props.history.push("/dashboard")},3800)),this.props.beginConfirmingAccount(this.props.match.params.token)):this.props.isConfirmed?(setTimeout(function(){n.props.setLoader(!0,"Your account is already confirmed.")},2e3),setTimeout(function(){n.props.setLoader(!0,"Let's get onto the app!")},3800),setTimeout(function(){n.setLoader(!1,""),n.props.history.push("/dashboard")},5500)):(this.setState({formText:"Mmm ... there's something wrong. Try the link again, or enter your email to have another link sent."}),setTimeout(function(){n.props.setLoader(!1)},2800)))}},{key:"render",value:function(){var e,t,n=this.props.accountConfirmationError,a=""!==this.state.emailErrorText?r.a.createElement("div",{className:"form-error-text"},this.state.emailErrorText):"";return e=!pt.isEmpty(n)&&n.tokenExpired?r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"email-button-group"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Your email",onChange:this.handleOnChange,onBlur:this.handleOnBlur}),r.a.createElement("button",{type:"submit",onClick:this.emailNewToken},"Send")),a):"",t=this.props.isConfirmed?r.a.createElement("div",{className:"form-group"},r.a.createElement(te.a,{to:"/signin",className:"success-link"},"Account confirmed. Click here to sign in!")):"",r.a.createElement("div",{className:"confirm-account view",styles:Et},r.a.createElement("div",{className:"view-header"},r.a.createElement("h1",{className:"view-title"},"Confirm Account")),r.a.createElement("div",{className:"view-main flex column center-all"},r.a.createElement("h1",{className:""},this.state.formText),e,t))}}]),t}(a.Component),Ot=Object(d.b)(function(e){return{token:e.userReducers.confirmationToken,isAuthenticating:e.userReducers.isAuthenticating,isAuthenticated:e.userReducers.isAuthenticated,isConfirmingAccount:e.userReducers.isConfirmingAccount,isConfirmed:e.userReducers.accountConfirmed,accountConfirmationError:e.userReducers.accountConfirmationError}},function(e){return{beginConfirmingAccount:function(t){return e(function(e){return function(t){return t(Ce(e)),t({type:"BEGIN_CONFIRMING_ACCOUNT"})}}(t))},setStayBox:function(t,n){return e(ft(t,n))},setAlert:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e(gt(t,n,a))},setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading ...",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e(de(t,n,a))}}})(bt),St=n(159),Nt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={title:"Some details about me to calculate your recommended amount of vitamins",profileSaved:!1,ageErrorText:"",weightErrorText:"",formErrorText:"",formSubmitted:!1},n.handleOnChange=n.handleOnChange.bind(Object(K.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(K.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(K.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"inputsAreAllPopulated",value:function(){return!0}},{key:"handleOnChange",value:function(e){}},{key:"handleOnBlur",value:function(e){}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.inputsAreAllPopulated()){this.setState({formSubmitted:!0}),function(e){return J.a.post("".concat(ne.apiUrl,"/user/profile-after-signup"),{method:"POST",withCredentials:!0,headers:{"Content-type":"application/json"},data:{body:e}})}({age:this.state.age,weight:this.state.weight}).then(function(e){console.log(e.data);var n=e.data,a=n.success,r=n.message,s=n.data.payload;if(a)return console.log("response data.payload:",s),t.props.setUser(s.foundUser),t.props.setLoader(!0,"Your info has been updated."),t.props.setLoader(!1,"Loading ..."),t.setState({formSubmitted:!1}),void t.props.history.push("/dashboard");t.setState({profileSaved:a,formErrorText:r,formSubmitted:!1},function(){t.props.setLoader(!1)})}).catch(function(e){console.log("fetch api/profile-after-signup error",e),t.setState({formSubmitted:!1,formErrorText:"My bad ... go ahead and try again."}),console.log(e)})}else{var n=this.state.age.replace(" ",""),a=this.state.weight.replace(" ","");this.setState({formErrorText:""===(n||a)?"Please enter your age, weight.":""})}}},{key:"render",value:function(){var e,t=this.state;return""!==t.formErrorText&&(e=r.a.createElement("div",{className:"form-error-text"},t.formErrorText)),r.a.createElement("div",{className:"profile-after-signup view-with-padding center-all",styles:St},r.a.createElement("h1",{className:"view-title"},this.state.title),r.a.createElement("form",{className:"profile-form ".concat(this.state.validForm?"display-errors":""),onSubmit:this.handleSubmit,noValidate:!0},e,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"age",type:"number",id:"intro-profile-age",className:""!==this.state.ageErrorText?"form-error-input":"",placeholder:"My age",onChange:this.handleOnChange,onBlur:this.handleOnBlur,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{ref:"weight",name:"weight",id:"intro-profile-weight",className:""!==this.state.weightErrorText?"form-error-input":"",placeholder:"My weight",onChange:this.handleOnChange,onBlur:this.handleOnBlur,required:!0}),r.a.createElement("select",{name:"weight-measurement",id:"weight-measurement",ref:"weight-measurement",onChange:this.handleOnChange},r.a.createElement("option",{value:"lbs",selected:!0},"lbs"),r.a.createElement("option",{value:"kg",selected:!0},"kg"))),r.a.createElement("button",{type:"submit"},this.state.formSubmitted&&r.a.createElement("i",{className:"fa fa-spinner fa-pulse"}),!this.state.formSubmitted&&"Go"),r.a.createElement("h6",{className:"link-to-opposite-form"},r.a.createElement(te.a,{to:"/dashboard"},"Set these values later?"))))}}]),t}(a.Component),yt=Object(p.g)(Object(d.b)(function(e){return{user:e.userReducers}},function(e){return{setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading ...";return e(de(t,n))},setUser:function(t){e(pe(t))}}})(Nt)),wt=n(160),kt=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),document.title="Dashboard",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard view-with-padding flex center-all",style:wt},r.a.createElement("div",{className:"view-main flex center-all"},r.a.createElement("nav",{className:"dashboard-menu flex center-all"},r.a.createElement("div",{className:"dashboard-menu-route"},r.a.createElement(te.a,{to:"/add",className:"flex"},r.a.createElement("div",{className:"link-container flex center-all"},r.a.createElement("i",{className:"fas fa-apple-alt"}),r.a.createElement("span",null,"Add a Item")))),r.a.createElement("div",{className:"dashboard-menu-route"},r.a.createElement(te.a,{to:"/make-a-meal",className:"flex"},r.a.createElement("i",{className:"fas fa-blender"}),r.a.createElement("span",null,"Make a Meal"))),r.a.createElement("div",{className:"dashboard-menu-route"},r.a.createElement(te.a,{to:"/totals",className:"flex"},r.a.createElement("i",{className:"fas fa-box"}),r.a.createElement("span",null,"Totals"))),r.a.createElement("div",{className:"dashboard-menu-route"},r.a.createElement(te.a,{to:"/account",className:"flex"},r.a.createElement("i",{className:"fas fa-box"}),r.a.createElement("span",null,"Account"))))))}}]),t}(a.Component),Ct=Object(p.g)(Object(d.b)(function(e){return{user:e.userReducers,accountConfirmed:e.userReducers.accountConfirmed,confirm24HourMealReset:e.userReducers.confirm24HourMealResetMessage}},function(e){return{setLoader:function(t,n){e(de(t,n))},beginConfirm24HourMealReset:function(){return e(je())}}})(kt)),Mt=n(6),Dt=n.n(Mt),jt=n(61),It=n.n(jt),Tt=n(161),At=n.n(Tt),Rt=n(162),xt=(n(163),function(e){return console.log("[DashboardService] sendSaveMealsRequest",e),J()("".concat(ne.apiUrl,"/user/saveMeals"),{method:"post",headers:{"Content-type":"application/json"},withCredentials:!0,data:{meals:e}})}),_t=function(e){return function(t){(function(e){return console.log("[DashboardService] sendSaveFoodDrinkRequest",e),J()("".concat(ne.apiUrl,"/user/add"),{method:"post",headers:{"Content-type":"application/json"},withCredentials:!0,data:{foodDrink:e}})})(e).then(function(e){console.log("response from sendSaveFoodDrinkRequest",e),200===e.status?t(Pt(e.data.data.savedUser)):t(Ft())}).catch(function(e){console.log("[Add -> saveFoodDrink] An error occured",e)})}},Pt=function(e){return function(t){return t(gt(!0,"Item added!","","success")),t(pe(e)),setTimeout(function(){t(gt(!1,""))},2800),t({type:"SUCCESS_SAVING_NEW_FOOD_DRINK"})}},Ft=function(e){return{type:"FAILURE_SAVING_NEW_FOOD_DRINK",payload:{errors:e}}},Bt=function(e){return function(t){(function(e){return console.log("[DashboardService] sendCreateNewMealRequest",e),J()("".concat(ne.apiUrl,"/user/createNewMeal"),{method:"post",headers:{"Content-type":"application/json"},withCredentials:!0,data:{meal:e}})})(e).then(function(e){console.log("response from sendSaveFoodDrinkRequest",e),200===e.status?t(Ut(e.data.data)):t(Vt(e.dashboardActions))}).catch(function(e){console.log("[Add -> saveFoodDrink] An error occured",e)})}},Ut=function(e){return console.log("successCreatingNewMeal"),function(t){return t(function(e){return function(t){return t(pe(e)),{type:"BEGIN_STORING_USER"}}}(e)),t({type:"SUCCESS_CREATING_NEW_MEAL"})}},Vt=function(e){return{type:"FAILURE_CREATING_NEW_MEAL",payload:{errors:e}}},Lt=function(e){return function(){var t=Object(ee.a)($.a.mark(function t(n){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xt(e);case 2:a=t.sent,console.log(a),200===a.status?n(Gt(a.data.data)):n(zt(a.data.data));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Gt=function(e){return function(t){return console.log("successSavingMeals",e),t(pe(e)),t({type:"SUCCESS_SAVING_MEALS"})}},zt=function(e){return{type:"FAILURE_SAVING_MEALS",payload:{errors:e}}},qt=function(){return function(e,t){var n=t().userReducers.meals;t().totalsReducers.totals;return n.forEach(function(e){e.foodDrinks.forEach(function(e){})}),e({type:"CALCULATE_TOTALS_SUCCESS",payload:{newTotals:{}}})}},Ht=(n(141),n(64)),Wt=n.t(Ht,2);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Yt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{title:"Details",consumable:null,vitamins:null,consumableId:null,consumableIndex:0}),n.closeModal=n.closeModal.bind(Object(K.a)(n)),n.handleOnNext=n.handleOnNext.bind(Object(K.a)(n)),n.handleOnPrevious=n.handleOnPrevious.bind(Object(K.a)(n)),n.outputItemMeasurementOptions=n.outputItemMeasurementOptions.bind(Object(K.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),this.setState({vitamins:Ht.vitamins},function(){console.log(e.state.vitamins)})}},{key:"componentWillReceiveProps",value:function(){}},{key:"setSelectedConsumable",value:function(e){}},{key:"closeModal",value:function(){this.props.close()}},{key:"handleOnPrevious",value:function(){var e=this.props.user,t=this.state.consumableIndex;e&&e.hasOwnProperty("consumables")&&Array.isArray(e.consumables)&&(t<=0||this.setState({item:e.consumables[t-1],consumableIndex:t-1}))}},{key:"handleOnNext",value:function(){var e=this.props.user,t=this.state.consumableIndex;e&&e.hasOwnProperty("consumables")&&Array.isArray(e.consumables)&&(t+1>=e.consumables.length||this.setState({item:e.consumables[t+1],consumableIndex:t+1}))}},{key:"outputMeasurement",value:function(e){var t=this.state.vitamins.find(function(n,a){return n.inputName===e?(t=n.measurement,n.measurement):void 0});return t}},{key:"outputConsumableDetails",value:function(){var e=this,t=this.props.user,n=this.state.vitamins;return t.consumables.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,e.state.vitamins[a].name,":"),n[a].measurement))})}},{key:"add",value:function(e){console.log(e)}},{key:"outputItemMeasurementOptions",value:function(e){return e.map(function(e,t){return r.a.createElement("option",{name:"servingSize",key:t+1,ref:"servingSize",value:"m"},e)})}},{key:"render",value:function(){var e,t=this,n=this.state.item,a="";return n&&(n.hasOwnProperty("servingSize"),n.hasOwnProperty("itemName")?(a=n.itemName,e=r.a.createElement("div",{className:"consumable-wrapper"},r.a.createElement("ul",{className:"vitamins"},this.outputConsumableDetails,r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin A:"),n.vitaminA,r.a.createElement("div",{className:"my-amounts"},r.a.createElement("div",null,"RDA: 100"),r.a.createElement("div",null,"Current: 42"))),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B1:"),n.vitaminB1),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B2:"),n.vitaminB2),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B3:"),n.vitaminB3),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B5:"),n.vitaminB5),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B6:"),n.vitaminB6),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B7:"),n.vitaminB7),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin B12:"),n.vitaminB12),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Calium:"),n.calcium),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Chromium:"),n.chromium),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Choline:"),n.choline),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Copper:"),n.copper),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Flouride:"),n.flouride),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Folic Acid:"),n.folicAcid),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Iodine:"),n.iodine),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Iron:"),n.iron),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Magnesium:"),n.magnesium),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Phosphorus:"),n.phosphorus),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Potassium:"),n.potassium),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Selenium:"),n.selenium),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Salt:"),n.salt),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin D3:"),n.vitaminD3),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin E:"),n.vitaminE),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Vitamin K:"),n.vitaminK),r.a.createElement("li",{className:"vitamin"},r.a.createElement("span",null,"Zinc:"),n.zinc)))):e=r.a.createElement("div",{className:"consumable-wrapper"},r.a.createElement("p",{className:"no-item-selected"},"No item selected."))),r.a.createElement("div",{className:"detail view"},r.a.createElement("div",{className:"detail-header"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"close-container"},"Close ",r.a.createElement("i",{className:"fa fa-times close",onClick:this.closeModal}))),r.a.createElement("div",{className:"detail-controls"},r.a.createElement("div",{className:"previous",onClick:function(){t.handleOnPrevious()}},"Previous"),r.a.createElement("div",{className:"next",onClick:function(){t.handleOnNext()}},"Next Item")),e)}}]),t}(a.Component),Jt=Object(d.b)(function(e){return{showAlert:e.alertReducers.showAlert,user:e.userReducers}},function(e){return{setAlert:function(t,n){return e(gt(t,n))}}})(Yt),Zt=n(328),Qt=function(e){return r.a.createElement("div",{className:"select-a-meal-message flex center-all"},"Please select a meal")},Xt=Zt.a.Option,$t=function(e){return r.a.createElement("div",{className:"consumable-error serving-size-error-message"},"Select a serving size.")},en=function(e){return r.a.createElement("div",{className:"consumable-error quantity-error-message"},"Enter the number of servings.")},tn=function(e){return r.a.createElement("button",{type:"button",className:"add",onClick:e.save},"Add")},nn=function(e){return r.a.createElement("div",{"data-consumable-id":e.selectedFoodDrink._id,className:"flex column ".concat("food"===e.selectedFoodDrink.foodOrDrink?"food":"drink")},r.a.createElement("form",{className:"consumable-form flex column space-around align-center"},r.a.createElement("div",{className:"serving-size"},r.a.createElement("label",{htmlFor:"serving-size-select"},"Serving Size",r.a.createElement(Zt.a,{name:"serving-size",id:"serving-size-select",defaultValue:e.selectedFoodDrink.servingSize,onChange:e.servingSizeOnChange},r.a.createElement(Xt,{disabled:!0,key:"Select a serving size"},"Select a serving size"),e.servingSizes.map(function(e,t){return r.a.createElement(Xt,{key:t+1,value:e},e)})),e.formSubmitted&&(!e.selectedFoodDrink.servingSize||"Select a serving size"===e.selectedFoodDrink.servingSize||""===e.selectedFoodDrink.servingSize)&&r.a.createElement($t,null))),r.a.createElement("div",{className:"quantity"},r.a.createElement("label",{htmlFor:"servings-input"},"How many servings?",r.a.createElement(at.a,{id:"servings-input",type:"number",name:"numOfServings",value:String(e.selectedFoodDrink.numOfServings),placeholder:"3 servings",onChange:function(t){e.setFormIsSubmitted(!1),e.handleNumOfServingsOnChange(t)}}),e.formSubmitted&&!e.selectedFoodDrink.numOfServings&&r.a.createElement(en,null))),r.a.createElement(tn,{save:e.saveFoodDrinkToMeal})))},an=Object(d.b)(function(e){return{user:e.userReducers}},function(e){return{}})(function(e){return e.user.foodDrinks.length<1?r.a.createElement("div",{className:"add-first-food-item"},r.a.createElement(te.a,{to:"/me/add"},"Add my first item")):r.a.createElement("div",null)}),rn=n(168),sn=Zt.a.Option,on=Object(d.b)(function(e){return{user:e.userReducers}},function(e){return{}})(function(e){var t=e.foodDrinks,n=t&&t.length,a=Dt()("flex","column","align-start",{"space-between":n<1},{"justify-start":n>=1}),s=t.sort().map(function(e,t){return r.a.createElement(sn,{className:"consumable-option",name:"consumable-option",value:e._id,key:t},e.name," [",e.foodOrDrink,"] (",e.selectedMeasurement,")")});return r.a.createElement("section",{className:"choose-a-consumable",value:e.foodDrinkSelectValue,style:rn},r.a.createElement("div",{className:"consumable flex column space-between align-center"},r.a.createElement("div",{className:a},r.a.createElement("h2",null,"1. Choose a item:"),r.a.createElement("div",{className:"flex align-center select-and-new-consumable-link-container"},r.a.createElement(Zt.a,{key:123,id:"consumables-select",className:"".concat(n<1?"no-margin-right":""),name:"consumable-select",defaultValue:"Choose",onChange:e.foodDrinkSelectOnChange,placeholder:"Select a consumable"},r.a.createElement(sn,{disabled:!0,key:123},"Choose a consumable"),s),r.a.createElement(te.a,{className:"add-new-consumable-link",to:"/me/add"},r.a.createElement("i",{className:"fa fa-plus"}," ")," Add a new item")),r.a.createElement(an,null)),e.selectedFoodDrink.hasOwnProperty("_id")&&r.a.createElement(nn,{selectedFoodDrink:e.selectedFoodDrink,selectedMeal:e.selectedMeal,servingSizes:e.servingSizes,formSubmitted:e.formSubmitted,servingSizeOnChange:e.servingSizeOnChange,setFormIsSubmitted:e.setFormIsSubmitted,handleNumOfServingsOnChange:e.handleNumOfServingsOnChange,saveFoodDrinkToMeal:e.saveFoodDrinkToMeal}),e.formSubmitted&&null!==e.selectedFoodDrink.servingSize&&null!==e.selectedFoodDrink.numOfServings&&!e.selectedMeal.hasOwnProperty("name")&&r.a.createElement(Qt,null)))}),ln=function(e){var t,n,s,i,o,l=e.meal,c=e.deleteMeal,u=e.mealsLength,m=e.saveMealName,d=e.mealNameOnChange,p=r.a.useState(""),h=Object(Be.a)(p,2),f=h[0],g=h[1],v=r.a.useState(!1),E=Object(Be.a)(v,2),b=E[0],O=E[1],S=r.a.useState(!1),N=Object(Be.a)(S,2),y=N[0],w=N[1],k=r.a.useState(!0),C=Object(Be.a)(k,2),M=C[0],D=C[1],j=r.a.useState({}),I=Object(Be.a)(j,2),T=I[0],A=I[1],R=r.a.useState(!1),x=Object(Be.a)(R,2),_=x[0],P=x[1];if(Object(a.useEffect)(function(){if(!_)for(var e in T)Object.hasOwnProperty(e)||T.id!==l.id&&D(!0),P(!0);A(l),setTimeout(function(){return D(!1)},2e3)}),l){var F=Dt()("edit",{"show-edit":M});s=r.a.createElement("div",{className:"set-meal-name-input-container"},r.a.createElement(at.a,{className:"set-meal-name-input",autoFocus:!0,placeholder:"My meal name is ...",value:f,onChange:function(e){e.stopPropagation(),g(e.target.value),d(e.target.value)}}),r.a.createElement("div",{className:"set-meal-name-controls flex space-between align-center"},r.a.createElement("div",{onClick:function(){m(),g(""),O(!1)}},"Save"),r.a.createElement("div",{onClick:function(){O(!1),g("")}},"Cancel"))),n=l.name?r.a.createElement("div",{className:"meal-name-text"},r.a.createElement("span",{className:"selected-meal"},"Selected Meal"),": ","".concat(l.name),r.a.createElement("span",{className:F},"(edit)")):r.a.createElement("div",null,"Meal ","".concat(u)," ",r.a.createElement("span",{className:"edit"},"(edit)")),t=r.a.createElement("h1",{className:"meal-header-meal-name flex center-all",onClick:function(){return O(!b)}},n),i=l.foodDrinks.map(function(e,t){return r.a.createElement("table",{key:t},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Serving Size"),r.a.createElement("th",null,"Measurement"),r.a.createElement("th",null,"Number Of Servings"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,String(e.servingSize)),r.a.createElement("td",null,String(e.selectedMeasurement)),r.a.createElement("td",null,String(e.numOfServings)))))}),(!l.foodDrinks.length||l.foodDrinks.length<1)&&(o=r.a.createElement("div",{className:"no-items-in-the-meal"},"You haven't made this meal yet"))}return r.a.createElement("div",{className:"meal",onClick:function(){w(!y)}},r.a.createElement("div",{className:"meal-header flex space-between align-center"},b?"":t,b&&s,r.a.createElement("i",{className:"fa fa-trash",onClick:function(e){e.stopPropagation(),c(l.id)}})),r.a.createElement("div",{className:"meal-main"},o,i))},cn=n(169),un=Zt.a.Option,mn=function(e){var t,n,s=e.meals,i=e.selectedMeal,o=e.createNewMeal,l=e.saveMeals,c=e.deleteMeal,u=e.saveMealName,m=e.handleMealNameOnChange,d=e.handleMealSelectOnChange;return Object(a.useEffect)(function(){console.log("selectedMeal",i,typeof i)}),s&&s.length&&(t=s.map(function(e,t){return r.a.createElement(un,{key:t+1,value:e._id},e.name)})),s&&s.length||(n=r.a.createElement("div",{className:"no-meals-text"},"No meals created today.")),r.a.createElement("section",{className:"my-meals",style:cn},r.a.createElement("h2",{className:"section-title"},"2. Make a meal"),r.a.createElement("div",{className:"meals-select-buttons-container flex space-between align-center"},r.a.createElement("div",{className:"meals-select-container"},r.a.createElement(Zt.a,{key:"choose a meal select",id:"meals-select",name:"meals-select",defaultValue:i.hasOwnProperty("_id")?i._id:"Pick a meal",onChange:function(e){d(e)},placeholder:"Select a consumable"},r.a.createElement(un,{disabled:!0,key:"choose a meal"},"Choose a meal"),t)),r.a.createElement("div",{className:"buttons flex space-around align-center"},r.a.createElement("button",{type:"button",className:"new-meal",onClick:function(){return o()}},"New meal"),r.a.createElement("button",{type:"button",className:"save-meals",onClick:function(){return l()}},"Save my meals"))),r.a.createElement("div",{className:"meals-container"},i&&i.hasOwnProperty("_id")&&r.a.createElement(ln,{selectedMeal:i,meal:s.find(function(e){return e._id===i._id}),mealsLength:s.length,deleteMeal:c,saveMealName:u,mealNameOnChange:m})),n)};mn.displayName="SeeTheMeals";var dn=mn,pn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component);function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var gn={position:"absolute"},vn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getDateAndTimeZone=function(){var e=new Date,t=It()(e),n=t.format("MMMM"),a=t.format("DD"),r=t.format("YYYY");return{date:"".concat(n," ").concat(a,", ").concat(r),timezoneGuess:At.a.tz.guess()}},n.createNewMeal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.state.selectedFoodDrink,a=n.props.user.meals,r=!1;for(var s in e)e.hasOwnProperty(s)&&(r=!0,e.numOfServings=t.numOfServings);var i=a.length&&0!==a.length?a.length+1:1,o={id:i,name:"Meal-".concat(i),foodDrinks:r?[e]:[],saved:!1};n.props.beginCreatingNewMeal(o)},n.addConsumableToMeal=function(){var e,t,a,r,s=n.state,i=s.selectedMeal,o=s.selectedFoodDrink,l=n.props.user.meals,c=o.numOfServings,u=(o.servingSize,l),m=fn({},o),d=fn({},i),p=l&&l.length>=1,h=!i||!i.hasOwnProperty("id");p?p&&h?n.setState({showSelectAMealMessage:!0}):(r=l.findIndex(function(e){return e.id===i.id}),a=n.foodDrinkAlreadyIncluded(m),e=n.foodDrinksAreSameMeasurement(m),!a||a&&!e?d.foodDrinks.push(m):a&&e&&(t=d.foodDrinks.findIndex(function(e){return e._id===o._id&&e.servingSize===o.servingSize}),d.foodDrinks[t].numOfServings+=parseFloat(c)),u[r]=d,n.setState({meals:u,selectedMeal:Object.assign({},n.state.selectedMeal,d),formSubmitted:!1,selectedFoodDrink:Object.assign(n.state.selectedFoodDrink,{numOfServings:0,servingSize:"Select a serving size",measurement:""})})):n.createNewMeal(o)},n.deleteMeal=function(e){var t,a=n.state.meals;1===n.props.user.meals.length?t=[]:(console.log(a),t=a.filter(function(t){return t.id!==e})),n.setState({meals:Object(N.a)(t),selectedMeal:t.length?t[t.length-1]:{id:"Choose a meal"}},function(){console.log(n.props.user.meals),0===n.props.user.meals.length?me():le("meals",n.props.user.meals)})},n.foodDrinkAlreadyIncluded=function(e){var t,a=n.state.selectedMeal;return a&&a.hasOwnProperty("foodDrinks")&&a.foodDrinks.length&&(t=a.foodDrinks.some(function(t,n){return t._id===e._id})),t},n.foodDrinksAreSameMeasurement=function(e){var t,a=n.state.selectedMeal;return a&&a.hasOwnProperty("foodDrinks")&&a.foodDrinks.length&&(t=a.foodDrinks.some(function(t,n){return t.servingSize===e.servingSize})),t},n.saveMeals=function(){n.props.beginSavingMeals(n.props.user.meals)},n.setSelectedMeal=function(e){n.setState({selectedMeal:Object.assign({},n.state.selectedMeal,e)},function(){return le("selectedMeal",n.state.selectedMeal)})},n.makeAMealName=function(e,t){console.log("makeAMealName",e,t);var a=n.state,r=a.meals,s=a.selectedMeal,i=n.props.user.meals;r.find(function(t,a){t.id===s.id&&(i[a].name=e,n.setState({meals:[i],mealName:""},function(){return le("meals",n.props.user.meals)}))})},n.addNewMeasurement=function(e){console.log("[MakeAMeal addNewMeasurement(id)]",e)},n.toggleMealNameInput=function(e){console.log("[MakeAMeal] toggleMealNameInput()"),n.setState({showMealNameInput:"open"===e})},n.saveMealName=function(){console.log("[MakeAMeal -> saveMealName()]");var e=n.state,t=e.selectedMeal,a=e.mealName,r=e.meals,s=r.find(function(e){return e.id===t.id});s.name=a,n.setState({meals:r.map(function(e){return e.id===t.id?fn({},e,{name:a}):e}),selectedMeal:Object.assign({},n.state.selectedMeal,s)},function(){console.log(n.props.user.meals),le("meals",n.props.user.meals)})},n.setFormSubmitted=function(e){n.setState({formSubmitted:e})},n.saveFoodDrinkToMeal=function(){var e=n.state.selectedFoodDrink,t=e.servingSize,a=e.numOfServings,r=n.isFoodFormValid();n.setFormSubmitted(!0),r&&""!==t&&"Select a serving size"!==t&&a&&""!==a&&n.addConsumableToMeal()},n.handleOnCloseDetail=function(){n.setState({showDetailModal:!1})},n.isFoodFormValid=function(){var e=n.state.selectedFoodDrink,t=e.servingSize,a=e.numOfServings;return""!==t&&"Select a serving size"!==t&&a},n.handleMealNameOnChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({mealName:e.trim()})},n.handleFoodDrinkSelectOnChange=function(e){var t=n.props.user.foodDrinks,a=t.find(function(t){return t._id===e});t&&t.length&&a&&n.setState({formSubmitted:!1,selectedFoodDrink:fn({},n.state.selectedFoodDrink,{},a,{servingSize:"Select a serving size",measurement:a.selectedMeasurement,numOfServings:""})})},n.handleNewMeasurementOnChange=function(e){n.setState({newMeasurement:e.target.value})},n.handleNumOfServingsOnChange=function(e){var t,a=n.state.selectedFoodDrink,r=e.target.value;t=0===r[0]?r.split("").slice(1):r,n.setState({selectedFoodDrink:fn({},a,{numOfServings:t.replace(/[^0-9]+/g,"")})},function(){return console.log(n.state.selectedFoodDrink)})},n.handleServingSizeOnChange=function(e){console.log("handleServingSizeOnChange",e);n.state.selectedFoodDrink;n.setState({selectedFoodDrink:Object.assign({},n.state.selectedFoodDrink,{servingSize:e})})},n.handleMeasurementOnChange=function(e){var t=n.state.selectedFoodDrink;n.setState({selectedFoodDrink:fn({},t,{measurement:e.target.value})})},n.handleMealSelectOnChange=function(e){e.persist(),console.log("handleMealSelectOnChange",e.target.value),console.log(n.props.user.meals);var t=n.props.user.meals.find(function(t){return t._id===e.target.value});t&&(console.log("foundMeal",t),n.setState({selectedMeal:fn({},t),showSelectAMealMessage:!1},function(){le("selectedMeal",t)}))},n.confirmMealReset=function(){n.props.beginConfirmMealReset24Hours()},n.state={title:"Make a meal",date:"",timezoneGuess:"",showDetailModal:!1,servingSizes:["1","3/4","1/2","1/3","1/4","1/8","1/16","1/32"],newMeasurement:"",selectedFoodDrink:{numOfServings:0,servingSize:"Select a serving size",measurement:""},meals:[],selectedMeal:{},mealName:"",showMealNameInput:!1,foodDrinkSelectValue:"Choose",formSubmitted:!1,showSelectAMealMessage:!1},n.quantityRef=r.a.createRef(),document.title="Make a Meal",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount");var e,t,n,a=this.getDateAndTimeZone(),r=a.date,s=a.timezoneGuess;if(console.log("this.props.user",this.props.user),this.props.user.isAuthenticated){this.props.user.meals&&1===this.props.user.meals.length&&(console.log("this.props.user.meals && this.props.user.meals.length === 1"),this.setState({selectedMeal:fn({},this.props.user.meals[0])}));try{(n=ce("meals"))?n&&n.length&&(e=n):e=this.props.user.meals}catch(i){console.warn("An error occured calling localStorage.getItem('meals')",i),e=this.props.user.meals}try{t=ce("selectedMeal")||this.state.selectedMeal}catch(i){console.log("An error occured calling localStorage.getItem('selectedMeal')",i),t=this.state.selectedMeal}this.setState({date:r,timezoneGuess:s,meals:Object(N.a)(e),selectedMeal:Object.assign({},this.state.selectedMeal,t)})}else this.setState({date:r,timezoneGuess:s})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.user.isAuthenticated){if(e.isCreatingNewMeal&&!this.props.isCreatingNewMeal&&this.props.setLoader(!1),console.log(e.user,this.props.user),e.user.meals&&!e.user.meals.length&&1===this.props.user.meals.length&&(console.log("props.user.meals.length === 1"),this.setState({selectedMeal:fn({},this.props.user.meals[0])})),e.isSavingMeals&&!this.props.isSavingMeals&&(ue("meals",this.props.user.meals),function(e){try{return null!==localStorage.getItem(e)}catch(t){}}("selectedMeal"))){var n=ce("selectedMeal");n&&ue("selectedMeal",this.props.user.meals.filter(function(e){return n._id?e._id===n._id:e.id===n.id}))}!t.selectedMeal&&this.state.selectedMeal&&console.log(this.state.selectedMeal)}!e.user.isAuthenticated&&this.props.user.isAuthenticated&&this.props.user.meals&&1===this.props.user.meals.length&&(console.log("props.user.meals.length === 1"),this.setState({selectedMeal:fn({},this.props.user.meals[0])}))}},{key:"render",value:function(){var e,t,n=this,a=this.props.user,s=this.state,i=s.meals,o=s.servingSizes,l=(s.selectedMeal,s.timezoneGuess,s.formSubmitted),c=s.selectedFoodDrink,u=s.showSelectAMealMessage,m=c.servingSize,d=c.numOfServings,p=a.foodDrinks&&a.foodDrinks.length<1;Dt()("flex","column","align-start",{"space-between":!p},{"justify-start":p});return!l||m&&""!==m||(t=r.a.createElement("div",{className:"consumable-error serving-size-error-message"},"Select a serving size.")),!l||d&&0!==parseFloat(d)||(e=r.a.createElement("div",{className:"consumable-error quantity-error-message"},"Enter the number of servings.")),p&&r.a.createElement("div",{className:"add-first-food-item"},r.a.createElement(te.a,{to:"/me/add"},"Add my first item")),a.foodDrinks&&a.foodDrinks.length&&a.foodDrinks.sort().map(function(e,t){return r.a.createElement("option",{className:"consumable-option",name:"consumable-option",value:e._id,key:t},e.name," [",e.foodOrDrink,"] (",e.selectedMeasurement,")")}),c.hasOwnProperty("_id")&&r.a.createElement("div",{ref:"consumable","data-consumable-id":c._id,className:"flex column ".concat("food"===c.foodOrDrink?"food":"drink")},r.a.createElement("form",{className:"consumable-form flex column space-around align-center"},r.a.createElement("div",{className:"serving-size"},r.a.createElement("label",{htmlFor:"serving-size-select"},"Serving Size",r.a.createElement("select",{ref:"serving-size",name:"serving-size",id:"serving-size-select",value:c.servingSize,onChange:this.handleServingSizeOnChange},r.a.createElement("option",{disabled:!0,selected:!0,value:""},"Select a Serving"),o.map(function(e,t){return r.a.createElement("option",{key:t+1,value:e},e)})),t)),r.a.createElement("div",{className:"quantity"},r.a.createElement("label",{htmlFor:"quantity-input"},"How many servings?",r.a.createElement(at.a,{id:"quantity-input",type:"number",name:"numOfServings",value:String(d),placeholder:"How many?",onChange:function(e){n.setFormSubmitted(!1),n.handleNumOfServingsOnChange(e)}}),e)),void 0)),i&&i.length&&this.props.user.meals.map(function(e,t){return r.a.createElement("option",{key:t+1,value:e.id},e.name)}),u&&l&&r.a.createElement("div",{className:"select-a-meal-message flex center-all"},"Please select a meal"),this.props.user.isAuthenticated?r.a.createElement(pn,null,r.a.createElement("div",{className:"make-a-meal view center-all",styles:Rt},r.a.createElement("div",{className:"view-main"},r.a.createElement("div",{className:"content"},r.a.createElement(on,{formSubmitted:this.state.formSubmitted,selectedMeal:this.state.selectedMeal,foodDrinks:this.props.user.foodDrinks,foodDrinkSelectValue:this.state.foodDrinkSelectValue,selectedFoodDrink:c,servingSizes:o,foodDrinkSelectOnChange:this.handleFoodDrinkSelectOnChange,servingSizeOnChange:this.handleServingSizeOnChange,setFormIsSubmitted:this.setFormSubmitted,handleNumOfServingsOnChange:this.handleNumOfServingsOnChange,saveFoodDrinkToMeal:this.saveFoodDrinkToMeal}),r.a.createElement(dn,{meals:this.props.user.meals,selectedMeal:this.state.selectedMeal,createNewMeal:this.createNewMeal,deleteMeal:this.deleteMeal,saveMeals:this.saveMeals,saveMealName:this.saveMealName,handleMealNameOnChange:this.handleMealNameOnChange,handleMealSelectOnChange:this.handleMealSelectOnChange}))),this.state.showDetailModal&&r.a.createElement(Jt,{styles:gn,servingSize:this.state.servingSize,item:this.state.selectedFoodDrink,close:this.handleOnCloseDetail}))):r.a.createElement("div",null,"Waiting...")}}]),t}(a.Component),En=Object(d.b)(function(e){return{confirmed24HourMealResetMessage:e.userReducers.confirmed24HourMealResetMessage,isConfirming24HourMealResetMessages:e.userReducers.isConfirming24HourMealResetMessages,isConfirming24Message:e.userReducers.isConfirming24HourMealResetMessage,showAlert:e.alertReducers.showAlert,isSavingMeals:e.dashboardReducers.isSavingMeals,isCreatingNewMeal:e.dashboardReducers.isCreatingNewMeal,user:e.userReducers}},function(e){return{setUser:function(t){return e(pe(t))},setAlert:function(t,n,a){return e(gt(t,n,a))},setLoader:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e(de(t,n,a))},beginConfirmMealReset24Hours:function(){return e(je())},beginCreatingNewMeal:function(t){return e(function(e){return console.log("beginCreatingNewMeal meal",e),function(t){return t(Bt(e)),t({type:"BEGIN_CREATING_NEW_MEAL"})}}(t))},calculateTotals:function(){return e(qt())},beginSavingMeals:function(t){return e(function(e){return function(t){return t(Lt(e)),t({type:"BEGIN_SAVING_MEALS"})}}(t))}}})(vn),bn=n(95),On=(n(15),n(170)),Sn={form:{width:"350rem",maxWidth:"25rem",height:"50vh",minHeaight:"20rem",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"0.5rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"999999999"},confirmText:{color:"#222",fontSize:"1.5rem"},button:{width:"9rem",margin:"1rem auto",fontSize:"1.5rem",backgroundColor:"#333",border:"none",boxShadow:"0 0.2rem 0.2rem #000"}},Nn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).answer=n.answer.bind(Object(K.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"answer",value:function(e){console.log("[AreYouSure] answer( ".concat(e," )")),this.props.answerIs(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"flex center-all",style:Sn.form},r.a.createElement("p",{style:Sn.confirmText},"Are you sure?"),r.a.createElement("button",{className:"btn btn-primary",style:Sn.button,type:"button",onClick:function(){e.answer("yes")}},"Yes"),r.a.createElement("button",{className:"btn btn-primary",style:Sn.button,type:"button",onClick:function(){e.answer("no")}},"No"))}}]),t}(a.Component),yn=n(327),wn=function(e){return Object(a.useEffect)(function(){console.log(e.name)},[e.name]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{id:"step-description"},"Set your items name"),r.a.createElement("div",{className:"step-content name"},r.a.createElement(yn.a,{id:"food-drink-name-input",label:"",placeholder:"Food or drink name",value:e.name,onChange:e.handleOnChange,margin:"normal",variant:"outlined"})))},kn=Zt.a.Option,Cn=function(e){return Object(a.useEffect)(function(){console.log(e.foodOrDrink)},[e.foodOrDrink]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"stepper-description"},"Is this a food or a drink item?"),r.a.createElement("div",{className:"stepper-content"},r.a.createElement(Zt.a,{id:"measurements-select",value:e.foodOrDrink,defaultValue:"Select a type",onChange:e.handleOnChange,style:{width:200},placeholder:"Select a type"},r.a.createElement(kn,{key:"2",value:"food"},"Food"),r.a.createElement(kn,{key:"3",value:"drink"},"Drink"))))},Mn=Zt.a.Option,Dn=function(e){return Object(a.useEffect)(function(){console.log(e.selectedMeasurement),e.measurements.map(function(e,t){return r.a.createElement("option",{key:t+1,name:"measurement-option",value:e.toString()},e)})}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"stepper-description"},"What is the serving size?"),e.oneMeasurementRequiredMessage,r.a.createElement("div",{className:"stepper-content flex row justify-start align-center wrap"},r.a.createElement(Zt.a,{id:"measurements-select",defaultValue:"Select a measurement",value:e.selectedMeasurement,onChange:e.handleOnChange,showSearch:!0,style:{width:200},placeholder:"Select a measurement",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.measurements.map(function(e,t){return r.a.createElement(Mn,{key:t+1,name:"measurement-option",value:e.toString()},e)}))))},jn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).goBack=function(){console.log("goBack"),n.props.goBack()},n.clearForm=function(){n.props.clearInnerForm()},n.save=function(){n.props.save()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"step-description"},"The number of calories, vitamins and minerals."),r.a.createElement("div",{className:"step-content nutritional-data flex row justify-start align-center wrap"},r.a.createElement("div",{className:"wrap flex justify-start"},r.a.createElement("div",{className:"input calorie-input"},r.a.createElement(yn.a,{type:"number",name:"calories",label:"Calories",value:this.props.state.calories,className:"add-form-input",onChange:function(t){e.props.handleOnChange(t)},id:"calories",margin:"normal",variant:"outlined"})),this.props.vitaminsJSON.default.vitamins.map(function(t,n){return"manganese"===t.name&&console.log(t),r.a.createElement("div",{className:"input",key:n},r.a.createElement(yn.a,{label:t.name,type:"number",name:t.inputName,value:0===e.props.state[t.inputName]?0:e.props.state[t.inputName],className:"add-form-input",onChange:function(t){e.props.handleOnChange(t)},id:t.id,margin:"normal",variant:"outlined"}))}))))}}]),t}(a.Component),In=n(171),Tn={component:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",zIndex:"99999999999",backgroundColor:"#ffffff",width:"100%",height:"100vh"},p:{fontSize:"3rem"}},An=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={content:[{text:"Okay, great, let's set some nutritional information!"}]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.setIsTransitioningState(!1),e.props.setHasSeenNutritionalContentTransition()},3e3)}},{key:"render",value:function(){var e=this.state.content.map(function(e,t){return r.a.createElement("div",{key:t},e.text)});return r.a.createElement("div",{style:Tn.component,class:"flex center-all",id:"nutritional-info-transition"},r.a.createElement(In.CSSTransitionGroup,{transitionName:"content",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionEnterTimeout:500,transitionLeaveTimeout:500},e))}}]),t}(a.Component),Rn="Select a type",xn="Select a measurement";function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Fn={position:"fixed",top:"0",right:"0",bottom:"0",left:"0",width:"100%",height:"100vh",display:"flex",zIndex:"999999999",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(2, 2, 2, 0.5)"},Bn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(e){console.log("handleOnChange"),e.persist(),n.setState(Object(y.a)({},e.target.name,parseInt(e.target.value)),function(){le("newConsumableValues",{foodDrinkInputName:n.state.foodDrinkInputName,foodOrDrink:n.state.foodOrDrink,selectedMeasurement:n.state.selectedMeasurement,calories:n.state.calories,vitaminA:n.state.vitaminA,vitaminB1:n.state.vitaminB1,vitaminB2:n.statevitaminB2,vitaminB3:n.state.vitaminB3,vitaminB5:n.state.vitaminB5,vitaminB6:n.state.vitaminB6,vitaminB7:n.state.vitaminB7,vitaminB12:n.state.vitaminB12,calcium:n.state.calcium,choline:n.state.choline,chromium:n.state.chromium,copper:n.state.copper,fluoride:n.state.fluoride,folicAcid:n.state.folicAcid,iodine:n.state.iodine,iron:n.state.iron,magnesium:n.state.magnesium,manganese:n.state.manganese,molybdenum:n.state.molybdenum,phosphorus:n.state.phosphorus,potassium:n.state.potassium,selenium:n.state.selenium,salt:n.state.salt,vitaminD3:n.state.vitaminD3,vitaminE:n.state.vitaminE,vitaminK:n.state.vitaminK,zinc:n.state.zinc}),console.log("CALORIESSSSS",n.state.calories)})},n.handleFoodDrinkInputOnChange=function(e){console.log("handleFoodDrinkInputOnChange");var t=n.state.steps.slice();t[0].completed=""!==e.target.value.trim(),n.setState({foodDrinkInputName:e.target.value,steps:t})},n.handleNewMeasurementOnChange=function(e){console.log("handleNewMeasurementOnChange"),n.measurementIsAlreadyAdded(e.target.value)||n.setState({newMeasurement:e.target.value},function(){console.log("setState calling debounceValidateForm"),n.debounceValidateForm()})},n.outputQuantity=function(){var e=[];return n.state.quantity.forEach(function(t,n){e.push(n+1)}),e.map(function(e,t){return r.a.createElement("option",{name:"quantity-".concat(e)},e)})},n.outputVitamins=function(){},n.areYouSure=function(){n.setState({showAreYouSure:!0})},n.handleAnswer=function(e){n.setState({showAreYouSure:!1},function(){"yes"===e&&n.clearForm()})},n.clearForm=function(){n.setState({step:1,steps:[{name:"name",capitalizedName:"Name",completed:!1},{name:"type",capitalizedName:"Type",completed:!1},{name:"measurements",capitalizedName:"Measurements",completed:!1},{name:"nutritionalData",capitalizedName:"Nutritional Content",completed:!1}],title:"Save a new consumable",foodDrinkInputName:"",foodOrDrink:Rn,selectedMeasurement:xn,measurements:[],servingSize:"",showAreYouSure:!1,measurementEditMode:!1,calories:null,vitaminA:0,vitaminB1:0,vitaminB2:0,vitaminB3:0,vitaminB5:0,vitaminB6:0,vitaminB7:0,vitaminB12:0,calcium:0,choline:0,chromium:0,copper:0,fluoride:0,folicAcid:0,iodinee:0,iron:0,magnesium:0,molybdenum:0,phosphorus:0,potassium:0,selenium:0,salt:0,vitaminD3:0,vitaminE:0,vitaminK:0,zinc:0,formSubmitted:!1,showOneMeasurementRequiredMessage:!1,selectedTypeOfRequiredMessage:"Please select a food or drink item.",selectedMeasurementRequiredMessage:"Selecting a measurement is required.",atLeastOneMeasurementRequiredMessage:"You must keep at least once measurement.",formErrors:[]},function(){document.getElementById("food-drink-name-input").value="",document.querySelectorAll(".add-form-input").forEach(function(e){e.value=""})})},n.setfoodOrDrink=function(e){n.setState({foodOrDrink:e},function(){})},n.setSelectedMeasurement=function(e){n.turnEditModeOff(),n.setState({selectedMeasurement:e})},n.addNewMeasurement=function(){var e=n.state,t=e.newMeasurement,a=e.measurements,r=n.measurementIsAlreadyAdded(t);console.log(t),r||n.setState({measurements:[].concat(Object(N.a)(a),[t]),showOneMeasurementRequiredMessage:!1})},n.turnEditModeOn=function(){n.setState({measurementEditMode:!0})},n.turnEditModeOff=function(){n.setState({measurementEditMode:!1})},n.deleteMeasurement=function(e){var t=n.state.measurements;t.length&&1===t.length?n.setState({measurementEditMode:!1,showOneMeasurementRequiredMessage:!0}):n.setState({measurements:n.state.measurements.filter(function(t,n){return n!==e}),measurementEditMode:!0,showOneMeasurementRequiredMessage:!1})},n.measurementIsAlreadyAdded=function(e){return n.state.measurements.some(function(t,n){return t.toLowerCase()===e.toLowerCase()})},n.isValidForm=function(){var e=n.state,t=e.foodDrinkInputName,a=e.foodOrDrink,r=e.selectedMeasurement,s=!1,i=[];return""!==t&&""!==a&&a!==Rn&&""!==r&&r!==xn?s=!0:(""===t&&i.push({type:O,message:"What is the name of your food or drink item?"}),""!==a&&"Select a type"!==a||i.push({type:b,message:"Is this a food or drink?"}),""!==r&&"Select a measurement"!==r||i.push({type:E,message:"Please select a measurement?"}),s=!1),s},n.setIsValidForm=function(e){n.setState({isValidForm:e})},n.delayIsValidForm=function(){console.log("delayIsValidForm()"),ht.a.delay(function(){},400,function(){n.setIsValidForm(n.isValidForm())})},n.saveFoodOrDrink=function(){var e=n.state.selectedMeasurement;console.log("IS VALID FORM",n.isValidForm()),n.isValidForm()?n.setState({formSubmitted:!0,isValidForm:!0},function(){var t={details:{name:n.state.foodDrinkInputName,foodOrDrink:n.state.foodOrDrink,measurements:Object(N.a)(n.props.user.measurements),selectedMeasurement:e},nutritionalData:{quantity:n.state.quantity,calories:n.state.calories,vitaminA:n.state.vitaminA,vitaminB1:n.state.vitaminB1,vitaminB2:n.state.vitaminB2,vitaminB3:n.state.vitaminB3,vitaminB5:n.state.vitaminB5,vitaminB6:n.state.vitaminB6,vitaminB7:n.state.vitaminB7,vitaminB12:n.state.vitaminB12,calcium:n.state.calcium,choline:n.state.choline,chromium:n.state.chromium,copper:n.state.copper,fluoride:n.state.fluoride,folicAcid:n.state.folicAcid,iodine:n.state.iodine,iron:n.state.iron,magnesium:n.state.magnesium,molybdenum:n.state.selenium,salt:n.state.molybdenum,phosphorus:n.state.phosphorus,potassium:n.state.potassium,selenium:n.state.salt,vitaminD3:n.state.vitaminD3,vitaminE:n.state.vitaminE,vitaminK:n.state.vitaminK,zinc:n.state.zinc}};console.log(t),n.props.beginSavingNewFoodDrink(t)}):alert("NOT VALID FORM")},n.handleMesurementsOnChange=function(e){n.setIsValidForm(n.isValidForm()),n.setState({newMeasurement:e.target.value.trim()})},n.handleFoodOrDrinkOnChange=function(e){var t=n.state.steps.slice();t[1].completed=!0,n.setState({steps:t,foodOrDrink:e})},n.handleMeasurementSelectOnChange=function(e){console.log("handleMeasurementSelectOnChange",e);var t=n.state.steps.slice();t[2].completed=!0,n.setState({steps:t,selectedMeasurement:e})},n.previous=function(){console.log("previous");var e=n.state,t=e.step;e.steps;t>1&&(console.log("step > 1"),n.setState({step:t-1},function(){console.log(n.state.step)}))},n.next=function(){var e=n.state;e.step<e.steps.length?n.setState(function(e){return{step:e.step+1}},function(){console.log(n.state.step)}):n.setState({isInStepperPhase:!1,isTransitioningToNutritionalData:!n.state.hasSeenTransitionToNutritionalData})},n.setStep=function(e){console.log("setStep",e),n.setState({step:e})},n.clearNutritionalDataForm=function(){n.setState({calories:null,vitaminA:0,vitaminB1:0,vitaminB2:0,vitaminB3:0,vitaminB5:0,vitaminB6:0,vitaminB7:0,vitaminB12:0,calcium:0,choline:0,chromium:0,copper:0,fluoride:0,folicAcid:0,iodinee:0,iron:0,magnesium:0,molybdenum:0,phosphorus:0,potassium:0,selenium:0,salt:0,vitaminD3:0,vitaminE:0,vitaminK:0,zinc:0})},n.handleNutritionalDataGoBack=function(){console.log("handleNutritionalDataGoBack"),n.setState({isInStepperPhase:!0},function(){console.log(n.state)})},n.handleSetIsTransitioningState=function(e){n.setState({isTransitioningToNutritionalData:e})},n.handleSetHasSeenNutritionalDataTransition=function(){console.log("handleSetHasSeenNutritionalDataTransition"),n.setState({hasSeenTransitionToNutritionalData:!0})},n.clearActiveStepFormValue=function(){switch(console.log("clearActiveStepFormValue"),n.state.step){case 1:n.setState(function(e){var t=e.steps;return t[0].completed=!1,Pn({},t,{foodDrinkInputName:""})});break;case 2:n.setState(function(e){var t=e.steps;return t[1].completed=!1,Pn({},t,{foodOrDrink:Rn})});break;case 3:n.setState(function(e){var t=e.steps;return t[2].completed=!1,Pn({},t,{selectedMeasurement:xn})});break;case 4:n.setState({steps:n.state.steps.map(function(e,t){return t+1===n.state.step?Pn({},n.state.steps[n.state.step-1],{completed:!1}):e})},function(){return n.clearNutritionalDataForm()})}},n.state={step:1,steps:[{name:"name",capitalizedName:"Name",completed:!1},{name:"type",capitalizedName:"Type",completed:!1},{name:"measurements",capitalizedName:"Measurements",completed:!1},{name:"nutritionalData",capitalizedName:"Nutritional Data",completed:!1}],skipped:[],title:"Save a new consumable",foodDrinkInputName:"",foodOrDrink:Rn,selectedMeasurement:xn,measurements:[],servingSize:"",showAreYouSure:!1,measurementEditMode:!1,calories:null,vitaminA:null,vitaminB1:null,vitaminB2:null,vitaminB3:null,vitaminB5:null,vitaminB6:null,vitaminB7:null,vitaminB12:null,calcium:null,choline:null,chromium:null,copper:null,fluoride:null,folicAcid:null,iodine:null,iron:null,magnesium:null,manganese:null,molybdenum:null,phosphorus:null,potassium:null,selenium:null,salt:null,vitaminD3:null,vitaminE:null,vitaminK:null,zinc:null,formSubmitted:!1,showOneMeasurementRequiredMessage:!1,selectedTypeOfRequiredMessage:"Please select a food or drink item.",selectedMeasurementRequiredMessage:"Selecting a measurement is required.",atLeastOneMeasurementRequiredMessage:"You must keep at least once measurement.",formErrors:[],isDesktop:!1,innerWidth:0,isValidForm:!1,isInStepperPhase:!0,isTransitioningToNutritionalData:!1,hasSeenTransitionToNutritionalData:!1},document.title="New Food or Drink",console.log(Wt),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=ce("step")?ce("step"):1;this.setState({step:t,windowInnerWidth:window.innerWidth,isDesktop:!(window.innerWidth<ne.minDesktopViewport)}),window.addEventListener("resize",function(){e.setState({windowInnerWidth:window.innerWidth,isDesktop:!(window.innerWidth<ne.minDesktopViewport)})})}},{key:"componentDidUpdate",value:function(e,t){!e.successSavingNewFoodDrink&&this.props.successSavingNewFoodDrink&&(this.clearForm(),this.clearNutritionalDataForm(),function(e){try{e.forEach(function(e){localStorage.getItem(e)&&localStorage.removeItem(e)})}catch(t){console.warn("An error occured fetching or removing the item",t)}}(["newConsumableValues","step"]),this.setState({isInStepperPhase:!0})),!e.saveNewFoodDrinkErrors.length&&this.props.saveNewFoodDrinkErrors.length>0&&gt(!0,"Please fix these errors","fdsafds"),t.step!==this.state.step&&le("step",this.state.step)}},{key:"componentDidCatch",value:function(e,t){console.log("componentDidCatch()"),console.log(e),console.log(t)}},{key:"isStepSkipped",value:function(e){}},{key:"render",value:function(){var e,t,n,a=this,s=this.state,i=(s.step,s.steps,s.showOneMeasurementRequiredMessage),o=s.atLeastOneMeasurementRequiredMessage,l=(s.isDesktop,s.foodOrDrink),c=Dt()({content:this.state.isInStepperPhase,"content-with-padding":!this.state.isInStepperPhase});return e=l!==Rn?"food"===l?r.a.createElement("i",{className:"fa fa-leaf"}):r.a.createElement("i",{className:"fa fa-coffee"}):"",this.props.isAuthenticated?(i&&(t=r.a.createElement("div",{className:"one-measurement-required"},o)),this.props.user.measurements&&Array.isArray(this.props.user.measurements)&&r.a.createElement("button",{type:"button",className:"measurement-edit-button",onClick:function(){a.state.measurementEditMode?a.turnEditModeOff():a.turnEditModeOn()}},"Delete"),this.state.isInStepperPhase||!this.state.isTransitioningToNutritionalData||this.state.hasSeenTransitionToNutritionalData?r.a.createElement("div",{className:"new-consumable view flex column center-all",styles:On},r.a.createElement("div",{className:"view-main"},r.a.createElement("div",{className:c},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"steps-tabs"},r.a.createElement("ul",{className:"flex"},this.state.steps.map(function(e,t){return r.a.createElement("li",{className:a.state.step===t+1?"active":"",onClick:function(){return a.setState({step:t+1})}},e.capitalizedName)}))),r.a.createElement("div",{id:"mobile-steps"},r.a.createElement("div",{className:"step flex align-center"},r.a.createElement("span",{className:1===this.state.step?"hidden":"",onClick:function(){1!==a.state.step&&a.setState({step:a.state.step>1?a.state.step-=1:a.state.step})}},r.a.createElement("i",{className:"fa fa-chevron-left"})),r.a.createElement("span",{className:"name"},this.state.steps[this.state.step-1].capitalizedName),r.a.createElement("span",{className:this.state.step===this.state.steps.length?"hidden":"",onClick:function(){a.state.step<a.state.steps.length&&a.setState({step:a.state.step<a.state.steps.length?a.state.step+=1:a.state.step})}},r.a.createElement("i",{className:"fa fa-chevron-right"})))),r.a.createElement("div",{className:"steps-container flex column"},r.a.createElement("div",{id:"steps-header",className:"flex space-between"},r.a.createElement("div",{className:"flex align-center"},r.a.createElement("div",{className:"name"},""===this.state.foodDrinkInputName?"My item":this.state.foodDrinkInputName),r.a.createElement("div",{className:"food-or-drink-icon"},e),r.a.createElement("div",{className:"measurement"},this.state.selectedMeasurement!==xn?"(".concat(this.state.selectedMeasurement,")"):"")),r.a.createElement("div",{className:"buttons flex justify-end align-center"},r.a.createElement("button",{className:"btn btn-primary save",type:"button",onClick:this.saveFoodOrDrink},"Add"))),r.a.createElement("div",{id:"steps-content"},r.a.createElement("div",{className:"step"},1===this.state.step&&r.a.createElement(wn,{name:this.state.foodDrinkInputName,handleOnChange:this.handleFoodDrinkInputOnChange}),2===this.state.step&&r.a.createElement(Cn,{foodOrDrink:this.state.foodOrDrink,handleOnChange:this.handleFoodOrDrinkOnChange}),3===this.state.step&&r.a.createElement(Dn,(n={selectedMeasurement:this.state.measurement,measurements:this.props.user.measurements},Object(y.a)(n,"selectedMeasurement",this.state.selectedMeasurement),Object(y.a)(n,"oneMeasurementRequiredMessage",t),Object(y.a)(n,"handleOnChange",this.handleMeasurementSelectOnChange),n)),4===this.state.step&&r.a.createElement(jn,{state:this.state,vitaminsJSON:Wt,outputVitamins:this.outputVitamins,handleOnChange:function(e){console.log(e.target.name,e.target.value),a.handleOnChange(e)},save:function(){a.saveFoodOrDrink()},goBack:function(){a.handleNutritionalDataGoBack()},clearInnerForm:function(){a.clearNutritionalDataForm()},oneMeasurementRequiredMessage:t},this.props.children))),r.a.createElement("div",{id:"steps-controls"},r.a.createElement("div",{id:"steps-controls-container",className:"flex center-all"},r.a.createElement(bn.a,{type:"button",disabled:1===this.state.step,onClick:this.previous,className:"flex space-between align-center ".concat(1===this.state.step?"disabled":"")},"Previous"),r.a.createElement(bn.a,{type:"button",disabled:this.state.step===this.state.steps.length,onClick:this.next,className:"flex space-between align-center ".concat(this.state.step===this.state.steps.length?"disabled":"")},"Next")))))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group type-of-and-name-group flex center-all"},r.a.createElement("div",{className:"form-group-content type-of-and-name flex space-around"}))),this.state.showAreYouSure?r.a.createElement("div",{style:Fn},r.a.createElement(Nn,{answerIs:this.handleAnswer})):null)):r.a.createElement(An,{setIsTransitioningState:this.handleSetIsTransitioningState,setHasSeenNutritionalDataTransition:this.handleSetHasSeenNutritionalDataTransition})):r.a.createElement("div",{className:"view-with-padding flex center-all color-black"},r.a.createElement(te.a,{to:"/auth/signin"},"Sign In"))}}],[{key:"getDerivedStateFromError",value:function(e){console.log(e)}}]),t}(a.Component),Un=Object(d.b)(function(e){return{showAlert:e.alertReducers.showAlert,user:e.userReducers,isAuthenticated:e.userReducers.isAuthenticated,isSavingNewFoodDrink:e.dashboardReducers.isSavingNewFoodDrink,successSavingNewFoodDrink:e.dashboardReducers.successSavingNewFoodDrink,saveNewFoodDrinkErrors:e.userReducers.saveNewFoodDrinkErrors}},function(e){return{setUser:function(t){e(pe(t))},setAlert:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(gt(t,n,a))},beginSavingNewFoodDrink:function(t){return e(function(e){return console.log("[dashboardActions] beginSavingNewFoodDrink"),function(t){return t(_t(e)),t({type:"BEGIN_SAVING_NEW_FOOD_DRINK"})}}(t))},pushToSaveFoodDrinkErrors:function(t){e(function(e){return{type:"FAILURE_SAVING_NEW_FOOD_DRINK",payload:{errors:e}}}(t))}}})(Bn),Vn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={title:"Edit Consumable"},n.handleSubmit=n.handleSubmit.bind(Object(K.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"edit",value:function(){var e;console.log("[Edit] add()"),console.log("fetch POST to api/user/addItem");try{e=JSON.stringify({vitaminA:this.state.vitaminA,vitaminB1:this.state.vitaminB1,vitaminB2:this.state.vitaminB2,vitaminB3:this.state.vitaminB3,vitaminB5:this.state.vitaminB5,vitaminB6:this.state.vitaminB6,vitaminB7:this.state.vitaminB7,vitaminB12:this.state.vitaminB12,calcium:this.state.calcium,choline:this.state.choline,chromium:this.state.chromium,copper:this.state.copper,flouride:this.state.flouride,folicAcid:this.state.folicAcid,iodine:this.state.iodine,iron:this.state.iron,magnesium:this.state.magnesium,molybdenum:this.state.molybdenum,phosphorus:this.state.phosphorus,potassium:this.state.potassium,selenium:this.state.selenium,salt:this.state.salt,vitaminD3:this.state.vitaminD3,vitaminE:this.state.vitaminE,vitaminK:this.state.vitaminK,zinc:this.state.zinc})}catch(n){console.log("[Dashboard edit] An error occured stringifying an item, or some othe",n)}if(e.hasOwnProperty("iron")){var t=JSON.stringify({item:e});fetch("".concat(vt,"/user/edit"),{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log("[Edit] error POSTing to user/newItem | error: ".concat(e))})}else console.log("[Dashboard edit] An error occured. ")}},{key:"handleSubmit",value:function(){return console.log("handleSubmit")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"edit view center-all"},r.a.createElement("h1",null,this.state.title),r.a.createElement("button",{onClick:function(){e.handleSubmit()}},"Submit"))}}]),t}(a.Component),Ln=Object(d.b)(function(e){return{showAlert:e.alertReducers.showAlert}},function(e){return{setAlert:function(t,n,a){e(gt(t,n,a))}}})(Vn),Gn=(n(299),function(e){Object(a.useEffect)(function(){});var t="",n="";e.total&&(t=e.total.toString()+" out of "+e.rda.toString());var s=e.total?e.total/e.rda*100:0;s>100&&(s=100),s<=5?n="rgb(0, 10, 37)":s>5&&s<=10?n="rgb(0, 11, 38)":s>10&&s<=15?n="rgb(0, 12, 39)":s>15&&s<=20?n="rgb(0, 13, 40)":s>20&&s<=25?n="rgb(0, 14, 41)":s>25&&s<=30?n="rgb(0, 15, 42)":s>30&&s<=35?n="rgb(0, 16, 43)":s>35&&s<=40?n="rgb(0, 17, 44)":s>40&&s<=45?n="rgb(0, 18, 45)":s>45&&s<=50?n="rgb(0, 19, 46)":s>50&&s<=55?n="rgb(0, 20, 47)":s>55&&s<=60?n="rgb(0, 21, 48)":s>60&&s<=65?n="rgb(0, 22, 49)":s>65&&s<=70?n="rgb(0, 23, 50)":s>70&&s<=75?n="rgb(0, 24, 51)":s>75&&s<=80?n="rgb(0, 25, 52)":s>85&&s<=85?n="rgb(0, 26, 53)":s>85&&s<=90?n="rgb(0, 27, 54)":s>90&&s<=95?n="rgb(0, 28, 55)":s>95&&s<=100&&(n="rgb(0, 29, 56)"),n="#5f89ad",console.log(n);var i={percentage:{width:s+="%",background:n,animation:"animatePercentage 1s"},modal:{}};return r.a.createElement("div",{className:"nutrient-container",styles:i},r.a.createElement("div",{styles:i,className:"nutrient flex space-between align-center"},r.a.createElement("div",{className:"percentage",style:i.percentage}),r.a.createElement("div",{className:"nutrient-name-and-data"},r.a.createElement("div",{className:"nutrient-name"},e.name),r.a.createElement("div",{className:"nutrient-data"},t,e.measurement,!1))))});Gn.displayName="NutrientData";var zn=Gn,qn=n(172);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Kn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).userHasMealsToday=function(){var e=n.props.user;return e.meals&&e.meals.length>0},n.someMealsAreNotEmpty=function(){return n.props.user.meals.map(function(e){e.foodDrinks.some(function(e){return"_id"in e})})},n.beginCalculateTotalsChecks=function(){n.userHasMealsToday()&&n.someMealsAreNotEmpty()&&n.props.user.meals.filter(function(e){return e.foodDrinks.length}).forEach(function(e){var t=e.foodDrinks;return n.calculateTotals(t)})},n.deleteNonVitaminsMineralsCalories=function(e){return delete e.servingSize,delete e.numOfServings,delete e.measurements,delete e.foodOrDrink,delete e.selectedMeasurement,delete e._id,delete e.name,e},n.outputTodaysTotals=function(){return n.state.vitaminsMineralsCalories.map(function(e,t){return r.a.createElement(zn,{name:e.name,measurement:e.measurement,total:e.total,rda:e.rda,key:t,showDetailsModal:n.showVitaminDetailsModal,onClick:function(){n.setState({selectedVitamin:e.name})}})})},n.showVitaminDetailsModal=function(){n.setState({showVitaminDetailsModal:!0})},n.state={title:"My Totals",vitaminsUpdated:!1,selctedVitamin:"",showVitaminDetailsModal:!1,userHasNoMeals:!1,vitaminsMineralsCalories:[{name:"Calories",id:"calories",inputName:"calories",rda:2e3,measurement:"mcg",total:0},{name:"Vitamin-A",id:"vitamin-a",inputName:"vitaminA",rda:900,measurement:"mcg",total:0},{name:"Vitamin-B1",id:"vitamin-b1",inputName:"vitaminB1",rda:1.2,measurement:"mg",total:0},{name:"Vitamin-B2",id:"vitamin-b2",inputName:"vitaminB2",rda:1.3,measurement:"mg",total:0},{name:"Vitamin-B3",id:"vitamin-b3",inputName:"vitaminB3",rda:16,measurement:"mg",total:0},{name:"Vitamin-B5",id:"vitamin-B5",inputName:"vitaminB5",rda:5,measurement:"mg",total:0},{name:"Vitamin-B6",id:"vitamin-b6",inputName:"vitaminB6",rda:1.3,measurement:"mg",total:0},{name:"Vitamin-B7",id:"vitamin-b7",inputName:"vitaminB7",rda:30,measurement:"mcg",total:0},{name:"Vitamin-B12",id:"vitamin-b12",inputName:"vitaminB12",rda:2.4,measurement:"mcg",total:0},{name:"Calcium",id:"calcium",inputName:"calcium",rda:1e3,measurement:"mg",total:0},{name:"Choline",id:"choline",inputName:"choline",rda:550,measurement:"mg",total:0},{name:"Chromium",id:"chromium",inputName:"chromium",rda:35,measurement:"mcg",total:0},{name:"Copper",id:"copper",inputName:"copper",rda:900,measurement:"mcg",total:0},{name:"Fluoride",id:"fluoride",inputName:"fluoride",rda:4,measurement:"mg",total:0},{name:"Folic Acid",id:"folic-acid",inputName:"folicAcid",rda:400,measurement:"mcg",total:0},{name:"Iodine",id:"iodine",inputName:"iodine",rda:150,measurement:"mcg",total:0},{name:"Iron",id:"iron",inputName:"iron",rda:8,measurement:"mg",total:0},{name:"Magnesium",id:"magnesium",inputName:"magnesium",rda:400,measurement:"mg",total:0},{name:"Manganese",id:"manganese",inputName:"manganese",rda:2.3,measurement:"mg",total:0},{name:"Molybdenum",id:"molybdenum",inputName:"molybdenum",rda:45,measurement:"mcg",total:0},{name:"Phosphorus",id:"phosphorus",inputName:"phosphorus",rda:700,measurement:"mg",total:0},{name:"Potassium",id:"potassium",inputName:"potassium",rda:4700,measurement:"mg",total:0},{name:"Selenium",id:"selenium",inputName:"selenium",rda:55,measurement:"mcg",total:0},{name:"Salt",id:"salt",inputName:"salt",rda:500,measurement:"mg",total:0},{name:"Vitamin-D3",id:"vitamin-d3",inputName:"vitaminD3",rda:1e4,iuValue:0,measurement:"mcg",total:0},{name:"Vitamin-D3",id:"vitamin-d3",inputName:"vitaminD3",rda:1e4,iuValue:0,measurement:"mcg",total:0},{name:"Vitamin-E",id:"vitamin-e",inputName:"vitaminE",rda:15,measurement:"mg",total:0},{name:"Vitamin-K",id:"vitamin-k",inputName:"vitaminK",rda:120,measurement:"mcg",total:0},{name:"Zinc",id:"zinc",inputName:"zinc",rda:11,measurement:"mg",total:0}],vitamins:[Ht.vitamins],totalsAreCalculated:!1},document.title="Todays Totals",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.user.isAuthenticated&&this.beginCalculateTotalsChecks()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.user;!e.user.isAuthenticated&&n.isAuthenticated&&this.beginCalculateTotalsChecks()}},{key:"calculateTotals",value:function(e){var t=this,n=e.map(function(e){return t.deleteNonVitaminsMineralsCalories(e)});this.setState(function(e){var t=Wn({},e).vitaminsMineralsCalories.map(function(e,t){return n.forEach(function(t){e.total+=t[e.inputName]}),e});return Wn({},e,{totalsAreCalculated:!0,vitaminsMineralsCalories:Object(N.a)(t)})},function(){return console.log(t.state)})}},{key:"render",value:function(){var e,t,n=this.state;n.vitamins,n.userHasNoMeals,this.props.user;return this.userHasMealsToday()?this.someMealsAreNotEmpty()&&this.state.totalsAreCalculated&&(e=this.outputTodaysTotals()):t=r.a.createElement("div",null,"You haven't made any meals today."),r.a.createElement("div",{id:"totals",className:"view center-all",styles:qn},r.a.createElement("h1",{className:"view-title"},this.state.title),r.a.createElement("div",{className:"totals-chart"},t,e))}}]),t}(a.Component),Yn=Object(d.b)(function(e){return Wn({},e,{user:e.userReducers,showDetails:e.detailsReducers.showDetails})},function(e){return{setLoader:function(t,n){return e(de(t,n))},toggleDetails:function(t){e(function(e){return{type:"TOGGLE_DETAILS",payload:{showDetails:e}}}(t))}}})(Kn),Jn=n(173);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Qn=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"consumed view",styles:Jn},r.a.createElement("h1",{className:"view-title"},"Consumed"))}}]),t}(a.Component),Xn=Object(d.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)},function(e){return{}})(Qn),$n=n(174),ea=function(e){return r.a.createElement("div",{className:"page-not-found view-with-padding flex center-all",styles:$n},r.a.createElement("h1",null,"Sorry that page doesn't exist."))},ta=function(e){return r.a.createElement("div",{id:"header-menu-dropdown",className:""},r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"flex column justify-center align-start",onClick:function(){e.closeMenu()}},r.a.createElement(te.a,{className:"menu-item",to:"/"},"Home"),r.a.createElement(te.a,{className:"menu-item",to:"/dashboard"},"Dashboard"),r.a.createElement("div",{className:"menu-item sign-out",onClick:e.signOut},"Sign Out")))},na=n(175),aa=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).signOut=function(){n.props.signOut()},n.closeMenu=function(){n.setState({userMenuIsVisible:!1})},n.state={currentRoute:"",communicationType:"message",menuOpen:!1,userSelectedSignOut:!1,userMenuIsVisible:!1,isDesktopViewport:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isDesktopViewport:!(window.innerWidth<ne.minDesktopViewport)}),window.addEventListener("resize",function(){e.setState({isDesktopViewport:!(window.innerWidth<ne.minDesktopViewport)})})}},{key:"render",value:function(){var e,t,n,a=this,s=this.state.isDesktopViewport,i=this.props,o=i.user,l=i.siteName,c=i.menuOpen;i.location.pathname;if(this.state.userSelectedSignOut)return r.a.createElement(p.a,{to:"/signin"});o.isAuthenticated?(e=r.a.createElement("nav",{id:"header-menu",className:"header-menu is-authenticated"},r.a.createElement(te.a,{className:"make-a-meal",to:"/make-a-meal"},"Make A Meal"),r.a.createElement(te.a,{className:"dashboard",to:"/dashboard"},"Dashboard"),r.a.createElement(te.a,{className:"totals",to:"/totals"},"Todays Totals"),r.a.createElement("h2",{className:"header-user-name",onMouseLeave:function(){a.setState({userMenuIsVisible:!1})},onClick:function(){a.setState({userMenuIsVisible:!a.state.userMenuIsVisible})}},o.username.length&&o.username.length>=15?o.username.substr(0,15)+"...":o.username,r.a.createElement("i",{className:"fa fa-caret-down"}),this.state.userMenuIsVisible&&r.a.createElement(ta,{signOut:this.signOut,closeMenu:this.closeMenu}))),t=r.a.createElement("nav",{id:"mobile-header-menu",className:"header-menu mobile-is-authenticated"},r.a.createElement("h2",{className:"header-user-name flex center-all",onMouseLeave:function(){a.setState({userMenuIsVisible:!1})},onClick:function(){a.setState({userMenuIsVisible:!a.state.userMenuIsVisible})}},o.username,r.a.createElement("i",{className:"fa fa-caret-down"}),this.state.userMenuIsVisible&&r.a.createElement(ta,{signOut:this.signOut,closeMenu:this.closeMenu})))):n=r.a.createElement("nav",{id:"header-menu",className:"header-menu not-authenticated"},r.a.createElement("div",null,r.a.createElement(te.a,{to:"/signin"},"Sign In")),r.a.createElement("div",null,r.a.createElement(te.a,{className:"register-link",to:"/register"},"Sign Up")));Dt()("header",{"dark-header":"/"!==this.props.location.pathname});return r.a.createElement("header",{styles:na,id:"/"!==this.props.location.pathname?"dark-header":"",className:"header"},r.a.createElement("h1",{className:"header-site-name ".concat(o.isAuthenticated||s?"":"center-site-name")},r.a.createElement(te.a,{to:"/"},l)),r.a.createElement("div",{className:"header-right-container flex row"},!s&&t,s&&e,n),r.a.createElement("div",{className:"header-menu-toggler ".concat(c?"menu-toggler-hidden":""," "),onClick:this.props.toggleMenu},r.a.createElement("div",{className:"toggler ".concat(o.isAuthenticated?"":"none")},r.a.createElement("span",{className:"".concat(c?"background-white":""," ")}),r.a.createElement("span",{className:"".concat(c?"background-white":""," ")}),r.a.createElement("span",{className:"".concat(c?"background-white":""," ")}),r.a.createElement("span",{className:"".concat(c?"background-white":""," ")}))))}}]),t}(a.Component),ra=Object(p.g)(Object(d.b)(function(e){return{menuOpen:e.menuReducers.menuOpen,user:e.userReducers}},function(e){return{setLoader:function(t,n){return e(de(t,n))},toggleMenu:function(){return e({type:"TOGGLE_MENU"})},signOut:function(){return e(Ne())}}})(aa)),sa=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Account")}}]),t}(a.Component),ia=n(176),oa=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(e){console.log("handleOnChange event",e.target.value),n.setState({email:e.target.value},function(){console.log(n.state.email)})},n.handleSubmit=function(e){console.log("handleSubmit",e.target.value),n.props.beginPasswordReset(n.state.email.trim())},n.state={formSubmitted:!1,email:"",emailSentSuccessful:!1,formErrorText:"",emailErrorText:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"reset-password flex column view-with-padding center-all",styles:ia},r.a.createElement("div",{id:"headings-and-form-container"},r.a.createElement("h1",{className:"view-title"},"Forgot Password"),r.a.createElement("h2",null,"Enter your email address and we will send you a link to reset your password."),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{class:"form-control"},r.a.createElement("input",{type:"email",placeholder:"Enter your email",onChange:this.handleOnChange}),r.a.createElement("button",{type:"button",onClick:this.handleSubmit},"Reset Password"),r.a.createElement(ze,{error:this.state.formError})))))}}]),t}(a.Component),la=Object(d.b)(function(e){return{}},function(e){return{beginPasswordReset:function(t){return e(function(e){return function(t){return console.log("beginPasswordRecovery"),t(Re(e)),t({type:"BEGIN_PASSWORD_RESET"})}}(t))},setLoader:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(de(t,n,a))}}})(oa),ca=n(177);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ma=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).inputsAreAllPopulated=function(){console.log("inputsAreAllPopulated()");var e=n.state,t=document.getElementById("password").value.replace(" ",""),a=document.getElementById("confirm").value.replace(" ","");return e.password.replace(" ","")&&t&&e.confirm.replace(" ","")&&""!==a},n.handleOnChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(y.a)({},a,r))},n.handleOnBlur=function(){var e=n.state.email;pt.delay(function(){""===e.trim()&&this.setState({emailErrorText:"Email required"}),""===e.trim()||this.isValidEmail(e)||this.setState({emailErrorText:"Invalid email"}),""!==e.trim()&&this.isValidEmail(e)&&this.setState({emailErrorText:""})},300)},n.sendNewEmailLink=function(){J()("".concat(ne.apiUrl,"/auth/send-new-reset-password-email"),{method:"POST",data:{email:n.state.email}}).then(function(e){console.log(e)}).catch(function(e){console.log("An error occured sending a new email link",e)})},n.onSubmit=function(){n.setState({formSubmitted:!0},function(){n.inputsAreAllPopulated()&&n.passwordsMatch()&&(console.log("inputsAreAllPopualted passwordMatch"),n.setState({formSubmitted:!0},function(){J()("".concat(ne.apiUrl,"/auth/reset-password"),{method:"POST",withCredentials:!0,data:{email:n.state.email&&""!==n.state.email?n.state.email:"",password:n.state.password}}).then(function(e){console.log(e),n.setState({formSubmitted:!0})}).catch(function(e){console.log(e)})}))})},n.passwordsMatch=function(){return n.state.password.replace(" ","")===n.state.confirm.replace(" ","")},n.isValidEmail=function(e){return e.match(Ue)},n.state=Object(y.a)({isMounted:!1,isValidToken:!1,showForm:!1,formSubmitted:!1,isValidForm:!1,password:"",confirm:"",email:"",passwordErrorText:"",confirmErrorText:"",emailErrorText:"",formErrorText:""},"email",""),document.title="Reset Password",n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setLoader(!0,"",!0),this.setState({isMounted:!0},function(){console.log(e.props.match.params.token);var t=e.props.match.params.token;t&&function(e){return console.log("confirmResetPasswordToken token",e),J()("".concat(ne.apiUrl,"/auth/confirm-reset-password-token/").concat(e),{withCredentials:!0})}(t).then(function(t){200===t.status||304===t.status?(e.props.setLoader(!1),e.setState({isValidToken:!0,showForm:!0,email:t.data.email})):404===t.status&&(e.props.setLoader(!1),e.setState({showForm:!1,invalidToken:!0}))}).catch(function(t){console.log("An error occured confirming reset password token",t),e.props.setLoader(!1),e.setState({showForm:!1,invalidToken:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"confirm-reset-password-token"},!this.state.isMounted&&r.a.createElement(r.a.Fragment,null),this.state.isMounted&&this.state.invalidToken&&r.a.createElement("div",{id:"invalid-token",className:"flex column center-all"},r.a.createElement("h1",null,"Looks like that link expired. ",r.a.createElement("br",null)," Enter your email address to have another one sent"),r.a.createElement("form",null,r.a.createElement("input",{name:"email",type:"email",onChange:this.handleOnChange,onBlur:this.handleOnBlur,placeholder:"Email address"}),r.a.createElement("button",{type:"button",onClick:this.sendNewEmailLink},"Send new link"),r.a.createElement("div",{className:"form-error"},this.state.emailErrorText))),this.state.isMounted&&this.state.showForm&&r.a.createElement("div",{className:"confirm-reset-password-token flex column center-all view-with-padding",styles:ca},r.a.createElement("input",{type:"email",placeholder:"Email address"}),r.a.createElement("div",{id:"h1-and-form-container"},r.a.createElement("h1",null,"New password"),this.state.formErrorText,r.a.createElement("form",{className:"flex  column center-all"},r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"New password",onChange:this.handleOnChange,onBlur:this.handleOnBlur}),this.state.passwordErrorText,r.a.createElement("input",{id:"confirm",name:"confirm",type:"password",placeholder:"Confirm new password",onChange:this.handleOnChange,onBlur:this.handleOnBlur}),this.state.confirmErrorText,r.a.createElement("button",{type:"button",onClick:this.onSubmit},"Save new password")))))}}]),t}(a.Component),da=Object(d.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)},function(e){return{setLoader:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(de(t,n,a))}}})(ma),pa=[{name:"Home",path:"/",component:Q},{name:"Register",path:"/register",component:et},{name:"Sign In",path:"/signin",component:dt},{name:"Intro Profile",path:"/intro-profile",component:yt},{name:"Reset Password",path:"/reset-password",component:la}],ha=[{name:"Home",path:"/",component:Q},{name:"Dashboard",path:"/dashboard",component:Ct},{name:"Totals",path:"/totals",component:Yn},{name:"Make A Meal",path:"/make-a-meal",component:En},{name:"Add",path:"/dd",component:Un},{name:"Edit",path:"/edit",component:Ln},{name:"Consumed",path:"/consumed",component:Xn},{name:"Account",path:"/account",component:sa},{name:"Reset Password",path:"/reset-password",component:la}],fa=n(178),ga=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.user;return t&&t.hasOwnProperty("username")?ha:pa,this.footerRoutes=""!==t.username?ha:pa,e=this.footerRoutes.map(function(e,t){return r.a.createElement(te.a,{to:e.path,key:t+1},e.name)}),r.a.createElement("footer",{style:fa},r.a.createElement("section",{className:"routes ".concat(""!==t.username?"authenticatedRoutes":"notAuthenticatedRoutes")},e),r.a.createElement("section",{className:"info flex center-all"},r.a.createElement("ul",null,r.a.createElement("li",{className:"have-any-questions"},"Have any questions?\xa0\xa0",r.a.createElement(te.a,{to:"contact-us"},r.a.createElement("br",null),"Contact Us")),r.a.createElement("li",{className:"created-by"},"Created by"," ",r.a.createElement("a",{href:"https://www.upwork.com/fl/kevinfdev",target:"_blank",rel:"noopener noreferrer"},"Kevin Freistroffer")),r.a.createElement("li",{className:"copyright"},"Copyright 2018"))))}}]),t}(a.Component),va=Object(d.b)(function(e){return{user:e.userReducers}},function(e){return{}})(ga),Ea=n(179),ba=n(180),Oa=n.n(ba),Sa=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).signOut=function(){n.props.toggleMenu(),n.props.beginSigningOut()},n.state={menuState:"closed"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.routes=""!==this.props.username?ha:pa}},{key:"componentDidUpdate",value:function(e,t){""===e.username&&""!==this.props.username&&(this.routes=ha)}},{key:"render",value:function(){Dt()({});var e=this.props,t=(e.siteName,e.toggleMenu);return r.a.createElement("div",{className:"menu column",styles:Ea},r.a.createElement("div",{className:"menu-header flex row space-between align-center"},r.a.createElement("h1",null,"Menu"),r.a.createElement("div",{className:"close-menu",onClick:t},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("nav",{className:"flex column space-around"},this.routes&&this.routes.map(function(e,n){return"Intro Profile"!==e.name?r.a.createElement(te.a,{key:n+1,to:e.path,onClick:t},r.a.createElement("span",{className:"icon-column"}),e.name):null}),this.props.isAuthenticated&&r.a.createElement("a",{href:"#",onClick:this.beginSigningOut},r.a.createElement("span",{className:"icon-column flex align-center"},r.a.createElement(Oa.a,null)," "),"Sign Out")))}}]),t}(a.Component),Na=Object(d.b)(function(e){return{username:e.userReducers.username,isAuthenticated:e.userReducers.isAuthenticated,menuOpen:e.menuReducers.menuOpen}},function(e){return{beginSigningOut:function(){return e(Ne())},setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e(de(t,n))},toggleMenu:function(){return e({type:"TOGGLE_MENU"})}}})(Sa),ya=n(181),wa=n(182),ka=n.n(wa),Ca=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{id:"loading",styles:ya},r.a.createElement("h2",null,this.props.text),this.props.showSpinner&&r.a.createElement("img",{src:ka.a,alt:"Loading!"})):null}}]),t}(a.Component),Ma=Object(d.b)(function(e){return{isLoading:e.loadingReducers.isLoading,text:e.loadingReducers.loadingText,showSpinner:e.loadingReducers.showSpinner}},function(e){return{setLoader:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading ...";return e(de(t,n))}}})(Ca),Da=n(183),ja=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search view center-all",styles:Da},r.a.createElement("h1",{className:"view-title"},"Search"))}}]),t}(a.Component),Ia=n(184),Ta=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createMarkup=function(){return{__html:n.props.body}},n.handleOnClose=function(){n.props.setAlert(!1)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.feeling;console.log(n,typeof n);var a=Dt()("alert","center-all",{"block fade-in-alert":t},Object(y.a)({},n,n));return r.a.createElement("div",{className:a,styles:Ia},r.a.createElement("h1",{className:"title"},this.props.title),""!==this.props.body&&r.a.createElement("div",{className:"body",dangerouslySetInnerHTML:this.createMarkup()}),r.a.createElement("span",{className:"lnr lnr-cross",onClick:this.handleOnClose}))}}]),t}(a.Component),Aa=Object(d.b)(function(e){return{title:e.alertReducers.title,body:e.alertReducers.body,isVisible:e.alertReducers.isVisible,feeling:e.alertReducers.feeling,addNewFoodDrinkErrors:e.userReducers.addNewFoodDrinkErrors}},function(e){return{setAlert:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e(gt(t,n,a))}}})(Ta),Ra=n(185);var xa=Object(d.b)(function(e){return{isVisible:e.stayBoxReducers.isVisible,text:e.stayBoxReducers.text,confirm24HourMealReset:e.userReducers.confirmed24HourMealResetMessage}},function(e){return{confirm24HourMealResetMessage:function(){return e(je())},setStayBox:function(t,n){return e(ft(t,n))}}})(function(e){return r.a.createElement("div",{className:"stay-box flex row space-between align-center",styles:Ra},r.a.createElement("div",{className:"text",dangerouslySetInnerHTML:(t=e.text,{__html:t})}),r.a.createElement("div",{className:"close-stay-box",onClick:function(){console.log(e.confirm24HourMealReset),e.confirm24HourMealReset||e.confirm24HourMealResetMessage(),e.setStayBox(!1,"")}},r.a.createElement("span",{className:"lnr lnr-cross"}," ")));var t}),_a=n(186),Pa=function(e){function t(e){var n;return Object(o.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),J.a.defaults.headers.post.crossDomain=!0,document.title="illLive!",n.handleStayBoxSetIsVisible=n.handleStayBoxSetIsVisible.bind(Object(K.a)(n)),n.state={isADashboardTypeOfView:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.a.get("http://localhost/1337/api/user/new",{headers:{"Content-Type":"application/json"}}).then(function(e){return console.log("RESSSS",e)}).catch(function(e){return console.log("ERRRRR",e)});var t=re.a.get("user_sid");console.log("USER_SID",t),t&&"string"===typeof t&&""!==t&&this.props.authenticate(),this.locationListener=this.props.history.listen(function(t,n){var a=t.pathname.substr(1);"dashboard"!==a&&"add"!==a&&"make-a-meal"!==a&&"totals"!==a||e.setState({isADashboardTypeOfView:!0}),e.props.user.errors&&e.props.user.errors.length&&(console.log("this.props.user.errors"),"register"!==a&&"signin"!==a&&"reset-password"!==a||e.props.setFormError(""))})}},{key:"componentWillUnmount",value:function(){this.locationListener.unlisten()}},{key:"componentDidUpdate",value:function(e,t){var n=this;console.log(e.resetPasswordEmailSent,this.props.resetPasswordEmailSent);var a=this.props,r=a.isAuthenticating,s=a.isAuthenticated,i=(a.confirmed24HourMealResetMessage,a.authenticationErrors,a.signInErrors,a.isSigningUp),o=a.isSigningIn,l=a.isSigningOut,c=a.isSignedUp,u=a.isSendingResetPasswordEmail,m=a.resetPasswordEmailSent,d=a.setLoader,p=a.history,h=a.formErrorText;console.log(this.props.isSendingRecoverPasswordEmail),!e.isAuthenticating&&r&&d(!0,""),e.isAuthenticating&&!r&&(s?this.props.user.meals&&this.props.user.meals.length>0&&this.props.calculateTotals():console.log("authenticationErrors",this.props.authenticationErrors),this.props.setLoader(!1)),!e.isSigningUp&&i&&d(!0,"Creating your account ...",!1),e.isSigningUp&&!i&&(!e.isSignedUp&&c?(setTimeout(function(){d(!0,"Account created!",!1)},1400),this.props.resetIsSignedUp(),setTimeout(function(){d(!0,"",!0)},3200),setTimeout(function(){p.push("/register-success"),d(!1)},4900)):this.props.accountCreated&&sessionStorage.getItem("account-created")&&(setTimeout(function(){d(!0,"There was some error. Please try again.",!1)},1400),setTimeout(function(){d(!1)},3200))),e.isSigningIn,e.isSigningIn&&!o&&(s?(d(!0,"Signing in ...",!1),this.props.user.meals&&this.props.user.meals.length>0&&this.props.calculateTotals(),setTimeout(function(){d(!0,"Signed in!",!1)},1400),setTimeout(function(){d(!0,"",!0)},3200),setTimeout(function(){p.push("/dashboard"),d(!1)},4900)):""!==h&&(console.log("Unsuccessful sign in."),console.log(h),d(!1))),!e.isSigningOut&&l&&d(!0,"Signing you out ...",!1),e.isSigningOut&&!l&&(setTimeout(function(){d(!0,"Signed out!",!1)},1400),setTimeout(function(){d(!0,"",!0)},3200),setTimeout(function(){p.push("/"),d(!1)},4900)),!e.isSendingResetPasswordEmail&&u&&(console.log(u),this.props.setLoader(!0,"Sending an email ...",!1)),!e.resetPasswordEmailSent&&m&&(this.props.setLoader(!0,"Email sent! Please check your email.",!1),setTimeout(function(){n.props.setLoader(!1)},3800))}},{key:"componentDidCatch",value:function(e,t){console.warn("[App] componentDidCatch()",e,t)}},{key:"handleStayBoxSetIsVisible",value:function(e){this.props.setStayBox(e)}},{key:"setCookieFlag",value:function(){alert("cookie")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App ".concat(this.props.menuIsOpen?"menu-open":""),styles:_a},this.props.stayBoxIsVisible&&r.a.createElement(xa,{isVisible:this.props.stayBoxIsVisible,text:this.props.stayBoxText,setIsVisible:this.handleStayBoxSetIsVisible})," ",r.a.createElement(Ma,null),r.a.createElement(Na,{siteName:this.props.appName})," ",this.props.alert.isVisible&&r.a.createElement(Aa,{title:this.props.alert.title,body:this.props.alert.body,feeling:this.props.alert.feeling})," ",r.a.createElement(ra,{siteName:this.props.appName})," ",r.a.createElement("main",null," ",r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:Q})," ",r.a.createElement(p.b,{exact:!0,path:"/register",component:et})," ",r.a.createElement(p.b,{exact:!0,path:"/register-success",component:nt})," ",r.a.createElement(p.b,{exact:!0,path:"/my-details",component:yt})," ",r.a.createElement(p.b,{exact:!0,path:"/signin",component:dt})," ",r.a.createElement(p.b,{exact:!0,path:"/confirm-account/:token?",component:Ot})," ",r.a.createElement(p.b,{exact:!0,path:"/dashboard",component:Ct})," ",r.a.createElement(p.b,{exact:!0,path:"/add",component:Un})," ",r.a.createElement(p.b,{exact:!0,path:"/edit",component:Ln})," ",r.a.createElement(p.b,{exact:!0,path:"/make-a-meal",component:En})," ",r.a.createElement(p.b,{exact:!0,path:"/totals",component:Yn})," ",r.a.createElement(p.b,{exact:!0,path:"/consumed",component:Xn})," ",r.a.createElement(p.b,{exact:!0,path:"/search",component:ja})," ",r.a.createElement(p.b,{exact:!0,path:"/detail/:id",component:Jt})," ",r.a.createElement(p.b,{exact:!0,path:"/confirm-reset-password-token/:token?",component:da})," ",r.a.createElement(p.b,{exact:!0,path:"/reset-password",component:la})," ",r.a.createElement(p.b,{component:ea})," ")," "," "," ")," ",r.a.createElement(va,null))}}]),t}(a.Component),Fa=Object(p.g)(Object(d.b)(function(e){return{appName:e.appReducers.appName,user:e.userReducers,isAuthenticated:e.userReducers.isAuthenticated,isAuthenticating:e.userReducers.isAuthenticating,isSigningIn:e.userReducers.isSigningIn,isSigningUp:e.userReducers.isSigningUp,isSigningOut:e.userReducers.isSigningOut,isSignedUp:e.userReducers.isSignedUp,authenticationErrors:e.userReducers.authenticationErrors,confirmedCookieFlag:e.userReducers.confirmedCookieFlag,signInErrors:e.userReducers.signInErrors,isSendingResetPasswordEmail:e.userReducers.isSendingResetPasswordEmail,isLoading:e.loadingReducers.isLoading,alert:e.alertReducers,stayBoxText:e.stayBoxReducers.text,stayBoxIsVisible:e.stayBoxReducers.isVisible,menuIsOpen:e.menuReducers.menuOpen}},function(e){return{authenticate:function(){e(function(){var e=Object(ee.a)($.a.mark(function e(t,n){var a;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"BEGIN_AUTHENTICATING"}),e.prev=1,e.next=4,J()("".concat(ne.apiUrl,"/auth/authenticate"),{withCredentials:!0});case 4:401===(a=e.sent).status?t(fe(a.data.data)):200===a.status&&t(he(a.data.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(fe(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}())},setLoader:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e(de(t,n,a))},setAlert:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(gt(t,n,a))},setUser:function(t){e(pe(t))},setStayBox:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e(ft(t,n))},beginSigningOut:function(){return e(Ne())},resetIsSignedUp:function(){return e({type:"RESET_IS_SIGNED_UP"})},calculateTotals:function(){return e(qt())},setFormError:function(t){return e(Pe(t))}}})(Pa)),Ba=Object(h.a)();W.subscribe(function(e,t,n){var a;return function(){var r=this,s=arguments,i=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,s)},t),i&&e.apply(r,s)}}(function(){W.getState()},1e3));var Ua=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:W},r.a.createElement(p.c,{history:Ba},r.a.createElement(Fa,null)))}}]),t}(a.Component),Va=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function La(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(Ua,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Va?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):La(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):La(e)})}}()},64:function(e){e.exports={vitamins:[{name:"Vitamin-A",id:"vitamin-a",inputName:"vitaminA",rda:"900",measurement:"mcg"},{name:"Vitamin-B1",id:"vitamin-b1",inputName:"vitaminB1",rda:"1.2",measurement:"mg"},{name:"Vitamin-B2",id:"vitamin-b2",inputName:"vitaminB2",rda:"1.3",measurement:"mg"},{name:"Vitamin-B3",id:"vitamin-b3",inputName:"vitaminB3",rda:"16",measurement:"mg"},{name:"Vitamin-B5",id:"vitamin-B5",inputName:"vitaminB5",rda:"5",measurement:"mg"},{name:"Vitamin-B6",id:"vitamin-b6",inputName:"vitaminB6",rda:"1.3",measurement:"mg"},{name:"Vitamin-B7",id:"vitamin-b7",inputName:"vitaminB7",rda:"30",measurement:"mcg"},{name:"Vitamin-B12",id:"vitamin-b12",inputName:"vitaminB12",rda:"2.4",measurement:"mcg"},{name:"Calcium",id:"calcium",inputName:"calcium",rda:"1000",measurement:"mg"},{name:"Choline",id:"choline",inputName:"choline",rda:"550",measurement:"mg"},{name:"Chromium",id:"chromium",inputName:"chromium",rda:"35",measurement:"mcg"},{name:"Copper",id:"copper",inputName:"copper",rda:"900",measurement:"mcg"},{name:"Fluoride",id:"fluoride",inputName:"fluoride",rda:"4",measurement:"mg"},{name:"Folic Acid",id:"folic-acid",inputName:"folicAcid",rda:"400",measurement:"mcg"},{name:"Iodine",id:"iodine",inputName:"iodine",rda:"150",measurement:"mcg"},{name:"Iron",id:"iron",inputName:"iron",rda:"8",measurement:"mg"},{name:"Magnesium",id:"magnesium",inputName:"magnesium",rda:"400",measurement:"mg"},{name:"Manganese",id:"manganese",inputName:"manganese",rda:"2.3",measurement:"mg"},{name:"Molybdenum",id:"molybdenum",inputName:"molybdenum",rda:"45",measurement:"mcg"},{name:"Phosphorus",id:"phosphorus",inputName:"phosphorus",rda:"700",measurement:"mg"},{name:"Potassium",id:"potassium",inputName:"potassium",rda:"4700",measurement:"mg"},{name:"Selenium",id:"selenium",inputName:"selenium",rda:"55",measurement:"mcg"},{name:"Salt",id:"salt",inputName:"salt",rda:"500",measurement:"mg"},{name:"Vitamin-D3",id:"vitamin-d3",inputName:"vitaminD3",rda:"10000",iuValue:"10000",measurement:"mcg"},{name:"Vitamin-D3",id:"vitamin-d3",inputName:"vitaminD3",rda:"10000",iuValue:"10000",measurement:"mcg"},{name:"Vitamin-E",id:"vitamin-e",inputName:"vitaminE",rda:"15",measurement:"mg"},{name:"Vitamin-K",id:"vitamin-k",inputName:"vitaminK",rda:"120",measurement:"mcg"},{name:"Zinc",id:"zinc",inputName:"zinc",rda:"11",measurement:"mg"}]}}},[[192,1,2]]]);
//# sourceMappingURL=main.e829b474.chunk.js.map