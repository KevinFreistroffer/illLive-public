{"version":3,"sources":["components/loading/loadingGif.gif","routes/todays-totals/lnr-user.svg","reducers/app.reducers.js","actions/types.js","reducers/loading.reducers.js","reducers/user.reducers.js","reducers/dashboard.reducers.js","reducers/menu.reducers.js","reducers/alert.reducers.js","reducers/details.reducers.js","reducers/staybox.reducers.js","reducers/totals.reducers.js","utilities/store.js","store.js","utilities/subscribe.js","routes/home/index.js","configs/index.js","services/user.service.js","utilities/auth.js","utilities/localStorage.js","actions/loading.actions.js","actions/user.actions.js","constants.js","components/FormError.js","routes/register/Username.js","routes/register/Email.js","routes/register/Password.js","routes/register/ConfirmPassword.js","routes/register/index.js","routes/register-success/index.js","routes/signin/Login.js","routes/signin/Password.js","routes/signin/StaySignedIn.js","routes/signin/index.js","actions/staybox.actions.js","actions/alert.actions.js","app-config.js","routes/confirm-account/index.js","routes/create/index.js","routes/Dashboard/index.js","services/dashboard.service.js","actions/dashboard.actions.js","actions/totals.actions.js","routes/make-a-meal/Detail.js","utilities/index.js","routes/make-a-meal/ChooseAConsumable/SelectAMealMessage.js","routes/make-a-meal/ChooseAConsumable/FoodDrinksForm.js","routes/make-a-meal/ChooseAConsumable/AddFirstFoodItem.js","routes/make-a-meal/ChooseAConsumable/index.js","routes/make-a-meal/MyMeals/Meal.js","routes/make-a-meal/MyMeals/index.js","components/ErrorBoundary.js","routes/make-a-meal/index.js","routes/new-consumable/AreYouSure.js","routes/new-consumable/Name.js","routes/new-consumable/Type.js","routes/new-consumable/Measurements.js","routes/new-consumable/NutritionalData.js","routes/new-consumable/NutritionalInfoTransition.js","routes/new-consumable/constants.js","routes/new-consumable/index.js","routes/edit-consumable/index.js","routes/todays-totals/NutrientData.js","routes/todays-totals/index.js","actions/details.actions.js","routes/Consumed/index.js","routes/404/index.js","components/header/Menu.js","components/header/index.js","actions/menu.actions.js","routes/Account/index.js","routes/reset-password/index.js","routes/confirm-reset-password-token/index.js","routesConfig.js","components/footer/index.js","components/menu/index.js","components/loading/index.js","components/search/index.js","components/alert/index.js","components/stayBox/index.js","components/App/index.js","components/Provider.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","appName","MEASUREMENT_REQUIRED","FOOD_OR_DRINK_REQUIRED","FOODDRINK_NAME_REQUIRED","isLoading","loadingText","username","email","password","confirmationToken","authenticationToken","apiToken","foodDrinks","measurements","formError","authenticationErrors","signInErrors","saveNewFoodDrinkErrors","confirm24HourMealResetMessageErrors","confirmed24HourMealResetMessage","isConfirming24HourMealResetMessage","accountConfirmationError","accountConfirmed","isStoringUser","isAuthenticating","isAuthenticated","isSigningIn","isSigningUp","isSignedUp","isSigningOut","isConfirmingAccount","isSendingResetPasswordEmail","resetPasswordEmailSent","isAddingNewFoodDrink","confirmedCookieFlag","successSavingNewFoodDrink","isSavingNewFoodDrink","isSavingMeals","isCreatingNewMeal","errors","menuOpen","isVisible","title","text","feeling","showDetails","isCalculatingTotals","totals","vitaminA","vitaminB1","vitaminB2","vitaminB3","vitaminB5","vitaminB6","vitaminB7","calcium","choline","chromium","copper","fluoride","folicAcid","iodine","iron","magnesium","manganese","molybdenum","phosphorus","potassium","salt","vitaminD3","vitaminE","vitaminK","zinc","deleteStoreState","localStorage","getItem","delete","error","console","log","rootReducer","combineReducers","appReducers","state","arguments","length","undefined","userReducers","action","type","payload","_objectSpread","user","token","formErrorText","Object","toConsumableArray","dashboardReducers","dashboard_reducers_objectSpread","concat","measurement","loadingReducers","showSpinner","menuReducers","menu_reducers_objectSpread","alertReducers","_ref","alert_reducers_objectSpread","body","detailsReducers","details_reducers_objectSpread","stayBoxReducers","staybox_reducers_objectSpread","totalsReducers","totals_reducers_objectSpread","persistedState","serializedState","JSON","parse","loadState","store","createStore","applyMiddleware","Thunk","subscribe","func","wait","immediate","timeout","context","this","args","callNow","clearTimeout","setTimeout","apply","debounce","getState","Home","props","react_default","a","createElement","className","styles","id","onClick","history","push","configs","domain","apiUrl","environment","online","sessionTimeout","tokenTimeout","minDesktopViewport","signIn","login","rememberMe","axios","method","withCredentials","headers","Content-type","data","signUp","_ref2","signOut","cookie","remove","addToLocalStorage","name","content","updateLocalStorage","indexOf","setItem","stringify","warn","serializedContent","removeItem","clearLocalStorage","clear","setLoader","setUser","successAuthenticating","dispatch","meals","failureAuthenticating","asyncToGenerator","regenerator_default","mark","_callee2","signUpResponse","wrap","_context2","prev","next","sendSignUpRequest","sent","success","successSigningUp","failureSigningUp","t0","stop","_x3","credentials","_ref3","_callee3","_context3","sendSignInRequest","then","response","status","successSigningIn","failureSigningIn","catch","_x4","beginSigningOut","_ref4","_callee4","_context4","sendSignOutRequest","successSigningOut","failureSigningOut","_x5","confirmAccount","sendConfirmAccountRequest","_response$data","invalidToken","tokenExpired","errorObj","failureConfirmingAccount","successConfirmingAccount","beginConfirm24HourMealResetMessage","confirm24HourMealResetMessage","successConfirm24HourMealResetMessage","failureConfirm24HourMealResetMessage","sendResetPasswordEmail","sendResetPasswordEmailRequest","successPasswordReset","failurePasswordReset","setFormError","EMAIL_REGEX","PASSWORDS_MATCH_ERROR_TEXT","INVALID_EMAIL_TEXT","FormError","_useState","useState","_useState2","slicedToArray","emailErrorText","setEmailErrorText","useEffect","inputName","React","Children","toArray","children","map","childErrorText","displayName","Username","formGlobalError","handleOnChange","handleOnBlur","htmlFor","placeholder","autoComplete","onChange","onBlur","required","components_FormError","Email","pattern","Password","ConfirmPassword","Register","_Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inputsAreAllPopulated","document","getElementById","value","replace","confirm","emailIsValid","match","passwordsMatch","event","_this$setState","_this$createInputVali","createInputValidationVariables","capitalizedInputName","inputIsEmpty","inputNameErrorText","setState","defineProperty","confirmErrorText","passwordErrorText","_this$createInputVali2","passwordValue","confirmValue","handleSubmit","preventDefault","formSubmitted","_callee","_context","beginSigningUp","usernameValue","emailValue","usernameErrorText","registerSuccessfull","inherits","createClass","key","target","toUpperCase","substr","location","pathName","currentRoute","prevProps","prevState","registerStyles","react_router_dom","to","signin","validForm","onSubmit","noValidate","register_Username","register_Email","register_Password","register_ConfirmPassword","Component","connect","register_objectSpread","RegisterSuccess","RegisterSuccessStyles","alert","Login","input","StaySignedIn","handleRememberMeOnChange","SignIn","signInSuccessfull","loginErrorText","bind","assertThisInitialized","loginValue","beginSigningIn","stateLoginValue","statePasswordValue","_this$state","SignInStyles","signin_Login","signin_Password","signin_StaySignedIn","withRouter","setStayBox","setAlert","SERVER_URL","ConfirmAccount","emailNewToken","crossDomain","mode","formText","message","validEmail","_this2","isConfirmed","params","beginConfirmingAccount","_this3","_","EmailInput","SuccessLink","confirmErrorObj","ConfirmAccountStyles","CreateProfileAfterSignup","profileSaved","ageErrorText","weightErrorText","post","setProfileAfterSignUp","age","weight","foundUser","CreateProfileAfterSignupStyles","ref","selected","Dashboard","style","DashboardStyles","confirm24HourMealReset","showing","beginConfirm24HourMealReset","sendSaveMealsRequest","saveNewFoodDrink","foodDrink","sendSaveFoodDrinkRequest","savedUser","failureSavingNewFoodDrink","createNewMeal","meal","sendCreateNewMealRequest","successCreatingNewMeal","failureCreatingNewMeal","dashboardActions","beginStoringUser","saveMeals","successSavingMeals","failureSavingMeals","_x","calculateTotals","forEach","consumable","newTotals","Detail","Detail_objectSpread","vitamins","consumableId","consumableIndex","closeModal","handleOnNext","handleOnPrevious","outputItemMeasurementOptions","vitaminsJSON","close","index","hasOwnProperty","Array","isArray","consumables","item","vitamin","find","v","servingSize","m","_this4","itemName","outputConsumableDetails","vitaminB12","flouride","selenium","showAlert","ShowSelectAMealMessage","Option","Select","ServingSizeErrorMessage","NumOfServingsErrorMessage","AddButton","save","FoodDrinksForm","data-consumable-id","selectedFoodDrink","_id","foodOrDrink","es_select","defaultValue","servingSizeOnChange","disabled","servingSizes","FoodDrinksForm_ServingSizeErrorMessage","String","numOfServings","setFormIsSubmitted","handleNumOfServingsOnChange","FoodDrinksForm_NumOfServingsErrorMessage","FoodDrinksForm_AddButton","saveFoodDrinkToMeal","numOfFoodDrinks","foodDrinksSelectClassNames","classNames","space-between","justify-start","FoodDrinkOptions","sort","ChooseAConsumable_Option","selectedMeasurement","foodDrinkSelectValue","foodDrinkSelectOnChange","ChooseAConsumable_AddFirstFoodItem","ChooseAConsumable_FoodDrinksForm","selectedMeal","SelectAMealMessage","Meal","MealName","MealNameText","SetTitleInput","WhatsInTheMeal","NoItemsInTheMeal","deleteMeal","mealsLength","saveMealName","mealNameOnChange","_React$useState","_React$useState2","mealName","setMealName","_React$useState3","_React$useState4","showInput","toggleInput","_React$useState5","_React$useState6","showContent","toggleContent","_React$useState7","_React$useState8","showEdit","toggleShowEdit","_React$useState9","_React$useState10","currentMeal","setCurrentMeal","_React$useState11","_React$useState12","componentJustMounted","setMounted","mealNameClasses","show-edit","autoFocus","stopPropagation","MyMeals","MealsOptions","NoMealsMessage","handleMealNameOnChange","handleMealSelectOnChange","MyMeals_Option","MyMeals_Meal","ErrorBoundary","_React$Component","hasError","errorInfo","DetailStyles","position","MakeAMeal","getDateAndTimeZone","dateObj","Date","momentDateObj","moment","month","format","day","year","date","timezoneGuess","momentz","tz","guess","foodDrinkObjectIsNotEmpty","idAndMealNumber","newMeal","saved","beginCreatingNewMeal","addConsumableToMeal","isSameMeasurement","foodDrinkIndex","foodDrinkIsAlreadyIncluded","mealToUpdateIndex","mealsToUpdate","foodDrinkToUpdate","make_a_meal_objectSpread","mealToUpdate","userHasMealsToday","noMealHasBeenSelected","showSelectAMealMessage","findIndex","foodDrinkAlreadyIncluded","foodDrinksAreSameMeasurement","parseFloat","assign","mealId","filteredMeals","filter","LocalStorage","existingFoodDrink","some","_foodDrink","sameServingSize","beginSavingMeals","setSelectedMeal","makeAMealName","_this$state2","newMealsState","addNewMeasurement","toggleMealNameInput","showMealNameInput","_this$state3","foundMeal","setFormSubmitted","foodFormIsValid","isFoodFormValid","handleOnCloseDetail","showDetailModal","_this$state$selectedF","trim","handleFoodDrinkSelectOnChange","foundFoodDrink","handleNewMeasurementOnChange","newMeasurement","targetValue","split","slice","handleServingSizeOnChange","handleMeasurementOnChange","persist","confirmMealReset","beginConfirmMealReset24Hours","quantityRef","createRef","mealsFromLocalStorage","_this$getDateAndTimeZ","QuantityErrorMessage","_this$state4","noFoodDrinksYet","components_ErrorBoundary","MakeAMealStyles","make_a_meal_ChooseAConsumable","make_a_meal_MyMeals","make_a_meal_Detail","isConfirming24HourMealResetMessages","isConfirming24Message","form","width","maxWidth","height","minHeaight","backgroundColor","borderRadius","display","flexDirection","justifyContent","alignItems","zIndex","confirmText","color","fontSize","button","margin","border","boxShadow","AreYouSure","answer","is","answerIs","FoodDrinkInputName","Fragment","TextField","label","variant","FoodOrDrink","Type_Option","Measurements","toString","oneMeasurementRequiredMessage","showSearch","optionFilterProp","filterOption","option","toLowerCase","Measurements_Option","NutritionalData","goBack","clearForm","clearInnerForm","calories","default","component","top","right","bottom","left","NutritionalInfoTransition","setIsTransitioningState","setHasSeenNutritionalContentTransition","c","class","react_transition_group","transitionName","transitionAppear","transitionAppearTimeout","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","DEFAULT_FOOD_OR_DRINK_VALUE","DEFAULT_SELECTED_MEASUREMENT_VALUE","confirmContainerStyles","Add","parseInt","foodDrinkInputName","statevitaminB2","handleFoodDrinkInputOnChange","stepsToUpdate","steps","completed","measurementIsAlreadyAdded","debounceValidateForm","outputQuantity","quantity","q","outputVitamins","areYouSure","showAreYouSure","handleAnswer","step","capitalizedName","measurementEditMode","iodinee","showOneMeasurementRequiredMessage","selectedTypeOfRequiredMessage","selectedMeasurementRequiredMessage","atLeastOneMeasurementRequiredMessage","formErrors","querySelectorAll","setfoodOrDrink","setSelectedMeasurement","turnEditModeOff","turnEditModeOn","deleteMeasurement","measurementIndex","isValidForm","setIsValidForm","delayIsValidForm","delay","saveFoodOrDrink","details","nutritionalData","beginSavingNewFoodDrink","handleMesurementsOnChange","handleFoodOrDrinkOnChange","handleMeasurementSelectOnChange","previous","isInStepperPhase","isTransitioningToNutritionalData","hasSeenTransitionToNutritionalData","setStep","selectedStep","clearNutritionalDataForm","handleNutritionalDataGoBack","handleSetIsTransitioningState","isTransitioning","handleSetHasSeenNutritionalDataTransition","clearActiveStepFormValue","new_consumable_objectSpread","s","i","skipped","isDesktop","innerWidth","getFromLocalStorage","windowInnerWidth","window","addEventListener","names","removeFromLocalStorage","info","FoodOrDrinkIcon","OneMeasurementRequiredMessage","_React$createElement","_this$state5","contentClasses","content-with-padding","NewConsumableStyles","Name","Type","new_consumable_Measurements","new_consumable_NutritionalData","es_button","new_consumable_AreYouSure","new_consumable_NutritionalInfoTransition","setHasSeenNutritionalDataTransition","pushToSaveFoodDrinkErrors","EditConsumable","fetch","Content-Type","json","NutrientData","OutOfText","total","rda","percentage","background","animation","modal","TodaysTotals","someMealsAreNotEmpty","fd","beginCalculateTotalsChecks","deleteNonVitaminsMineralsCalories","outputTodaysTotals","vitaminsMineralsCalories","nutritionalDataObject","todays_totals_NutrientData","showDetailsModal","showVitaminDetailsModal","selectedVitamin","vitaminsUpdated","selctedVitamin","userHasNoMeals","iuValue","vitaminsObj","totalsAreCalculated","mealsData","strippedMealsData","newVitaminsMineralsCalories","todays_totals_objectSpread","mealData","Nutrients","UserHasNoMealsMessage","load","toggleDetails","Consumed","ConsumedStyles","Consumed_objectSpread","PageNotFound","PageNotFoundStyles","Menu","closeMenu","Header","userMenuIsVisible","communicationType","userSelectedSignOut","isDesktopViewport","IsAuthenticatedMenu","MobileIsAuthenticatedMenu","NotAuthenticatedRoutes","_this$props","siteName","pathname","react_router","onMouseLeave","Menu_Menu","dark-header","HeaderStyles","toggleMenu","Account","ResetPassword","beginPasswordReset","emailSentSuccessful","ResetPasswordStyles","ConfirmResetPasswordToken","_ref$target","isValidEmail","sendNewEmailLink","isMounted","isValidToken","showForm","confirmResetPasswordToken","CSS","confirm_reset_password_token_objectSpread","notAuthenticatedRoutes","path","CreateProfileAfterRegister","authenticatedRoutes","NewConsumable","Footer","routes","footerRoutes","route","FooterStyles","href","rel","menuState","MenuStyles","ExitToApp_default","Loading","LoadingStyles","src","loadingGif","alt","Search","SearchStyles","Alert","_getPrototypeOf2","_len","_key","createMarkup","__html","handleOnClose","alertClasses","block fade-in-alert","alertStyles","dangerouslySetInnerHTML","addNewFoodDrinkErrors","StayBoxStyles","html","App","defaults","handleStayBoxSetIsVisible","isADashboardTypeOfView","get","res","err","user_sid","authenticate","locationListener","listen","unlisten","isSendingRecoverPasswordEmail","resetIsSignedUp","accountCreated","sessionStorage","errorString","menuIsOpen","AppStyles","stayBoxIsVisible","stayBox","stayBoxText","setIsVisible","components_loading","menu","components_alert","header","exact","footer","authenticationResponse","_x2","createBrowserHistory","ProviderComponent","es","components_App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","Provider","URL","process","origin","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e829b474.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loadingGif.29799c52.gif\";","module.exports = __webpack_public_path__ + \"static/media/lnr-user.0a06c92b.svg\";","export const initialState = {\r\n\tappName: 'illLive'\r\n};\r\n\r\nexport const appReducers = (state = initialState, action) => {\r\n\treturn state;\r\n};","export const BEGIN_STORING_USER = \"BEGIN_STORING_USER\";\r\nexport const STORE_USER = \"STORE_USER\";\r\nexport const STORE_USER_IN_LOCALSTORAGE = \"STORE_USER_IN_LOCALSTORAGE\"; // Can be removed replaced by just localStorage.add\r\nexport const STORE_AUTHENTICATION_TOKEN = \"STORE_AUTHENTICATION_TOKEN\";\r\nexport const STORE_API_TOKEN = \"STORE_API_TOKEN\";\r\nexport const STORE_ACCOUNT_CONFIRMATION_TOKEN =\r\n  \"STORE_ACCOUNT_CONFIRMATION_TOKEN\";\r\n\r\nexport const BEGIN_AUTHENTICATING = \"BEGIN_AUTHENTICATING\";\r\nexport const SUCCESS_AUTHENTICATING = \"SUCCESS_AUTHENTICATING\";\r\nexport const FAILURE_AUTHENTICATING = \"FAILURE_AUTHENTICATING\";\r\n\r\nexport const BEGIN_CONFIRMING_ACCOUNT = \"BEGIN_CONFIRMING_ACCOUNT\";\r\nexport const SUCCESS_CONFIRMING_ACCOUNT = \"SUCCESS_CONFIRMING_ACCOUNT\";\r\nexport const FAILURE_CONFIRMING_ACCOUNT = \"FAILURE_CONFIRMING_ACCOUNT\";\r\n\r\nexport const BEGIN_SIGNING_OUT = \"BEGIN_SIGNING_OUT\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const SUCCESS_SIGNING_OUT = \"SUCCESS_SIGNING_OUT\";\r\nexport const FAILURE_SIGNING_OUT = \"FAILURE_SIGNING_OUT\";\r\n\r\nexport const BEGIN_SIGNING_IN = \"BEGIN_SIGNING_IN\";\r\nexport const SIGN_IN = \"SIGN_IN\";\r\nexport const SUCCESS_SIGNING_IN = \"SUCCESS_SIGNING_IN\";\r\nexport const FAILURE_SIGNING_IN = \"FAILURE_SIGNING_IN\";\r\n\r\nexport const BEGIN_SIGNING_UP = \"BEGIN_SIGNING_UP\";\r\nexport const SIGN_UP = \"SIGN_UP\";\r\nexport const SUCCESS_SIGNING_UP = \"SUCCESS_SIGNING_UP\";\r\nexport const FAILURE_SIGNING_UP = \"FAILURE_SIGNING_UP\";\r\nexport const RESET_IS_SIGNED_UP = \"RESET_IS_SIGNED_UP\";\r\n\r\nexport const SET_CONFIRM_COOKIE_FLAG = \"SET_CONFIRM_COOKIE_FLAG\";\r\nexport const BEGIN_CONFIRM_24_HOUR_MEAL_RESET =\r\n  \"BEGIN_CONFIRM_24_HOUR_MEAL_RESET\";\r\nexport const SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET =\r\n  \"SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET\";\r\nexport const FAILURE_CONFIRMING_24_HOUR_MEAL_RESET =\r\n  \"FAILURE_CONFIRMING_24_HOUR_MEAL_RESET\";\r\n\r\nexport const MEASUREMENT_REQUIRED = \"MEASUREMENT_REQUIRED\";\r\nexport const FOOD_OR_DRINK_REQUIRED = \"FOOD_OR_DRINK_REQUIRED\";\r\nexport const FOODDRINK_NAME_REQUIRED = \"FOODDRINK_NAME_REQUIRED\";\r\n\r\nexport const BEGIN_SAVING_NEW_MEASUREMENT = \"BEGIN_SAVING_NEW_MEASUREMENT\";\r\nexport const SUCCESS_SAVING_NEW_MEASUREMENT = \"SUCCESS_SAVING_NEW_MEASUREMENT\";\r\nexport const FAILURE_SAVING_NEW_MEASUREMENT = \"FAILURE_SAVING_NEW_MEASUREMENT\";\r\n\r\nexport const BEGIN_ADDING_NEW_MEASUREMENT = \"BEGIN_ADDING_NEW_MEASUREMENT\";\r\nexport const ADD_NEW_MEASUREMENT = \"ADD_NEW_MEASUREMENT\";\r\nexport const SUCCESS_ADDING_NEW_MEASUREMENT = \"SUCCESS_ADDING_NEW_MEASUREMENT\";\r\nexport const FAILURE_ADDING_NEW_MEASUREMENT = \"FAILURE_ADDING_NEW_MEASUREMENT\";\r\n\r\nexport const BEGIN_DELETING_MEASUREMENT = \"BEGIN_DELETING_MEASUREMENT\";\r\nexport const SUCCESS_DELETING_MEASUREMENT = \"SUCCESS_DELETING_MEASUREMENT\";\r\nexport const FAILURE_DELETING_MEASUREMENT = \"FAILURE_DELETING_MEASUREMENT\";\r\n\r\nexport const BEGIN_CREATING_NEW_MEAL = \"BEGIN_CREATING_NEW_MEAL\";\r\nexport const SUCCESS_CREATING_NEW_MEAL = \"SUCCESS_CREATING_NEW_MEAL\";\r\nexport const FAILURE_CREATING_NEW_MEAL = \"FAILURE_CREATING_NEW_MEAL\";\r\n\r\nexport const DASHBOARD_UPDATE_ERROR = \"DASHBOARD_UPDATE_ERROR\"; // TODO possibly delete.\r\nexport const SAVE_MEASUREMENT_ERROR = \"SAVE_MEASUREMENT_ERROR\";\r\n\r\nexport const BEGIN_SAVING_NEW_FOOD_DRINK = \"BEGIN_SAVING_NEW_FOOD_DRINK\";\r\nexport const SUCCESS_SAVING_NEW_FOOD_DRINK = \"SUCCESS_SAVING_NEW_FOOD_DRINK\";\r\nexport const FAILURE_SAVING_NEW_FOOD_DRINK = \"FAILURE_SAVING_NEW_FOOD_DRINK\";\r\nexport const PUSH_TO_SAVE_FOOD_DRINK_ERRORS = \"PUSH_TO_SAVE_FOOD_DRINK_ERRORS\";\r\n\r\nexport const BEGIN_SAVING_MEALS = \"BEGIN_SAVING_MEALS\";\r\nexport const SUCCESS_SAVING_MEALS = \"SUCCESS_SAVING_MEALS\";\r\nexport const FAILURE_SAVING_MEALS = \"FAILURE_SAVING_MEALS\";\r\n\r\nexport const TOGGLE_MENU = \"TOGGLE_MENU\";\r\n\r\nexport const SET_LOADER = \"SET_LOADER\";\r\n\r\nexport const SET_ALERT = \"SET_ALERT\";\r\n\r\nexport const BEGIN_CALCULATING_TOTALS = \"BEGIN_CALCULATING_TOTALS\";\r\nexport const CALCULATE_TOTALS = \"CALCULATE_TOTALS\";\r\nexport const CALCULATE_TOTALS_SUCCESS = \"CALCULATE_TOTALS_SUCCESS\";\r\nexport const CALCULATE_TOTALS_FAILURE = \"CALCULATE_TOTALS_FAILURE\";\r\nexport const BEGIN_MEAL_ADDITION_CALCULATION =\r\n  \"BEGIN_MEAL_ADDITION_CALCULATION\";\r\nexport const MEAL_ADDITION_CALCULATION = \"MEAL_ADDITION_CALCULATION\";\r\nexport const MEAL_ADDITION_CALCULATION_SUCCESS =\r\n  \"MEAL_ADDITION_CALCULATION_SUCCESS\";\r\nexport const MEAL_ADDITION_CALCULATION_FAILURE =\r\n  \"MEAL_ADDITION_CALCULATION_FAILURE\";\r\n\r\nexport const SET_STAY_BOX = \"SET_STAY_BOX\";\r\n\r\nexport const TOGGLE_DETAILS = \"TOGGLE_DETAILS\";\r\n\r\nexport const BEGIN_PASSWORD_RESET = \"BEGIN_PASSWORD_RESET\";\r\nexport const SUCCESS_PASSWORD_RESET = \"SUCCESS_PASSWORD_RESET\";\r\nexport const FAILURE_PASSWORD_RESET = \"FAILURE_PASSWORD_RESET\";\r\n\r\nexport const SET_FORM_ERROR = \"SET_FORM_ERROR\";\r\n","import { SET_LOADER } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  loadingText: ''\r\n};\r\n\r\nexport let loadingReducers = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n\r\n    case SET_LOADER:\r\n      return {\r\n        isLoading: action.isLoading,\r\n        loadingText: action.loadingText,\r\n        showSpinner: action.showSpinner\r\n      }\r\n\r\n    default:\r\n      return state;\r\n\r\n  }\r\n};\r\n","import {\r\n  BEGIN_STORING_USER,\r\n  STORE_USER,\r\n  STORE_AUTHENTICATION_TOKEN,\r\n  STORE_ACCOUNT_CONFIRMATION_TOKEN,\r\n  STORE_API_TOKEN,\r\n  BEGIN_SIGNING_OUT,\r\n  SUCCESS_SIGNING_OUT,\r\n  FAILURE_SIGNING_OUT,\r\n  BEGIN_SIGNING_IN,\r\n  SUCCESS_SIGNING_IN,\r\n  FAILURE_SIGNING_IN,\r\n  BEGIN_SIGNING_UP,\r\n  SUCCESS_SIGNING_UP,\r\n  FAILURE_SIGNING_UP,\r\n  RESET_IS_SIGNED_UP,\r\n  BEGIN_AUTHENTICATING,\r\n  SUCCESS_AUTHENTICATING,\r\n  FAILURE_AUTHENTICATING,\r\n  BEGIN_CONFIRMING_ACCOUNT,\r\n  SUCCESS_CONFIRMING_ACCOUNT,\r\n  FAILURE_CONFIRMING_ACCOUNT,\r\n  SET_CONFIRM_COOKIE_FLAG,\r\n  BEGIN_CONFIRM_24_HOUR_MEAL_RESET,\r\n  SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET,\r\n  FAILURE_CONFIRMING_24_HOUR_MEAL_RESET,\r\n  BEGIN_PASSWORD_RESET,\r\n  SUCCESS_PASSWORD_RESET,\r\n  FAILURE_PASSWORD_RESET,\r\n  SET_FORM_ERROR\r\n} from \"../actions/types\";\r\n\r\n// TODO change the errors[] to a single Object. Can't think of times when\r\n// multiple errors would exist.\r\nconst initialState = {\r\n  username: \"\",\r\n  email: \"\",\r\n  password: \"\", // TODO remove password\r\n  confirmationToken: \"\",\r\n  authenticationToken: \"\",\r\n  apiToken: \"\",\r\n  foodDrinks: [],\r\n  measurements: [],\r\n  formError: \"\",\r\n  authenticationErrors: [], // TODO I think can be deleted\r\n  signInErrors: [], // TODO can be deleted\r\n  saveNewFoodDrinkErrors: [], // TODO probably can be deleted\r\n  confirm24HourMealResetMessageErrors: [], // TODO probably can be deleted f\r\n  confirmed24HourMealResetMessage: false,\r\n  isConfirming24HourMealResetMessage: false,\r\n  accountConfirmationError: {},\r\n  accountConfirmed: false,\r\n  isStoringUser: false,\r\n  isAuthenticating: false,\r\n  isAuthenticated: false,\r\n  isSigningIn: false,\r\n  isSigningUp: false,\r\n  isSignedUp: false,\r\n  isSigningOut: false,\r\n  isConfirmingAccount: false,\r\n  isSendingResetPasswordEmail: false,\r\n  resetPasswordEmailSent: false,\r\n  isAddingNewFoodDrink: false,\r\n  confirmedCookieFlag: false\r\n};\r\n\r\nexport const userReducers = (state = initialState, action) => {\r\n  console.log(action.type);\r\n  console.log(action.payload);\r\n  switch (action.type) {\r\n    case BEGIN_STORING_USER:\r\n      return {\r\n        ...state,\r\n        isStoringUser: true\r\n      };\r\n    case STORE_USER:\r\n      //console.log(`STORE_USER`);\r\n      return {\r\n        ...state,\r\n        ...action.payload.user,\r\n        isStoringUser: false\r\n      };\r\n\r\n    case BEGIN_AUTHENTICATING:\r\n      return {\r\n        ...state,\r\n        isAuthenticating: true\r\n      };\r\n\r\n    case SUCCESS_AUTHENTICATING:\r\n      return {\r\n        ...state,\r\n        isAuthenticating: false,\r\n        isAuthenticated: true,\r\n        authenticationErrors: []\r\n      };\r\n\r\n    case FAILURE_AUTHENTICATING:\r\n      return {\r\n        ...state,\r\n        isAuthenticating: false,\r\n        isAuthenticated: false,\r\n        authenticationErrors: [action.payload.errors]\r\n      };\r\n\r\n    case STORE_ACCOUNT_CONFIRMATION_TOKEN:\r\n      return {\r\n        ...state,\r\n        confirmationToken: action.token\r\n      };\r\n\r\n    case STORE_AUTHENTICATION_TOKEN:\r\n      return {\r\n        ...state,\r\n        authenticationToken: action.token\r\n      };\r\n\r\n    case STORE_API_TOKEN:\r\n      return {\r\n        ...state,\r\n        apiToken: action.token\r\n      };\r\n\r\n    case BEGIN_SIGNING_IN:\r\n      return {\r\n        ...state,\r\n        isSigningIn: true\r\n      };\r\n\r\n    case SUCCESS_SIGNING_IN:\r\n      return {\r\n        ...state,\r\n        isSigningIn: false,\r\n        isAuthenticated: true,\r\n        signInErrors: []\r\n      };\r\n\r\n    case FAILURE_SIGNING_IN:\r\n      console.log(`FAILURE_SIGNING_IN()`, action.payload.error);\r\n      return {\r\n        ...state,\r\n        isSigningIn: false,\r\n        isAuthenticated: false,\r\n        formErrorText: action.payload.error\r\n      };\r\n\r\n    case BEGIN_SIGNING_UP:\r\n      return {\r\n        ...state,\r\n        isSigningUp: true\r\n      };\r\n\r\n    case SUCCESS_SIGNING_UP:\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isSignedUp: true\r\n      };\r\n\r\n    case RESET_IS_SIGNED_UP:\r\n      return {\r\n        ...state,\r\n        isSignedUp: false\r\n      };\r\n\r\n    case FAILURE_SIGNING_UP:\r\n      console.log(`failure_signing_up`);\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isSignedUp: false\r\n      };\r\n\r\n    case BEGIN_SIGNING_OUT:\r\n      return {\r\n        ...state,\r\n        isSigningOut: true\r\n      };\r\n\r\n    case SUCCESS_SIGNING_OUT:\r\n      return {\r\n        ...state,\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmationToken: \"\",\r\n        authenticationToken: \"\",\r\n        apiToken: \"\",\r\n        foodDrinks: [],\r\n        measurements: [],\r\n        formError: \"\",\r\n        authenticationErrors: [],\r\n        signInErrors: [],\r\n        saveNewFoodDrinkErrors: [],\r\n        accountConfirmationError: {\r\n          ...state\r\n        },\r\n        accountConfirmed: false,\r\n        isAuthenticating: false,\r\n        isAuthenticated: false,\r\n        isSigningIn: false,\r\n        isSigningUp: false,\r\n        isSigningOut: false,\r\n        isConfirmingAccount: false,\r\n        isAddingNewFoodDrink: false,\r\n        confirmedCookieFlag: false\r\n      };\r\n\r\n    case FAILURE_SIGNING_OUT:\r\n      return {\r\n        ...state,\r\n        ...action.user,\r\n        isSigningOut: false\r\n      };\r\n\r\n    case BEGIN_CONFIRMING_ACCOUNT:\r\n      return {\r\n        ...state,\r\n        isConfirmingAccount: true\r\n      };\r\n\r\n    case SUCCESS_CONFIRMING_ACCOUNT:\r\n      return {\r\n        ...state,\r\n        isConfirmingAccount: false,\r\n        accountConfirmed: true\r\n      };\r\n\r\n    case FAILURE_CONFIRMING_ACCOUNT:\r\n      return {\r\n        ...state,\r\n        isConfirmingAccount: false,\r\n        accountConfirmed: false,\r\n        accountConfirmationError: {\r\n          ...state,\r\n          ...state.accountConfirmationError,\r\n          ...action.payload.error // should be .errors ?\r\n        }\r\n      };\r\n\r\n    case SET_CONFIRM_COOKIE_FLAG:\r\n      return {\r\n        ...state,\r\n        confirmedCookieFlag: true\r\n      };\r\n\r\n    case BEGIN_CONFIRM_24_HOUR_MEAL_RESET:\r\n      //console.log(`[userReducers] BEGIN_CONFIRM_24_HOUR_MEAL_RESET`);\r\n      return {\r\n        ...state,\r\n        isConfirming24HourMealResetMessage: true\r\n      };\r\n\r\n    case SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET:\r\n      //console.log(`[userReducers] SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET`);\r\n      return {\r\n        ...state,\r\n        confirmed24HourMealResetMessage: true,\r\n        isConfirming24HourMealResetMessage: false\r\n      };\r\n\r\n    case FAILURE_CONFIRMING_24_HOUR_MEAL_RESET:\r\n      return {\r\n        ...state,\r\n        confirmed24HourMealResetMessage: false,\r\n        isConfirming24HourMealResetMessage: false,\r\n        confirm24HourMealResetMessageErrors: [...action.payload.errors]\r\n      };\r\n\r\n    case BEGIN_PASSWORD_RESET:\r\n      return {\r\n        ...state,\r\n        isSendingResetPasswordEmail: true\r\n      };\r\n\r\n    case SUCCESS_PASSWORD_RESET:\r\n      return {\r\n        ...state,\r\n        isSendingResetPasswordEmail: false,\r\n        resetPasswordEmailSent: true\r\n      };\r\n\r\n    case FAILURE_PASSWORD_RESET:\r\n      return {\r\n        ...state,\r\n        isSendingResetPasswordEmail: false,\r\n        resetPasswordEmailSent: false\r\n      };\r\n\r\n    case SET_FORM_ERROR:\r\n      return {\r\n        ...state,\r\n        formErrorText: action.payload.error\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import {\r\n  BEGIN_SAVING_NEW_MEASUREMENT,\r\n  SUCCESS_SAVING_NEW_MEASUREMENT,\r\n  FAILURE_SAVING_NEW_MEASUREMENT,\r\n  BEGIN_SAVING_NEW_FOOD_DRINK,\r\n  SUCCESS_SAVING_NEW_FOOD_DRINK,\r\n  FAILURE_SAVING_NEW_FOOD_DRINK,\r\n  PUSH_TO_SAVE_FOOD_DRINK_ERRORS,\r\n  FAILURE_SAVING_MEASUREMENT,\r\n  SUCCESS_SAVING_MEASUREMENT,\r\n  BEGIN_DELETING_MEASUREMENT,\r\n  FAILURE_DELETING_MEASUREMENT,\r\n  SUCCESS_DELETING_MEASUREMENT,\r\n  BEGIN_CREATING_NEW_MEAL,\r\n  FAILURE_CREATING_NEW_MEAL,\r\n  SUCCESS_CREATING_NEW_MEAL,\r\n  SAVE_MEASUREMENT_ERROR,\r\n  BEGIN_SAVING_MEALS,\r\n  SUCCESS_SAVING_MEALS,\r\n  FAILURE_SAVING_MEALS\r\n} from \"../actions/types\";\r\n\r\nlet initialState = {\r\n\tmeasurements: [],\r\n\tsuccessSavingNewFoodDrink: false,\r\n\tisSavingNewFoodDrink: false,\r\n\tisSavingMeals: false,\r\n\tisCreatingNewMeal: false,\r\n\terrors: [],\r\n\tsaveNewFoodDrinkErrors: []\r\n};\r\n\r\n\r\nexport let dashboardReducers = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase BEGIN_SAVING_NEW_MEASUREMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\r\n\t\tcase SUCCESS_SAVING_NEW_MEASUREMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmeasurements: [...state.measurements, action.measurement]\r\n\t\t\t};\r\n\r\n\t\tcase FAILURE_SAVING_NEW_MEASUREMENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: [...state.errors, action.error]\r\n\t\t\t};\r\n\r\n\t\tcase BEGIN_SAVING_NEW_FOOD_DRINK:\r\n\t\t\tconsole.log(`dashboardReducer BEGIN_SAVING_NEW_FOOD_DRINK`);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t// ...action.payload\r\n\t\t\t\tsuccessSavingNewFoodDrink: false,\r\n\t\t\t\tisSavingNewFoodDrink: true\r\n\t\t\t};\r\n\r\n\t\tcase SUCCESS_SAVING_NEW_FOOD_DRINK:\r\n\t\t\tconsole.log(`SUCCESS_SAVING_NEW_FOOD_DRINK`);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessSavingNewFoodDrink: true,\r\n\t\t\t\tisSavingNewFoodDrink: false\r\n\t\t\t};\r\n\r\n\t\tcase FAILURE_SAVING_NEW_FOOD_DRINK:\r\n\t\t\tconsole.log(`FAILURE_SAVING_NEW_FOOD_DRINK`, action.payload.errors);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessSavingNewFoodDrink: false,\r\n\t\t\t\tisSavingNewFoodDrink: false,\r\n\t\t\t\tsaveNewFoodDrinkErrors: [\r\n\t\t\t\t\t...state.saveNewFoodDrinkErrors,\r\n\t\t\t\t\t...action.payload.errors\r\n\t\t\t\t]\r\n\t\t\t};\r\n\r\n\t\tcase PUSH_TO_SAVE_FOOD_DRINK_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaveNewFoodDrinkErrors: [\r\n\t\t\t\t\t...state.saveNewFoodDrinkErrors,\r\n\t\t\t\t\t...action.payload.errors\r\n\t\t\t\t]\r\n\t\t\t};\r\n\r\n\t\tcase BEGIN_SAVING_MEALS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSavingMeals: true\r\n\t\t\t};\r\n\r\n\t\tcase SUCCESS_SAVING_MEALS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSavingMeals: false\r\n\t\t\t};\r\n\r\n\t\tcase FAILURE_SAVING_MEALS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSavingMeals: false\r\n\t\t\t};\r\n\r\n\t\tcase BEGIN_CREATING_NEW_MEAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCreatingNewMeal: true\r\n\t\t\t};\r\n\r\n\t\tcase SUCCESS_CREATING_NEW_MEAL:\r\n\t\t\tconsole.log(`SUCCESS_CREATING_NEW_MEAL`);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCreatingNewMeal: false\r\n\t\t\t};\r\n\r\n\t\tcase FAILURE_CREATING_NEW_MEAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCreatingNewMeal: false\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import { TOGGLE_MENU } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  menuOpen: false\r\n};\r\n\r\nexport const menuReducers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_MENU:\r\n      return {\r\n        menuOpen: !state.menuOpen // TODO rename this menuIsOpen\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import {SET_ALERT} from \"../actions/types\";\r\n\r\nconst initialState = {  isVisible: false, title: \"\", text: \"\", feeling: \"info\" }\r\n\r\nexport const alertReducers = (state = initialState, { type, payload }) => {\r\n\tswitch(type) {\r\n\t\tcase SET_ALERT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisVisible: payload.isVisible,\r\n\t\t\t\ttitle: payload.title, \r\n\t\t\t\tbody: payload.body,\r\n\t\t\t\tfeeling: payload.feeling\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tTOGGLE_DETAILS\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tshowDetails: false\r\n};\r\n\r\nexport const detailsReducers = (state = initialState, action) => {\r\n\r\n\tswitch( action.type ) {\r\n\t\t// case SET_TEXT:\r\n\t\t// \tconsole.log(`[AlertReducer] SET_TEXT`);\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\ttitle: action.payload.title,\r\n\t\t// \t\ttext: action.payload.text\r\n\t\t// \t}\t\t\r\n\t\tcase TOGGLE_DETAILS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowDetails: action.payload.showDetails\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state }\r\n\t}\r\n};","import { SET_STAY_BOX } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isVisible: false,\r\n  text: ''\r\n};\r\n\r\nexport let stayBoxReducers = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n\r\n    case SET_STAY_BOX:     \r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  BEGIN_CALCULATING_TOTALS,\r\n  CALCULATE_TOTALS,\r\n  CALCULATE_TOTALS_SUCCESS,\r\n  CALCULATE_TOTALS_FAILURE,\r\n  BEGIN_MEAL_ADDITION_CALCULATION,\r\n  MEAL_ADDITION_CALCULATION,\r\n  MEAL_ADDITION_CALCULATION_SUCCESS,\r\n  MEAL_ADDITION_CALCULATION_FAILURE,\r\n} from \"../actions/types\";\r\n\r\nlet initialState = {\r\n\tisCalculatingTotals: false,\r\n\ttotals: {\r\n\t\tvitaminA: 0,\r\n\t\tvitaminB1: 0,\r\n\t\tvitaminB2: 0,\r\n\t\tvitaminB3: 0,\r\n\t\tvitaminB5: 0,\r\n\t\tvitaminB6: 0,\r\n\t\tvitaminB7: 0,\r\n\t\tcalcium: 0,\r\n\t\tcholine: 0,\r\n\t\tchromium: 0,\r\n\t\tcopper: 0,\r\n\t\tfluoride: 0,\r\n\t\tfolicAcid: 0,\r\n\t\tiodine: 0,\r\n\t\tiron: 0,\r\n\t\tmagnesium: 0,\r\n\t\tmanganese: 0,\r\n\t\tmolybdenum: 0,\r\n\t\tphosphorus: 0,\r\n\t\tpotassium: 0,\r\n\t\tsalt: 0,\r\n\t\tvitaminD3: 0,\r\n\t\tvitaminE: 0,\r\n\t\tvitaminK: 0,\r\n\t\tzinc: 0\r\n\t}\r\n};\r\n\r\n\r\nexport let totalsReducers = (state = initialState, action) => { \r\n\tswitch (action.type) {\r\n\t\tcase BEGIN_CALCULATING_TOTALS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCalculatingTotals: true\r\n\t\t\t}\r\n\t\tcase CALCULATE_TOTALS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\t// vitaminA: action.payload.vitaminA,\r\n\t\t\t\t// vitaminB1: action.payload.vitaminB1,\r\n\t\t\t\t// vitaminB2: action.payload.vitaminB2,\r\n\t\t\t\t// vitaminB3: action.payload.vitaminB3,\r\n\t\t\t\t// vitaminB5: action.payload.vitaminB5,\r\n\t\t\t\t// vitaminB6: action.payload.vitaminB6,\r\n\t\t\t\t// vitaminB7: action.payload.vitaminB7,\r\n\t\t\t\t// calcium: action.payload.calcium,\r\n\t\t\t\t// choline: action.payload.choline,\r\n\t\t\t\t// chromium: action.payload.chromium,\r\n\t\t\t\t// copper: action.payload.copper,\r\n\t\t\t\t// fluoride: action.payload.fluoride,\r\n\t\t\t\t// folicAcid: action.payload.folicAcid,\r\n\t\t\t\t// iodine: action.payload.iodine,\r\n\t\t\t\t// iron: action.payload.iron,\r\n\t\t\t\t// magnesium: action.payload.magnesium,\r\n\t\t\t\t// manganese: action.payload.manganese,\r\n\t\t\t\t// molybdenum: action.payload.molybdenum,\r\n\t\t\t\t// phosphorus: action.payload.phosphorus,\r\n\t\t\t\t// potassium: action.payload.potassium,\r\n\t\t\t\t// salt: action.payload.salt,\r\n\t\t\t\t// vitaminD3: action.payload.vitaminD3,\r\n\t\t\t\t// vitaminE: action.payload.vitaminE,\r\n\t\t\t\t// vitaminK: action.payload.vitaminK,\r\n\t\t\t\t// zinc: action.payload.zinc,\r\n\t\t\t\tisCalculatingTotals: false\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\t}\r\n};\r\n","let store = null;\r\n\r\nexport const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (error) {\r\n    console.log(`An error occured loading state`, error);\r\n\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = state => {\r\n  // try {\r\n  // \tconst serializedState = JSON.stringify(state);\r\n  // \tlocalStorage.setItem('state', serializedState);\r\n  // } catch(error) {\r\n  // \tconsole.log(`An error occured saving store state`, error);\r\n  // }\r\n};\r\n\r\nexport const deleteStoreState = () => {\r\n  let store = localStorage.getItem(\"state\");\r\n\r\n  if (store) {\r\n    try {\r\n      localStorage.delete(\"state\");\r\n    } catch (error) {\r\n      console.log(`An error occured deleting localStorage`);\r\n    }\r\n  }\r\n};\r\n\r\nexport const setStore = newStore => {\r\n  store = newStore;\r\n};\r\n\r\nexport const getStore = () => {\r\n  return store;\r\n};\r\n\r\nexport const getStoreState = () => {\r\n  const store = getStore();\r\n\r\n  if (store) {\r\n    return store.getState();\r\n  }\r\n\r\n  return false;\r\n};\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport Thunk from 'redux-thunk';\r\nimport { appReducers } from './reducers/app.reducers';\r\nimport { loadingReducers } from './reducers/loading.reducers';\r\nimport { userReducers } from './reducers/user.reducers';\r\nimport { dashboardReducers } from './reducers/dashboard.reducers';\r\nimport { menuReducers } from './reducers/menu.reducers';\r\nimport { alertReducers } from './reducers/alert.reducers';\r\nimport { detailsReducers } from './reducers/details.reducers';\r\nimport { stayBoxReducers } from './reducers/staybox.reducers';\r\nimport { totalsReducers } from './reducers/totals.reducers';\r\nimport { loadState, saveState } from './utilities/store';\r\n\r\nconst rootReducer = combineReducers({\r\n  appReducers,\r\n  userReducers,\r\n  dashboardReducers,\r\n  loadingReducers,\r\n  menuReducers,\r\n  alertReducers,\r\n  detailsReducers,\r\n  stayBoxReducers,\r\n  totalsReducers\r\n});\r\n\r\n\r\nexport const persistedState = loadState();\r\nexport const store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  applyMiddleware(Thunk)\r\n);\r\n\r\n\r\nconst debounce = (func, wait, immediate) => {\r\n  var timeout;\r\n  return function() {\r\n    var context = this, args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n  \r\nstore.subscribe(debounce(() => {\r\n  saveState(store.getState());\r\n}, 1000));\r\n\r\n\r\n","// TODO rename this file or install lodash \r\n\r\nexport const debounce = (func, wait, immediate) => {\r\n\tvar timeout;\r\n\treturn function() {\r\n\t\tvar context = this, args = arguments;\r\n\t\tvar later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n\t\tvar callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n};","import React from \"react\";\r\nimport * as styles from \"./styles.scss\";\r\nexport const Home = props => {\r\n  return (\r\n    <div className=\"home view\" styles={styles}>\r\n      <div id=\"home-overlay\" className=\"view-overlay\">\r\n        <section className=\"welcome\">\r\n          <h1>\r\n            <span>24 Hour</span> Vitamin Tracking\r\n          </h1>\r\n          <div className=\"welcome-buttons\">\r\n            <button\r\n              className=\"signup-button\"\r\n              type=\"button\"\r\n              onClick={() => props.history.push(\"/register\")}\r\n            >\r\n              Sign Up\r\n            </button>\r\n            <button\r\n              className=\"signin-button\"\r\n              type=\"button\"\r\n              onClick={() => props.history.push(\"/signin\")}\r\n            >\r\n              Sign In\r\n            </button>\r\n          </div>\r\n        </section>\r\n        <section className=\"mobile-version\">\r\n          <h1>Mobile version coming soon!</h1>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export let environment = \"production\";\r\n\r\nexport let domain =\r\n  environment === \"development\"\r\n    ? \"http://localhost:3000\"\r\n    : \"https://illlive.herokuapp.com\";\r\n\r\nconst configs = {\r\n  domain: \"http://localhost:3000\",\r\n  apiUrl:\r\n    environment === \"development\"\r\n      ? `https://illLive.herokuapp.com/api`\r\n      : \"http://localhost:1337/api\",\r\n  environment,\r\n  online: true,\r\n  sessionTimeout: environment === \"development\" ? 12 : 24, // minutes\r\n  tokenTimeout: environment === \"development\" ? 100 : 230, // minutes\r\n  minDesktopViewport: 768\r\n};\r\n\r\nexport default configs;\r\n","import axios from \"axios\";\r\nimport configs from \"../configs\";\r\nimport { removeSessionID } from \"../utilities/auth\";\r\n\r\n// TODO either rename as sendAuthenticateUserRequest,\r\n//      or change the  name of the other functions to not being ***request.\r\nexport const authenticateUser = () => {\r\n  return axios(`${configs.apiUrl}/auth/authenticate`, {\r\n    withCredentials: true\r\n  });\r\n};\r\n\r\nexport const signIn = ({ login, password, rememberMe }) => {\r\n  return axios(`${configs.apiUrl}/auth/signin`, {\r\n    method: \"post\",\r\n    withCredentials: true,\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    data: { login, password, rememberMe }\r\n  });\r\n};\r\n\r\nexport const signUp = ({ username, email, password }) => {\r\n  return axios(`${configs.apiUrl}/auth/signup`, {\r\n    method: \"post\",\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    data: { username, email, password }\r\n  });\r\n};\r\n\r\nexport const signOut = () => {\r\n  // Dispatch an action that clears the sessionID\r\n  // Dispatch an action that clears the user - might be part of the signOut action creatoer\r\n  // Dispatch an action to the server signout\r\n  // The larger picture is this removes anything related to the user\r\n  // So Christian signs into the account with his username and password, and signs out\r\n  // and it clears the redux stores user, the cookie stored values and the server\r\n  // clears the session values. clean slate.\r\n\r\n  // again, display a message to the user that they're signed out\r\n  // So anyways\r\n  removeSessionID();\r\n\r\n  return axios(`${configs.apiUrl}/auth/signout`);\r\n};\r\n\r\nexport const sendConfirmAccountRequest = token => {\r\n  return axios(`${configs.apiUrl}/auth/confirm-account/${token}`);\r\n};\r\n\r\n// Should be /auth\r\nexport const setProfileAfterSignUp = body => {\r\n  return axios.post(`${configs.apiUrl}/user/profile-after-signup`, {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    data: { body }\r\n  });\r\n};\r\n\r\nexport const sendConfirm24HourMealResetRequest = () => {\r\n  return axios(`${configs.apiUrl}/auth/confirm-24-hour-meal-reset`, {\r\n    withCredentials: true\r\n  });\r\n};\r\n\r\nexport const sendResetPasswordEmailRequest = email => {\r\n  console.log(`sendResetPasswordEmailRequest email`, email);\r\n  return axios(`${configs.apiUrl}/auth/reset-password-email`, {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    data: {\r\n      email\r\n    }\r\n  });\r\n};\r\n\r\nexport const confirmResetPasswordToken = token => {\r\n  console.log(`confirmResetPasswordToken token`, token);\r\n  return axios(`${configs.apiUrl}/auth/confirm-reset-password-token/${token}`, {\r\n    withCredentials: true\r\n  });\r\n};\r\n","// import cookies from \"my-simple-cookie\";\r\nimport configs from \"../configs\";\r\nimport { store } from \"../store\";\r\nimport cookie from \"my-simple-cookie\";\r\n\r\n// I'm trying to delete a cookie. My Simple Cookie isn't deleting it\r\n// so express session's cookie creation must be setting it strangely or something.\r\n\r\n// export const setToken = (token) => {\r\n// \tconsole.log(`[Auth utilities] setToken()`);\r\n// \tcookies.set('x-auth-token', token, { expires: configs.tokenTimeout * 60, domain: configs.domain } );\r\n// }\r\n\r\nexport const getSessionID = () => {\r\n  return cookie.get(\"user_sid\");\r\n};\r\n\r\nexport const removeSessionID = () => {\r\n  cookie.remove(\"user_sid\");\r\n};\r\n\r\nexport const getUser = () => {\r\n  if (\r\n    store.auth &&\r\n    store.auth.user &&\r\n    store.auth.user.hasOwnProperty(\"email\")\r\n  ) {\r\n    return store.auth.user;\r\n    // TODO refactor\r\n  } else if (getSessionID() && getSessionID() !== \"\") {\r\n    return cookie(`${configs.apiUrl}/auth/getUser`, {\r\n      headers: getSessionID()\r\n    });\r\n  }\r\n};\r\n\r\n// export const isValidEmail = email => {\r\n//   return email.match(EMAIL_REGEX);\r\n// };\r\n","// TODO maybe do the set a 'saved' property and et it to false. Only remove localStorage items\r\n// if it is possible for a componentDIdUnmount kind of a thing to happen\r\n\r\n/*\r\n * @param name: String | The localStorage items name\r\n * @param content: Any | The item to store\r\n */\r\n// TODO remove LocalStorage from name because it's inherit in the LocalStorage.function name\r\nexport const addToLocalStorage = (name, content) => {\r\n  //console.log(`addToLocalStorage`);\r\n  try {\r\n    let serializedItem = localStorage.getItem(name);\r\n\r\n    if (serializedItem !== null) {\r\n      updateLocalStorage(name, content);\r\n\r\n      // TODO how to really check if it is an object\r\n    } else if (typeof content === \"string\" && content.indexOf(\":\") < 0) {\r\n      localStorage.setItem(name, content);\r\n    } else {\r\n      localStorage.setItem(name, JSON.stringify(content));\r\n    }\r\n  } catch (error) {\r\n    console.warn(`An error occured at addToLocalStorage`, error);\r\n  }\r\n};\r\n\r\nexport const getItem = name => {\r\n  try {\r\n    let serializedContent = localStorage.getItem(name);\r\n\r\n    if (!serializedContent) {\r\n      return null;\r\n    } else {\r\n      return JSON.parse(serializedContent);\r\n    }\r\n  } catch (error) {\r\n    console.warn(`An error occured calling localStorage.getItem()`, error);\r\n  }\r\n};\r\n\r\nexport const isInLocalStorage = name => {\r\n  try {\r\n    let serializedContent = localStorage.getItem(name);\r\n    return serializedContent !== null ? true : false;\r\n  } catch (error) {\r\n    //console.log(`An error occured calling localStorage.getItem()`, error);\r\n  }\r\n};\r\n\r\n// TODO remove LocalStorage from name\r\nexport const updateLocalStorage = (name, content) => {\r\n  try {\r\n    let serializedContent = localStorage.getItem(name);\r\n    if (serializedContent !== null) {\r\n      // TODO Object.combine or whatever it is\r\n      localStorage.removeItem(name);\r\n      localStorage.setItem(name, JSON.stringify(content));\r\n    } else {\r\n      //console.log(`[Utility database] updateLocalStorage()`);\r\n      //console.log(`item either failed to setItem() earlier or has been saved to the database`);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.warn(\"An error occured at updateLocalStorage\", error);\r\n  }\r\n};\r\n\r\n// TODO remove LocalStorage from name because it's inherit in the LocalStorage.function name\r\n/**\r\n *\r\n * @param {string[]} names\r\n */\r\nexport const removeFromLocalStorage = names => {\r\n  try {\r\n    names.forEach(name => {\r\n      let serializedItem = localStorage.getItem(name);\r\n\r\n      if (serializedItem) {\r\n        localStorage.removeItem(name);\r\n      } else {\r\n        return undefined;\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.warn(`An error occured fetching or removing the item`, error);\r\n  }\r\n};\r\n\r\nexport const clearLocalStorage = () => {\r\n  try {\r\n    localStorage.clear();\r\n  } catch (error) {\r\n    console.warn(\"An error occured calling localStorage.clear()\", error);\r\n  }\r\n};\r\n","import { SET_LOADER } from './types';\r\n\r\nexport let setLoader = (isLoading, loadingText, showSpinner = true) => {\r\n\r\n  return {\r\n    type: SET_LOADER,\r\n    isLoading,\r\n    loadingText,\r\n    showSpinner\r\n  }\r\n}\r\n","import {\r\n  BEGIN_STORING_USER,\r\n  STORE_USER,\r\n  STORE_AUTHENTICATION_TOKEN,\r\n  STORE_API_TOKEN,\r\n  BEGIN_SIGNING_IN,\r\n  SUCCESS_SIGNING_IN,\r\n  FAILURE_SIGNING_IN,\r\n  BEGIN_SIGNING_UP,\r\n  SUCCESS_SIGNING_UP,\r\n  FAILURE_SIGNING_UP,\r\n  RESET_IS_SIGNED_UP,\r\n  BEGIN_SIGNING_OUT,\r\n  SUCCESS_SIGNING_OUT,\r\n  FAILURE_SIGNING_OUT,\r\n  BEGIN_AUTHENTICATING,\r\n  SUCCESS_AUTHENTICATING,\r\n  FAILURE_AUTHENTICATING,\r\n  BEGIN_CONFIRMING_ACCOUNT,\r\n  SUCCESS_CONFIRMING_ACCOUNT,\r\n  FAILURE_CONFIRMING_ACCOUNT,\r\n  SET_CONFIRM_COOKIE_FLAG,\r\n  BEGIN_CONFIRM_24_HOUR_MEAL_RESET,\r\n  SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET,\r\n  FAILURE_CONFIRMING_24_HOUR_MEAL_RESET,\r\n  BEGIN_PASSWORD_RESET,\r\n  SUCCESS_PASSWORD_RESET,\r\n  FAILURE_PASSWORD_RESET,\r\n  SET_FORM_ERROR\r\n} from \"./types\";\r\nimport {\r\n  authenticateUser, // TODO rename to match other requests\r\n  sendConfirmAccountRequest,\r\n  signIn as sendSignInRequest,\r\n  signUp as sendSignUpRequest,\r\n  signOut as sendSignOutRequest,\r\n  sendConfirm24HourMealResetRequest,\r\n  sendResetPasswordEmailRequest\r\n} from \"../services/user.service\";\r\nimport {\r\n  deleteStoreState\r\n} from \"../utilities/store\";\r\nimport {\r\n  addToLocalStorage,\r\n  clearLocalStorage\r\n} from \"../utilities/localStorage\";\r\nimport {\r\n  setLoader\r\n} from \"./loading.actions\";\r\nimport Axios from \"axios\";\r\n\r\n// Store user in Global Store\r\n// TODO rename as addUserToStore\r\nexport let beginStoringUser = user => {\r\n  //console.log(`beginStoringUser`, user);\r\n  return function (dispatch) {\r\n    dispatch(setUser(user));\r\n\r\n    return {\r\n      type: BEGIN_STORING_USER\r\n    };\r\n  };\r\n};\r\n\r\nexport let setUser = user => {\r\n  //console.log(`setUser()`);\r\n  return {\r\n    type: STORE_USER,\r\n    payload: {\r\n      user\r\n    }\r\n  };\r\n};\r\n\r\n// Authenticate\r\n// TODO rename. What is authenticating?\r\n// authenticatingUserByCookieSession\r\nexport let beginAuthenticating = () => {\r\n  return {\r\n    type: BEGIN_AUTHENTICATING\r\n  };\r\n};\r\n\r\nexport let authenticate = () => {\r\n  //console.log(`authenticate`);\r\n  return async function (dispatch, getState) {\r\n    dispatch(beginAuthenticating());\r\n\r\n    try {\r\n      const authenticationResponse = await authenticateUser();\r\n      //console.log(authenticationResponse);\r\n      if (authenticationResponse.status === 401) {\r\n        dispatch(failureAuthenticating(authenticationResponse.data.data));\r\n      } else if (authenticationResponse.status === 200) {\r\n        dispatch(successAuthenticating(authenticationResponse.data.data));\r\n      }\r\n    } catch (error) {\r\n      dispatch(failureAuthenticating(error));\r\n    }\r\n  };\r\n};\r\n\r\nexport let successAuthenticating = user => {\r\n  return function (dispatch) {\r\n    dispatch(setUser(user));\r\n\r\n    if (user.meals && user.meals.length > 0) {\r\n      addToLocalStorage(\"meals\", user.meals);\r\n    }\r\n\r\n    return dispatch({\r\n      type: SUCCESS_AUTHENTICATING\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureAuthenticating = errors => {\r\n  return {\r\n    type: FAILURE_AUTHENTICATING,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\n// Store Authentication Token\r\nexport let storeAuthenticationToken = token => {\r\n  return {\r\n    type: STORE_AUTHENTICATION_TOKEN,\r\n    token\r\n  };\r\n};\r\n\r\n// Store Account Confirmation Token\r\nexport let storeAccountConfirmationToken = token => {\r\n  return {\r\n    type: STORE_AUTHENTICATION_TOKEN,\r\n    token\r\n  };\r\n};\r\n\r\n// Store API Token\r\nexport let storeApiToken = token => {\r\n  return {\r\n    type: STORE_API_TOKEN,\r\n    token\r\n  };\r\n};\r\n\r\n// Register a new user\r\nexport let beginSigningUp = body => {\r\n  console.log(`[action] beginSigningUp`, body);\r\n  return function (dispatch) {\r\n    dispatch(signUp(body));\r\n\r\n    return dispatch({\r\n      type: BEGIN_SIGNING_UP\r\n    });\r\n  };\r\n};\r\n\r\nexport let signUp = body => {\r\n  return async function (dispatch) {\r\n    console.log(`[action] signUp`, body);\r\n    try {\r\n      const signUpResponse = await sendSignUpRequest(body);\r\n      console.log(signUpResponse);\r\n      if (signUpResponse.data.success) {\r\n        dispatch(successSigningUp());\r\n      } else {\r\n        console.log(signUpResponse);\r\n        dispatch(failureSigningUp(signUpResponse.data.data));\r\n      }\r\n    } catch (error) {\r\n      console.log(\r\n        `Try Catch error block error. Also an error occured in signUp()`,\r\n        error\r\n      );\r\n      dispatch(failureSigningUp(error));\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport let successSigningUp = user => {\r\n  return function (dispatch) {\r\n    console.log(`[action] successSigningUp`);\r\n    // Is this required?\r\n    // dispatch(setUser(user));\r\n    return dispatch({\r\n      type: SUCCESS_SIGNING_UP\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureSigningUp = errors => {\r\n  console.log(`[action] failureSigningUp`, errors);\r\n  return {\r\n    type: FAILURE_SIGNING_UP,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\nexport let resetIsSignedUp = () => {\r\n  return {\r\n    type: RESET_IS_SIGNED_UP\r\n  };\r\n};\r\n\r\n// Signing in\r\nexport let beginSigningIn = credentials => {\r\n  console.log(`beginSigningIn`);\r\n  return function (dispatch) {\r\n    dispatch(signIn(credentials));\r\n\r\n    dispatch({\r\n      type: BEGIN_SIGNING_IN,\r\n      payload: {\r\n        isSigningIn: true\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\n// on unsucessfull sign in\r\n// set error message in actions error messages\r\n// display error messages from props\r\n\r\nexport let signIn = credentials => {\r\n  console.log(`signIn`);\r\n  return async function (dispatch) {\r\n    sendSignInRequest(credentials)\r\n      .then(response => {\r\n        console.log(`response`, response);\r\n        if (response.status === 200) {\r\n          dispatch(successSigningIn(response.data.data));\r\n        } else {\r\n          console.log(`response.  `, response.status);\r\n          setTimeout(() => {\r\n            dispatch(failureSigningIn(response.data.data));\r\n          }, 5000);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        // TODO handle if the error returns not the expected response object\r\n        if (error && error.response && error.response.data) {\r\n          dispatch(failureSigningIn(error.response.data.data));\r\n        } else {\r\n          dispatch(failureSigningIn(\"An error occured. Please try again.\"));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport let successSigningIn = user => {\r\n  console.log(`successSigningIn`);\r\n  return function (dispatch) {\r\n    dispatch(setUser(user));\r\n\r\n    if (user.meals && user.meals.length > 0) {\r\n      addToLocalStorage(\"meals\", user.meals);\r\n    }\r\n\r\n    dispatch({\r\n      type: SUCCESS_SIGNING_IN\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureSigningIn = error => {\r\n  console.log(`[userActions] failureSigningIn()`, error);\r\n  return function (dispatch, getState) {\r\n    return dispatch({\r\n      type: FAILURE_SIGNING_IN,\r\n      payload: {\r\n        error\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\n// Signing out\r\nexport let beginSigningOut = () => {\r\n  return function (dispatch) {\r\n    dispatch(signOut());\r\n\r\n    return dispatch({\r\n      type: BEGIN_SIGNING_OUT,\r\n      payload: {\r\n        isSigningOut: true\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport let signOut = () => {\r\n  return async function (dispatch) {\r\n    deleteStoreState();\r\n    clearLocalStorage();\r\n\r\n    const response = await sendSignOutRequest();\r\n\r\n    if (response.status === 200) {\r\n      dispatch(successSigningOut(response.data));\r\n    } else {\r\n      dispatch(failureSigningOut(response.data));\r\n    }\r\n  };\r\n};\r\n\r\nexport let successSigningOut = success => {\r\n  return {\r\n    type: SUCCESS_SIGNING_OUT\r\n  };\r\n};\r\n\r\nexport let failureSigningOut = errors => {\r\n  return {\r\n    type: FAILURE_SIGNING_OUT\r\n  };\r\n};\r\n\r\n// Confirm account\r\nexport let beginConfirmingAccount = token => {\r\n  return function (dispatch) {\r\n    dispatch(confirmAccount(token));\r\n\r\n    return dispatch({\r\n      type: BEGIN_CONFIRMING_ACCOUNT\r\n    });\r\n  };\r\n};\r\n\r\nexport let confirmAccount = token => {\r\n  return function (dispatch) {\r\n    sendConfirmAccountRequest(token)\r\n      .then(response => {\r\n        const {\r\n          invalidToken,\r\n          tokenExpired\r\n        } = response.data;\r\n        let errorObj = {};\r\n\r\n        if (response.status === (401 || 422)) {\r\n          errorObj[\"invalidToken\"] = invalidToken;\r\n          errorObj[\"tokenExpired\"] = tokenExpired;\r\n          dispatch(failureConfirmingAccount(errorObj));\r\n        } else if (response.status === 201) {\r\n          dispatch(successConfirmingAccount());\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.warn(\r\n          \"[ConfirmAccount] error POSTing auth/resend-confirmation\",\r\n          error\r\n        );\r\n        dispatch(failureConfirmingAccount(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport let successConfirmingAccount = () => {\r\n  return {\r\n    type: SUCCESS_CONFIRMING_ACCOUNT\r\n  };\r\n};\r\n\r\nexport let failureConfirmingAccount = error => {\r\n  return {\r\n    type: FAILURE_CONFIRMING_ACCOUNT,\r\n    payload: {\r\n      error\r\n    }\r\n  };\r\n};\r\n\r\n// Conform cookie flag\r\nexport let setConfirmCookieFlag = () => {\r\n  return {\r\n    type: SET_CONFIRM_COOKIE_FLAG\r\n  };\r\n};\r\n\r\nexport let beginConfirm24HourMealResetMessage = () => {\r\n  //console.log(`[userActions] beginConfirmingAccount()`);\r\n  return function (dispatch) {\r\n    dispatch(confirm24HourMealResetMessage());\r\n\r\n    return dispatch({\r\n      type: BEGIN_CONFIRM_24_HOUR_MEAL_RESET\r\n    });\r\n  };\r\n};\r\n\r\nexport let confirm24HourMealResetMessage = () => {\r\n  return function (dispatch) {\r\n    sendConfirm24HourMealResetRequest()\r\n      .then(response => {\r\n        //console.log(response);\r\n        if (response.status === 200) {\r\n          dispatch(successConfirm24HourMealResetMessage(response.data.data));\r\n        } else {\r\n          //console.log(`failureConfirm24HourMealResetMessage`, response.data);\r\n          dispatch(failureConfirm24HourMealResetMessage(response.data.errors));\r\n        }\r\n      })\r\n      .catch(error => {\r\n        //console.log(error);\r\n        //dispatch(failureConfirm24HourMealResetMessage(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport let successConfirm24HourMealResetMessage = () => {\r\n  //console.log(`[userActions] successConfirm24HourMealResetMessage`);\r\n  return {\r\n    type: SUCCESS_CONFIRMING_24_HOUR_MEAL_RESET\r\n  };\r\n};\r\n\r\nexport let failureConfirm24HourMealResetMessage = errors => {\r\n  return {\r\n    type: FAILURE_CONFIRMING_24_HOUR_MEAL_RESET,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\nexport let beginPasswordReset = email => {\r\n  return function (dispatch) {\r\n    console.log(`beginPasswordRecovery`);\r\n    dispatch(sendResetPasswordEmail(email));\r\n\r\n    return dispatch({\r\n      type: BEGIN_PASSWORD_RESET\r\n    });\r\n  };\r\n};\r\n\r\nexport let sendResetPasswordEmail = email => {\r\n  return function (dispatch) {\r\n    console.log(`sendPasswordRecoveryEmail`);\r\n    sendResetPasswordEmailRequest(email).then(\r\n      response => {\r\n        console.log(response);\r\n        setTimeout(() => {\r\n          dispatch(successPasswordReset());\r\n        }, 3800);\r\n      },\r\n      error => {\r\n        console.log(`An error occured sending password recovery email`, error);\r\n        setTimeout(() => {\r\n          dispatch(failurePasswordReset());\r\n        }, 3800);\r\n      }\r\n    );\r\n  };\r\n};\r\n\r\nexport let successPasswordReset = () => {\r\n  console.log(`successPasswordReset`);\r\n  return {\r\n    type: SUCCESS_PASSWORD_RESET\r\n  };\r\n};\r\n\r\nexport let failurePasswordReset = () => {\r\n  console.log(`failurePasswordRecovery`);\r\n  return {\r\n    type: FAILURE_PASSWORD_RESET\r\n  };\r\n};\r\n\r\n// can call this action from anywhere. if errors is an empty array, clear errors, otherwise\r\n// ... spread\r\n// on route change is not signin or register, clear errors array.\r\n\r\nexport let setFormError = error => {\r\n  console.log(`setFormError`);\r\n  return {\r\n    type: SET_FORM_ERROR,\r\n    payload: {\r\n      error\r\n    }\r\n  };\r\n};","export const EMAIL_REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\nexport const PASSWORDS_MATCH_ERROR_TEXT = \"Password's must match.\";\r\nexport const INVALID_EMAIL_TEXT =\r\n  \"This doesn't appear to be a valid email, though we'll send you the confirmation link anyways.\";\r\nexport const INVALID_LOGIN = \"Invalid login or password.\";\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport { INVALID_EMAIL_TEXT } from \"../constants\";\r\n\r\nconst FormError = props => {\r\n  const [emailErrorText, setEmailErrorText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(props.inputName);\r\n    let children = React.Children.toArray(props.children).map(\r\n      childErrorText => {\r\n        setEmailErrorText(childErrorText);\r\n      }\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div\r\n      id={`${\r\n        props.inputName &&\r\n        props.inputName === \"email\" &&\r\n        emailErrorText === INVALID_EMAIL_TEXT\r\n          ? \"email-form-error-text\"\r\n          : \"\"\r\n      }`}\r\n      className=\"form-error-text flex center-all\"\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nFormError.displayName = \"FormError\";\r\n\r\nFormError.propTypes = {\r\n  inputName: PropTypes.oneOfType([PropTypes.string, PropTypes.any]),\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.string,\r\n    PropTypes.node\r\n  ])\r\n};\r\n\r\nexport default FormError;\r\n","import React, { useEffect } from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport FormError from \"../../components/FormError\";\r\n\r\nconst Username = ({ formGlobalError, error, handleOnChange, handleOnBlur }) => {\r\n  useEffect(() => {\r\n    console.log(error);\r\n  });\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor=\"register-username\">Username</label>\r\n      <input\r\n        name=\"username\"\r\n        type=\"text\"\r\n        id=\"register-username\"\r\n        className={error !== \"\" ? \"form-error-input\" : \"\"}\r\n        placeholder=\"Username\"\r\n        autoComplete=\"on\"\r\n        onChange={handleOnChange}\r\n        onBlur={handleOnBlur}\r\n        required\r\n      />\r\n      {formGlobalError === \"\" && error !== \"\" && <FormError>{error}</FormError>}\r\n    </div>\r\n  );\r\n};\r\n\r\nUsername.displayName = \"Username\";\r\n\r\nUsername.propTypes = {\r\n  formGlobalError: PropTypes.string,\r\n  error: PropTypes.string,\r\n  handleOnChange: PropTypes.func,\r\n  handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default Username;\r\n","import React from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport FormError from \"../../components/FormError\";\r\n\r\nconst Email = ({\r\n  formGlobalError,\r\n  error,\r\n  pattern,\r\n  handleOnChange,\r\n  handleOnBlur\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor=\"register-email\">Email</label>\r\n      <input\r\n        name=\"email\"\r\n        type=\"email\"\r\n        id=\"register-email\"\r\n        className={error !== \"\" ? \"form-error-input\" : \"\"}\r\n        placeholder=\"Email\"\r\n        autoComplete=\"email\"\r\n        pattern={pattern}\r\n        onChange={handleOnChange}\r\n        onBlur={handleOnBlur}\r\n        required\r\n      />\r\n      {formGlobalError === \"\" && error !== \"\" && (\r\n        <FormError inputName=\"email\">{error}</FormError>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nEmail.displayName = \"Email\";\r\n\r\nEmail.propTypes = {\r\n  formGlobalError: PropTypes.string,\r\n  error: PropTypes.string,\r\n  pattern: PropTypes.object,\r\n  handleOnChange: PropTypes.func,\r\n  handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default Email;\r\n","import React, { useEffect } from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport FormError from \"../../components/FormError\";\r\n\r\nconst Password = ({ formGlobalError, error, handleOnChange, handleOnBlur }) => {\r\n  useEffect(() => {\r\n    console.log(formGlobalError, error);\r\n  });\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor=\"register-password\">Password</label>\r\n      <input\r\n        name=\"password\"\r\n        type=\"password\"\r\n        id=\"register-password\"\r\n        className={error !== \"\" ? \"form-error-input\" : \"\"}\r\n        placeholder=\"Password\"\r\n        autoComplete=\"off\"\r\n        onChange={handleOnChange}\r\n        onBlur={handleOnBlur}\r\n        required\r\n      />\r\n      {formGlobalError === \"\" && error !== \"\" && <FormError>{error}</FormError>}\r\n    </div>\r\n  );\r\n};\r\n\r\nPassword.displayName = \"Password\";\r\n\r\nPassword.propTypes = {\r\n  formGlobalError: PropTypes.string,\r\n  error: PropTypes.string,\r\n  handleOnChange: PropTypes.func,\r\n  handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default Password;\r\n","import React from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport FormError from \"../../components/FormError\";\r\n\r\nconst ConfirmPassword = ({\r\n  formGlobalError,\r\n  error,\r\n  handleOnChange,\r\n  handleOnBlur\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor=\"register-confirm-password\">Confirm Password</label>\r\n      <input\r\n        name=\"confirm\"\r\n        type=\"password\"\r\n        id=\"register-confirm-password\"\r\n        className={error !== \"\" ? \"form-error-input\" : \"\"}\r\n        placeholder=\"Confirm your password\"\r\n        autoComplete=\"password\"\r\n        onChange={handleOnChange}\r\n        onBlur={handleOnBlur}\r\n        required\r\n      />\r\n      {formGlobalError === \"\" && error !== \"\" && <FormError>{error}</FormError>}\r\n    </div>\r\n  );\r\n};\r\n\r\nConfirmPassword.displayName = \"ConfirmPassword\";\r\n\r\nConfirmPassword.propTypes = {\r\n  formGlobalError: PropTypes.string,\r\n  error: PropTypes.string,\r\n  handleOnChange: PropTypes.func,\r\n  handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default ConfirmPassword;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  setUser,\r\n  beginSigningUp,\r\n  successSigningUp,\r\n  failureSigningUp,\r\n  setFormError\r\n} from \"../../actions/user.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport { signUp as sendSignUpRequest } from \"../../services/user.service\";\r\nimport * as registerStyles from \"./styles.scss\";\r\nimport Username from \"./Username\";\r\nimport Email from \"./Email\";\r\nimport Password from \"./Password\";\r\nimport ConfirmPassword from \"./ConfirmPassword\";\r\nimport {\r\n  EMAIL_REGEX,\r\n  INVALID_EMAIL_TEXT,\r\n  PASSWORDS_MATCH_ERROR_TEXT\r\n} from \"../../constants\";\r\n\r\nexport class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      formSubmitted: false,\r\n      registerSuccessfull: false,\r\n      formErrorText: \"\", // should be undefined for simplicity of reading ie !formErrortext or !globalFormError\r\n      usernameErrorText: \"\",\r\n      emailErrorText: \"\",\r\n      passwordErrorText: \"\",\r\n      confirmErrorText: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirm: \"\"\r\n    };\r\n\r\n    document.title = \"Sign Up\";\r\n  }\r\n\r\n  // Returns properties ( name, capitalized name, value, inputIsEmpty, '[name of input]ErrorText' )\r\n  createInputValidationVariables(event) {\r\n    // Name of the input\r\n    const name = event.target.name;\r\n    // Formats the name of the input to show error message\r\n    const capitalizedInputName =\r\n      name !== \"confirm\"\r\n        ? `${name[0].toUpperCase() + name.substr(1)}`\r\n        : \"Your password confirmation\";\r\n    // Value of the input plus white space removed\r\n    const value = event.target.value.replace(\" \", \"\");\r\n    // Checks if the input is empty\r\n    const inputIsEmpty = value.length === 0 ? true : false;\r\n    // Sets the error text name for the current input\r\n    const inputNameErrorText = `${name}ErrorText`;\r\n\r\n    return {\r\n      name,\r\n      capitalizedInputName,\r\n      value,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props.location.pathName);\r\n    this.setState({\r\n      currentRoute: this.props.location.pathName\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.isSigningUp && !this.props.isSigningUp) {\r\n      this.setState({\r\n        formSubmitted: false\r\n      });\r\n    }\r\n  }\r\n\r\n  inputsAreAllPopulated = () => {\r\n    console.log(`inputsAreAllPopulated()`);\r\n    // TODO: I just added the document.getElem ... test if it works.\r\n    let state = this.state;\r\n    let username = document\r\n      .getElementById(\"register-username\")\r\n      .value.replace(\" \", \"\");\r\n    let email = document\r\n      .getElementById(\"register-email\")\r\n      .value.replace(\" \", \"\");\r\n    let password = document\r\n      .getElementById(\"register-password\")\r\n      .value.replace(\" \", \"\");\r\n    let confirm = document\r\n      .getElementById(\"register-confirm-password\")\r\n      .value.replace(\" \", \"\");\r\n\r\n    return (\r\n      state.username.replace(\" \", \"\") &&\r\n      username &&\r\n      state.email.replace(\" \", \"\") &&\r\n      email &&\r\n      state.password.replace(\" \", \"\") &&\r\n      password &&\r\n      state.confirm.replace(\" \", \"\") &&\r\n      confirm !== \"\"\r\n    );\r\n  };\r\n\r\n  emailIsValid = () => {\r\n    console.log(`emailIsValid()`);\r\n    return this.state.email.match(EMAIL_REGEX);\r\n  };\r\n\r\n  passwordsMatch = () => {\r\n    console.log(`passwordsMatch()`);\r\n    const state = this.state;\r\n    return state.password.replace(\" \", \"\") === state.confirm.replace(\" \", \"\");\r\n  };\r\n\r\n  handleOnChange = event => {\r\n    // inputNameErrorText means 'emailErrorText' or 'usernameErrorText'.\r\n    const {\r\n      name,\r\n      capitalizedInputName,\r\n      value,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    } = this.createInputValidationVariables(event);\r\n\r\n    this.props.setFormError(\"\");\r\n\r\n    this.setState({\r\n      formErrorText: \"\",\r\n      [name]: value,\r\n      [inputNameErrorText]: inputIsEmpty\r\n        ? `${capitalizedInputName} is required.`\r\n        : \"\"\r\n    });\r\n\r\n    // If the user is typing in the password input ...\r\n    if (name === \"password\") {\r\n      if (\r\n        this.state.confirmErrorText === PASSWORDS_MATCH_ERROR_TEXT ||\r\n        this.state.confirm.replace(\" \", \"\") !== \"\"\r\n      ) {\r\n        // If the passwords end up matching, remove all errors\r\n        if (value === this.state.confirm.replace(\" \", \"\")) {\r\n          this.setState({\r\n            passwordErrorText: \"\",\r\n            confirmErrorText: \"\"\r\n          });\r\n\r\n          // Else show the PASSWORDS_MATCH_ERROR_TEXT\r\n        } else {\r\n          this.setState({\r\n            passwordErrorText: PASSWORDS_MATCH_ERROR_TEXT\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // If the user is typing in the confirm-password input ...\r\n    if (name === \"confirm\") {\r\n      // And the confirm password is showing the passwords must match error,\r\n      // or confirm password is not an empty string\r\n      if (\r\n        this.state.passwordErrorText === PASSWORDS_MATCH_ERROR_TEXT &&\r\n        this.state.password.replace(\" \", \"\") !== \"\"\r\n      ) {\r\n        // If they match, remove all errors\r\n        if (value === this.state.password.replace(\" \", \"\")) {\r\n          this.setState({\r\n            passwordErrorText: \"\",\r\n            confirmErrorText: \"\"\r\n          });\r\n\r\n          // Else show the PASSWORDS_MATCH_ERROR_TEXT\r\n        } else {\r\n          this.setState({\r\n            confirmErrorText: PASSWORDS_MATCH_ERROR_TEXT\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  handleOnBlur = event => {\r\n    const {\r\n      name,\r\n      capitalizedInputName,\r\n      value,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    } = this.createInputValidationVariables(event);\r\n\r\n    // Handles empty values for all inputs\r\n    if (inputIsEmpty) {\r\n      this.setState({\r\n        [inputNameErrorText]: inputIsEmpty\r\n          ? `${capitalizedInputName} is required.`\r\n          : \"\"\r\n      });\r\n\r\n      // Handles email, password, and confirm password validations\r\n    } else {\r\n      const passwordValue = document\r\n        .getElementById(\"register-password\")\r\n        .value.replace(\" \", \"\");\r\n      const confirmValue = document\r\n        .getElementById(\"register-confirm-password\")\r\n        .value.replace(\" \", \"\");\r\n\r\n      // Email validation\r\n      if (name === \"email\") {\r\n        this.setState({\r\n          emailErrorText: !value.match(EMAIL_REGEX) ? INVALID_EMAIL_TEXT : \"\"\r\n        });\r\n      }\r\n\r\n      // Idea is logically the user would enter a password THAN the confirm password input.\r\n      // So if the user blurs confirm, it checks if the passwords match and outputs an error if they don't.\r\n      if (name === \"confirm\") {\r\n        this.setState({\r\n          confirmErrorText:\r\n            passwordValue !== confirmValue ? PASSWORDS_MATCH_ERROR_TEXT : \"\"\r\n        });\r\n      }\r\n    }\r\n\r\n    this.props.setFormError(\"\");\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.inputsAreAllPopulated()) {\r\n      // passwords matching is the only special condition required\r\n      if (this.passwordsMatch()) {\r\n        try {\r\n          this.setState({ formSubmitted: true }, async () => {\r\n            const body = {\r\n              username: this.state.username,\r\n              email: this.state.email,\r\n              password: this.state.password\r\n            };\r\n            this.props.beginSigningUp(body);\r\n\r\n            // POST to api/register\r\n            // const registerResponse = await sendSignUpRequest(body);\r\n            // const {\r\n            //   status,\r\n            //   data: {\r\n            //     success,\r\n            //     message,\r\n            //     data: responseData,\r\n            //     usernameTaken,\r\n            //     emailTaken\r\n            //   }\r\n            // } = registerResponse;\r\n\r\n            //console.log(status, success, message, responseData);\r\n\r\n            // // TODO redo.\r\n            // if (status === 201) {\r\n            //   this.props.successSigningUp();\r\n            // } else if (status === 404) {\r\n            //   console.log(`404`);\r\n            //   this.setState(\r\n            //     {\r\n            //       formErrorText: message,\r\n            //       formSubmitted: false\r\n            //     },\r\n            //     () => {\r\n            //       this.props.setLoader(false);\r\n            //     }\r\n            //   );\r\n            // } else {\r\n            //   //this.props.failureregister();\r\n            //   if (usernameTaken || emailTaken) {\r\n            //     this.setState(\r\n            //       {\r\n            //         formErrorText: message,\r\n            //         formSubmitted: false\r\n            //       },\r\n            //       () => {\r\n            //         this.props.setLoader(false);\r\n            //       }\r\n            //     );\r\n            //   }\r\n            // }\r\n          });\r\n        } catch (error) {}\r\n      } else {\r\n        if (!this.emailIsValid()) {\r\n          this.setState({\r\n            confirmErrorText: !this.passwordsMatch()\r\n              ? PASSWORDS_MATCH_ERROR_TEXT\r\n              : this.state.confirmErrorText\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      // Output specific error texts\r\n      const usernameValue = this.state.username.replace(\" \", \"\");\r\n      const emailValue = this.state.email.replace(\" \", \"\");\r\n      const passwordValue = this.state.password.replace(\" \", \"\");\r\n      const confirmValue = this.state.confirm.replace(\" \", \"\");\r\n\r\n      if (\r\n        usernameValue === \"\" &&\r\n        emailValue === \"\" &&\r\n        passwordValue === \"\" &&\r\n        confirmValue === \"\"\r\n      ) {\r\n        this.props.setFormError(\"Please fill out the form.\");\r\n      } else {\r\n        this.props.setFormError(\"\");\r\n\r\n        this.setState({\r\n          usernameErrorText:\r\n            usernameValue === \"\"\r\n              ? \"Username is required.\"\r\n              : this.state.usernameErrorText,\r\n          emailErrorText:\r\n            emailValue === \"\"\r\n              ? \"Email is required.\"\r\n              : this.state.emailErrorText,\r\n          passwordErrorText:\r\n            passwordValue === \"\"\r\n              ? \"Password is required.\"\r\n              : this.state.passwordValue === \"\",\r\n          confirmErrorText:\r\n            confirmValue === \"\"\r\n              ? \"Confirm password is required.\"\r\n              : this.state.confirmErrorText\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let FormErrorText,\r\n      usernameErrorText,\r\n      emailErrorText,\r\n      passwordErrorText,\r\n      confirmErrorText;\r\n\r\n    return (\r\n      <div\r\n        className=\"register view-with-padding flex column center-all\"\r\n        styles={registerStyles}\r\n      >\r\n        <div className=\"mobile-nav-links flex space-around align-center\">\r\n          <Link\r\n            to=\"/register\"\r\n            className={\r\n              this.props.location.pathName === \"register\" ? \"\" : \"active\"\r\n            }\r\n          >\r\n            Register\r\n          </Link>\r\n          <Link\r\n            to=\"/signin\"\r\n            className={\r\n              this.props.location.pathName !== \"register\" ? \"\" : \"active\"\r\n            }\r\n            signin\r\n          >\r\n            <span> Sign In</span>\r\n          </Link>\r\n        </div>\r\n        <div className=\"h1-form-container\">\r\n          <h1 className=\"mobile-view-title\">Account Setup</h1>\r\n          <h1 className=\"view-title\">Create your account</h1>\r\n\r\n          <form\r\n            id=\"register-form\"\r\n            className={`${this.state.validForm ? \"display-errors\" : \"\"}`}\r\n            onSubmit={this.handleSubmit}\r\n            noValidate\r\n          >\r\n            {this.props.formErrorText && this.props.formErrorText !== \"\" && (\r\n              <div className=\"form-error\">{this.props.formErrorText}</div>\r\n            )}\r\n            <Username\r\n              formGlobalError={this.props.formErrorText}\r\n              error={this.state.usernameErrorText}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <Email\r\n              formGlobalError={this.props.formErrorText}\r\n              error={this.state.emailErrorText}\r\n              pattern={EMAIL_REGEX}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <Password\r\n              formGlobalError={this.props.formErrorText}\r\n              error={this.state.passwordErrorText}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <ConfirmPassword\r\n              formGlobalError={this.props.formErrorText}\r\n              error={this.state.confirmErrorText}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <button type=\"submit\" onClick={this.onSubmit}>\r\n              {this.state.formSubmitted && (\r\n                <i className=\"fa fa-spinner fa-pulse\"></i>\r\n              )}\r\n              {!this.state.formSubmitted && \"All Set\"}\r\n            </button>\r\n\r\n            <h6 className=\"link-to-opposite-form\">\r\n              <Link to=\"/signin\">\r\n                Already a member? <span> Sign in here.</span>\r\n              </Link>\r\n            </h6>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    ...state,\r\n    isSigningUp: state.userReducers.isSigningUp,\r\n    formErrorText: state.userReducers.formErrorText\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    beginSigningUp: body => dispatch(beginSigningUp(body)),\r\n    successSigningUp: () => dispatch(successSigningUp()),\r\n    failureSigningUp: () => dispatch(failureSigningUp()),\r\n    setLoader: (isLoading = false, loadingText = \"Loading ...\") =>\r\n      dispatch(setLoader(isLoading, loadingText)),\r\n    setUser: user => dispatch(setUser(user)),\r\n    setFormError: error => dispatch(setFormError(error))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Register);\r\n","import React, { useEffect } from 'react';\r\nimport * as RegisterSuccessStyles from './styles.scss';\r\n\r\nconst RegisterSuccess = (props) => {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Successfull Registration\"\r\n\t});\t\t\r\n\r\n\treturn(\r\n\t\t<div className=\"signup-success view-with-padding flex column center-all\" styles={RegisterSuccessStyles}>\r\n\t\t  <h1>Your Account is created!</h1>\r\n\t\t  <h2>An email is being sent for you to confirm your account.</h2>\r\n\t\t  <button type=\"button\" onClick={ () => alert('make this feature') }>Didn't receive it? Click here to have it resent.</button>\t\r\n\t\t  <button type=\"button\" onClick={ () => { props.history.push('/signin') } }>Sign In</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RegisterSuccess;\r\n","import React, { useEffect } from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport FormError from '../../components/FormError';\r\nimport { Input } from 'antd';\r\n\r\nconst Login = ({formGlobalError, error, handleOnChange, handleOnBlur }) => {\r\n\r\n    return (\r\n          <div className=\"form-group\">\r\n            <Input\r\n              name=\"login\"\r\n              type=\"text\"\r\n              id=\"signin-login\"\r\n              className={\r\n                error ? \"form-error-input\" : \"\"\r\n              }\r\n              placeholder=\"Username or email\"\r\n              autoComplete=\"on\"\r\n              onChange={handleOnChange}\r\n              onBlur={handleOnBlur}\r\n              required\r\n            />\r\n            {!formGlobalError && error && <FormError>{error}</FormError>}\r\n          </div>\r\n    );\r\n};\r\n\r\nLogin.displayName = 'Login';\r\n\r\nLogin.propTypes = {\r\n    formGlobalError: PropTypes.string,\r\n    error: PropTypes.string,\r\n    handleOnChange: PropTypes.func,\r\n    handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport FormError from '../../components/FormError';\r\nimport { Input } from 'antd';\r\n\r\nconst Password = ({formGlobalError, error, handleOnChange, handleOnBlur }) => {\r\n\r\n    return (\r\n          <div className=\"form-group\">\r\n            <Input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              id=\"signin-password\"\r\n              className={\r\n                error ? \"form-error-input\" : \"\"\r\n              }\r\n              placeholder=\"Password\"\r\n              autoComplete=\"off\"\r\n              onChange={handleOnChange}\r\n              onBlur={handleOnBlur}\r\n              required\r\n            />\r\n            {!formGlobalError && error && <FormError>{error}</FormError>}\r\n          </div>\r\n    );\r\n};\r\n\r\nPassword.displayName = 'Password';\r\n\r\nPassword.propTypes = {\r\n    formGlobalError: PropTypes.string,\r\n    error: PropTypes.string,\r\n    handleOnChange: PropTypes.func,\r\n    handleOnBlur: PropTypes.func\r\n};\r\n\r\nexport default Password;\r\n","import React, { useEffect } from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport FormError from '../../components/FormError';\r\nimport { Input } from 'antd';\r\n\r\nconst StaySignedIn = ({handleRememberMeOnChange}) => {\r\n\r\n    return (\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"stay-signed-in\">\r\n              Stay Signed In?\r\n              <input\r\n                onChange={handleRememberMeOnChange}\r\n                type=\"checkbox\"\r\n                name=\"stay-logged-in\"\r\n                id=\"stay-signed-in\"\r\n              />\r\n            </label>\r\n          </div>\r\n    );\r\n};\r\n\r\nStaySignedIn.displayName = 'StaySignedIn';\r\n\r\nStaySignedIn.propTypes = {\r\n    handleRememberMeOnChange: PropTypes.func\r\n};\r\n\r\nexport default StaySignedIn;\r\n","/**\r\n * Either a error message can be visible under an input, or as a global form\r\n * error message, so for UX, the form global error is passed to the input\r\n * components, to show or hide them based on if the form, global, error, exists\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport Password from \"./Password\";\r\nimport StaySignedIn from \"./StaySignedIn\";\r\nimport FormError from \"../../components/FormError\";\r\nimport { connect } from \"react-redux\";\r\nimport { Input } from \"antd\";\r\nimport {\r\n  setUser,\r\n  beginSigningIn,\r\n  setFormError\r\n} from \"../../actions/user.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport * as SignInStyles from \"./styles.scss\";\r\n\r\nexport class SignIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      formSubmitted: false,\r\n      signInSuccessfull: false,\r\n      rememberMe: false,\r\n      formErrorText: \"\",\r\n      loginErrorText: \"\",\r\n      passwordErrorText: \"\",\r\n      login: \"\",\r\n      password: \"\"\r\n    };\r\n\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.handleOnBlur = this.handleOnBlur.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleRememberMeOnChange = this.handleRememberMeOnChange.bind(this);\r\n\r\n    document.title = \"Sign In\";\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(this.props);\r\n  }\r\n\r\n  createInputValidationVariables(event) {\r\n    const name = event.target.name;\r\n    const capitalizedInputName = `${name[0].toUpperCase() + name.substr(1)}`;\r\n    const value = event.target.value.replace(\" \", \"\");\r\n    const inputIsEmpty = value.length === 0 ? true : false;\r\n    const inputNameErrorText = `${name}ErrorText`;\r\n\r\n    return {\r\n      name,\r\n      capitalizedInputName,\r\n      value,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    };\r\n  }\r\n\r\n  inputsAreAllPopulated() {\r\n    const loginValue = document\r\n      .getElementById(\"signin-login\")\r\n      .value.replace(\" \", \"\");\r\n    const passwordValue = document\r\n      .getElementById(\"signin-password\")\r\n      .value.replace(\" \", \"\");\r\n\r\n    return (\r\n      this.state.login.replace(\" \", \"\") !== \"\" &&\r\n      loginValue !== \"\" &&\r\n      this.state.password.replace(\" \", \"\") !== \"\" &&\r\n      passwordValue !== \"\"\r\n    );\r\n  }\r\n\r\n  // TODO rename or add specific onChange for each unique event\r\n  handleOnChange(event) {\r\n    const {\r\n      name,\r\n      capitalizedInputName,\r\n      value,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    } = this.createInputValidationVariables(event);\r\n\r\n    if (inputIsEmpty) {\r\n      this.props.setFormError(\"\");\r\n    }\r\n\r\n    // Sets the inputs value as the state value and if it's empty it outputs a error message.\r\n    this.setState({\r\n      formErrorText: \"\",\r\n      [name]: value,\r\n      [inputNameErrorText]: inputIsEmpty\r\n        ? `${capitalizedInputName} is required.`\r\n        : \"\"\r\n    });\r\n  }\r\n\r\n  handleRememberMeOnChange() {\r\n    this.setState({\r\n      rememberMe: !this.state.rememberMe\r\n    });\r\n  }\r\n\r\n  handleOnBlur(event) {\r\n    const {\r\n      capitalizedInputName,\r\n      inputIsEmpty,\r\n      inputNameErrorText\r\n    } = this.createInputValidationVariables(event);\r\n\r\n    // Handles empty values for all inputs\r\n    this.setState({\r\n      [inputNameErrorText]: inputIsEmpty\r\n        ? `${capitalizedInputName} is required.`\r\n        : \"\"\r\n    });\r\n\r\n    this.props.setFormError(\"\");\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    // TODO IF the user is already signed in,\r\n    //      show a alert thing letting them know\r\n    //      they're already signed in. BYe.\r\n\r\n    // If all inputs are populated ...\r\n    if (this.inputsAreAllPopulated()) {\r\n      // Show spinner icon\r\n      this.setState({ formSubmitted: true });\r\n\r\n      const credentials = {\r\n        login: this.state.login,\r\n        password: this.state.password,\r\n        rememberMe: this.state.rememberMe\r\n      };\r\n\r\n      this.props.beginSigningIn(credentials);\r\n\r\n      // Otherwise find the empty inputs\r\n    } else {\r\n      const stateLoginValue = this.state.login.replace(\" \", \"\");\r\n      const statePasswordValue = this.state.password.replace(\" \", \"\");\r\n      const loginValue = document\r\n        .getElementById(\"signin-login\")\r\n        .value.replace(\" \", \"\");\r\n      const passwordValue = document\r\n        .getElementById(\"signin-password\")\r\n        .value.replace(\" \", \"\");\r\n\r\n      // Is the username/email input empty?\r\n      this.setState({\r\n        loginErrorText:\r\n          stateLoginValue === \"\" || loginValue === \"\"\r\n            ? \"Login is required.\"\r\n            : \"\"\r\n      });\r\n      // Is the password input empty?\r\n      this.setState({\r\n        passwordErrorText:\r\n          statePasswordValue === \"\" || passwordValue === \"\"\r\n            ? \"Password is required.\"\r\n            : \"\"\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loginErrorText,\r\n      passwordErrorText,\r\n      formSubmitted,\r\n      isSigningIn,\r\n      validForm\r\n    } = this.state;\r\n\r\n    const { formErrorText } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"signin flex column view-with-padding center-all\"\r\n        styles={SignInStyles}\r\n      >\r\n        <div className=\"h1-form-container flex center-all column\">\r\n          <h1 className=\"view-title\">Sign In</h1>\r\n          <div id=\"form-error\">{formErrorText}</div>\r\n          <form\r\n            id=\"signin-form\"\r\n            className={`signin-form ${validForm ? \"display-errors\" : \"\"}`}\r\n            onSubmit={this.handleSubmit}\r\n            noValidate\r\n          >\r\n            <Login\r\n              formGlobalError={formErrorText}\r\n              error={loginErrorText}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <Password\r\n              formGlobalError={formErrorText}\r\n              error={passwordErrorText}\r\n              handleOnChange={this.handleOnChange}\r\n              handleOnBlur={this.handleOnBlur}\r\n            />\r\n\r\n            <StaySignedIn\r\n              handleRememberMeOnChange={this.handleRememberMeOnChange}\r\n            />\r\n\r\n            <button type=\"submit\">\r\n              {this.props.isSigningIn && (\r\n                <i className=\"fa fa-spinner fa-pulse\"></i>\r\n              )}\r\n              {!this.props.isSigningIn && <div>Go</div>}\r\n            </button>\r\n\r\n            <h5 className=\"link-to-opposite-form\">\r\n              <Link to=\"/register\">\r\n                Need an account? <span> Sign up here.</span>\r\n              </Link>\r\n            </h5>\r\n            <h6 className=\"link-to-reset-password\">\r\n              <Link to=\"/reset-password\">\r\n                Forgot password? <span>Click here</span>\r\n              </Link>\r\n            </h6>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state.userReducers);\r\n  return {\r\n    user: state.userReducers,\r\n    errors: state.userReducers.errors,\r\n    isSigningIn: state.userReducers.isSigningIn,\r\n    formErrorText: state.userReducers.formErrorText\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    beginSigningIn: credentials => dispatch(beginSigningIn(credentials)),\r\n    setLoader: (isLoading = false, loadingText = \"Loading ...\") =>\r\n      dispatch(setLoader(isLoading, loadingText)),\r\n    setUser: user => {\r\n      dispatch(setUser(user));\r\n    },\r\n    setFormError: error => dispatch(setFormError(error))\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(SignIn)\r\n);\r\n","import { SET_STAY_BOX } from './types';\r\n\r\nexport const setStayBox = (isVisible, text = '') => {\r\n\tconsole.log(`setStayBox`, isVisible, text);\r\n\treturn {\r\n\t\ttype: SET_STAY_BOX,\r\n\t\tpayload: {\r\n\t\t\tisVisible,\r\n\t\t\ttext\r\n\t\t}\r\n\t}\r\n}","import { SET_ALERT } from \"./types\";\r\n\r\n\r\nexport const setAlert = (isVisible, title = '', body = '', feeling = 'info') => {\r\n\treturn {\r\n\t\ttype: SET_ALERT,\r\n\t\tpayload: {\r\n\t\t\tisVisible,\r\n\t\t\ttitle,\r\n\t\t\tbody,\r\n\t\t\tfeeling\r\n\t\t}\r\n\t}\r\n} \r\n","//export const SERVER_URL = \"http://localhost:1337/api\";\r\nexport const SERVER_URL = \"https://illlive.herokuapp.com/api\";\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as _ from \"lodash\";\r\nimport axios from \"axios\";\r\nimport { beginConfirmingAccount } from \"../../actions/user.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport { setStayBox } from \"../../actions/staybox.actions\";\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\nimport { SERVER_URL } from \"../../app-config\";\r\nimport { INVALID_EMAIL_TEXT, EMAIL_REGEX } from \"../../constants\";\r\nimport * as ConfirmAccountStyles from \"./styles.scss\";\r\n\r\nexport class ConfirmAccount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      accountConfirmed: false,\r\n      token: \"\",\r\n      invalidToken: false,\r\n      email: \"\",\r\n      emailErrorText: \"\",\r\n      formText: \"Confirm Your Account\"\r\n    };\r\n\r\n    document.title = \"Confirm your account\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setLoader(true, \"\");\r\n\r\n    // They are authenticated\r\n    if (this.props.isAuthenticated) {\r\n      // They're email has already been confirmed.\r\n      // Routing to their dashboard.\r\n      if (this.props.isConfirmed) {\r\n        this.props.setLoader(true, \"\");\r\n\r\n        setTimeout(() => {\r\n          this.props.setLoader(\r\n            true,\r\n            \"Your account is already confirmed.\",\r\n            false\r\n          );\r\n        }, 2500);\r\n\r\n        setTimeout(() => {\r\n          this.props.setLoader(true, \"Let's move onto the app.\", false);\r\n        }, 4800);\r\n\r\n        setTimeout(() => {\r\n          this.props.setLoader(false, \"\");\r\n          this.props.history.push(\"/me/dashboard\");\r\n        }, 7000);\r\n      } else {\r\n        // Their email has not been confirmed.\r\n        // There's no token in the URL.\r\n        if (!this.props.match.params.token) {\r\n          this.setState({\r\n            formText:\r\n              \"Mmm ... there's something wrong. Try the link sent to your email again, or enter your email to have another link sent.\"\r\n          });\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(false, \"\");\r\n          }, 2800);\r\n        } else {\r\n          // There is a token in the URL, so try confirming their email.\r\n          this.props.beginConfirmingAccount(this.props.match.params.token);\r\n        }\r\n      }\r\n    } else {\r\n      // They are not authenticated\r\n      // There's no token in the URL.\r\n      if (!this.props.match.params.token) {\r\n        this.setState({\r\n          formText:\r\n            \"Mmm ... there's something wrong. Try the link sent to your email again, or enter your email to have another link sent.\"\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.props.setLoader(false, \"\");\r\n        }, 2800);\r\n      } else {\r\n        // There is a token in the URL.\r\n        // Try confirming their email.\r\n        this.props.beginConfirmingAccount(this.props.match.params.token);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let errorObj = this.props.accountConfirmationError;\r\n\r\n    console.log(prevProps, this.props);\r\n\r\n    // Handle begin confirming account\r\n    if (!prevProps.isConfirmingAccount && this.props.isConfirmingAccount) {\r\n      this.props.setLoader(true, \"Confirming your account.\");\r\n    }\r\n\r\n    // Handle failure confirmation\r\n    if (prevProps.isConfirmingAccount && !this.props.isConfirmingAccount) {\r\n      // Handle failure confirmation\r\n      if (!prevProps.isConfirmed && !this.props.isConfirmed) {\r\n        if (!_.isEmpty(errorObj)) {\r\n          this.setState(\r\n            state => {\r\n              let formText = errorObj.tokenExpired\r\n                ? \"Your token expired. Enter your email to have another token sent. You have 30 minutes to confirm that token.\"\r\n                : \"An error occured confirming your token. Please try refreshing the page, or enter your email for another token.\";\r\n              return {\r\n                formText\r\n              };\r\n            },\r\n            () => this.props.setLoader(false, \"\")\r\n          );\r\n        }\r\n      }\r\n\r\n      // Handle successful confirmation\r\n      if (!prevProps.isConfirmed && this.props.isConfirmed) {\r\n        this.setState(\r\n          state => {\r\n            this.props.setStayBox(false, \"\");\r\n            this.props.setLoader(true, \"Account confirmed!!! Please sign in.\");\r\n\r\n            return {\r\n              formText: \"\"\r\n            };\r\n          },\r\n          () => {\r\n            setTimeout(() => {\r\n              this.props.setLoader(false, \"\");\r\n              this.props.history.push(\"/signin\");\r\n            }, 2500);\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    // Handle if this page is opened when authenticating.\r\n    if (!prevProps.isAuthenticated && this.props.isAuthenticated) {\r\n      if (!this.props.match.params.token) {\r\n        // They're signed in, there's no token, and their account\r\n        // is already confirmed\r\n        if (this.props.isConfirmed) {\r\n          setTimeout(() => {\r\n            this.props.setLoader(true, \"Your account is already confirmed.\");\r\n          }, 2000);\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(true, \"Let's get onto the app!\");\r\n          }, 3800);\r\n\r\n          setTimeout(() => {\r\n            this.setLoader(false, \"\");\r\n            this.props.history.push(\"/dashboard\");\r\n          }, 5500);\r\n          // They're signed in, there's no token, and their accoumt is not\r\n          // confirmed\r\n        } else {\r\n          this.setState({\r\n            formText:\r\n              \"Mmm ... there's something wrong. Try the link again, or enter your email to have another link sent.\"\r\n          });\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(false);\r\n          }, 2800);\r\n        }\r\n        // They're signed in, and there is a token\r\n      } else {\r\n        if (this.props.isConfirmed) {\r\n          this.props.setLoader(true, \"\");\r\n\r\n          this.setState({\r\n            formText: \"Your account is already confirmed.\"\r\n          });\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(\r\n              true,\r\n              \"Your account is already confirmed.\",\r\n              false\r\n            );\r\n          }, 2000);\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(true, \"Routing to your dashboard.\");\r\n          }, 3800);\r\n\r\n          setTimeout(() => {\r\n            this.props.setLoader(false, \"\");\r\n            this.props.history.push(\"/dashboard\");\r\n          }, 3800);\r\n        }\r\n\r\n        this.props.beginConfirmingAccount(this.props.match.params.token);\r\n      }\r\n    }\r\n  }\r\n\r\n  emailNewToken = () => {\r\n    if (this.state.email.replace(\" \", \"\") !== \"\") {\r\n      if (this.state.email.match(EMAIL_REGEX)) {\r\n        axios(`${SERVER_URL}/auth/resend-confirmation-email`, {\r\n          method: \"post\",\r\n          crossDomain: true,\r\n          mode: \"no-cors\",\r\n          headers: { \"Content-type\": \"application/json\" },\r\n          data: { email: this.state.email }\r\n        })\r\n          .then(response => {\r\n            this.setState({ formText: response.message });\r\n            this.props.setAlert(true, \"Confirmation Email\", \"Email sent!\");\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            // TODO handle error\r\n            this.setState({ formText: error });\r\n\r\n            console.log(\r\n              `[ConfirmAccount] error POSTing auth/resend-confirmation | error: ${error}`\r\n            );\r\n          });\r\n      } else {\r\n        this.setState({ emailErrorText: INVALID_EMAIL_TEXT });\r\n      }\r\n    } else {\r\n      this.setState({ emailErrorText: \"Email is required.\" });\r\n    }\r\n  };\r\n\r\n  handleOnChange = event => {\r\n    this.setState({\r\n      email: event.target.value,\r\n      emailErrorText:\r\n        event.target.value.replace(\" \", \"\") === \"\" ? \"Email is required.\" : \"\"\r\n    });\r\n  };\r\n\r\n  handleOnBlur = event => {\r\n    if (this.state.email.replace(\" \", \"\") !== \"\") {\r\n      const validEmail = this.state.email.match(EMAIL_REGEX);\r\n\r\n      this.setState({ emailErrorText: !validEmail ? INVALID_EMAIL_TEXT : \"\" });\r\n    } else {\r\n      this.setState({ emailErrorText: \"Email is required.\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let confirmErrorObj = this.props.accountConfirmationError;\r\n    let EmailInput;\r\n    let SuccessLink;\r\n    let emailErrorText =\r\n      this.state.emailErrorText !== \"\" ? (\r\n        <div className=\"form-error-text\">{this.state.emailErrorText}</div>\r\n      ) : (\r\n        \"\"\r\n      );\r\n\r\n    EmailInput =\r\n      !_.isEmpty(confirmErrorObj) && confirmErrorObj.tokenExpired ? (\r\n        <div className=\"form-group\">\r\n          <div className=\"email-button-group\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Your email\"\r\n              onChange={this.handleOnChange}\r\n              onBlur={this.handleOnBlur}\r\n            />\r\n            <button type=\"submit\" onClick={this.emailNewToken}>\r\n              Send\r\n            </button>\r\n          </div>\r\n          {emailErrorText}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      );\r\n\r\n    SuccessLink = this.props.isConfirmed ? (\r\n      <div className=\"form-group\">\r\n        <Link to=\"/signin\" className=\"success-link\">\r\n          Account confirmed. Click here to sign in!\r\n        </Link>\r\n      </div>\r\n    ) : (\r\n      \"\"\r\n    );\r\n\r\n    return (\r\n      <div className=\"confirm-account view\" styles={ConfirmAccountStyles}>\r\n        <div className=\"view-header\">\r\n          <h1 className=\"view-title\">Confirm Account</h1>\r\n        </div>\r\n        <div className=\"view-main flex column center-all\">\r\n          <h1 className=\"\">{this.state.formText}</h1>\r\n          {EmailInput}\r\n          {SuccessLink}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.userReducers.confirmationToken,\r\n    isAuthenticating: state.userReducers.isAuthenticating,\r\n    isAuthenticated: state.userReducers.isAuthenticated,\r\n    isConfirmingAccount: state.userReducers.isConfirmingAccount,\r\n    isConfirmed: state.userReducers.accountConfirmed,\r\n    accountConfirmationError: state.userReducers.accountConfirmationError\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    beginConfirmingAccount: token => dispatch(beginConfirmingAccount(token)),\r\n    setStayBox: (isVisible, text) => dispatch(setStayBox(isVisible, text)),\r\n    setAlert: (isVisible, body = \"\", text = \"\") =>\r\n      dispatch(setAlert(isVisible, body, text)),\r\n    setLoader: (\r\n      isLoading = false,\r\n      loadingText = \"Loading ...\",\r\n      showSpinner = true\r\n    ) => dispatch(setLoader(isLoading, loadingText, showSpinner))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ConfirmAccount);\r\n","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { setUser } from '../../actions/user.actions';\r\nimport { setProfileAfterSignUp } from '../../services/user.service';\r\nimport { setLoader } from '../../actions/loading.actions';\r\nimport * as CreateProfileAfterSignupStyles from './styles.scss';\r\n\r\nexport class CreateProfileAfterSignup extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n          title: 'Some details about me to calculate your recommended amount of vitamins',\r\n          profileSaved: false,\r\n          ageErrorText: '',\r\n          weightErrorText: '',\r\n          formErrorText: '',\r\n          formSubmitted: false\r\n    }\r\n\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n    this.handleOnBlur   = this.handleOnBlur.bind(this);\r\n    this.handleSubmit   = this.handleSubmit.bind(this);\r\n  }\r\n\r\n\r\n\r\n  componentWillMount() {}\r\n\r\n\r\n\r\n  componentDidMount() {}\r\n\r\n\r\n\r\n  inputsAreAllPopulated() {\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n  handleOnChange(event) {\r\n\r\n  }\r\n\r\n\r\n\r\n  handleOnBlur(event) {\r\n    // Handles empty values for all inputs\r\n\r\n  }\r\n\r\n\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    // If all inputs are populated ...\r\n    if ( this.inputsAreAllPopulated() ) {\r\n\r\n      // Show spinner icon\r\n      this.setState({ formSubmitted: true });\r\n\r\n      const body = {\r\n        age: this.state.age,\r\n        weight: this.state.weight\r\n      };\r\n\r\n      // POST to api/signup\r\n      setProfileAfterSignUp(body)\r\n      .then(response => {\r\n\r\n        console.log(response.data);\r\n        \r\n        const {\r\n          success,\r\n          message,\r\n          data: { payload } \r\n        } = response.data;\r\n\r\n\r\n        // Success\r\n        if (success) {\r\n          console.log(`response data.payload:`, payload);\r\n\r\n          // Store user in store\r\n          this.props.setUser(payload.foundUser);\r\n\r\n          // \"Signed In!\"\r\n          this.props.setLoader(true, \"Your info has been updated.\");\r\n          this.props.setLoader(false, \"Loading ...\");\r\n\r\n          // Hide spinner icon\r\n          this.setState({ formSubmitted: false });\r\n\r\n          // Route to their dashboard\r\n          this.props.history.push('/dashboard');\r\n\r\n          return;\r\n        } \r\n\r\n        this.setState({\r\n          profileSaved: success,\r\n          formErrorText: message,\r\n          formSubmitted: false\r\n        }, () => {\r\n          // Hide loader\r\n            this.props.setLoader(false);\r\n        });\r\n\r\n            \r\n      })\r\n      .catch(error => {\r\n        console.log(`fetch api/profile-after-signup error`, error);\r\n\r\n        this.setState({\r\n          formSubmitted: false,\r\n          formErrorText: 'My bad ... go ahead and try again.'\r\n        });\r\n\r\n        console.log(error);\r\n      });\r\n\r\n    // Otherwise find the empty inputs\r\n    } else {\r\n      const age    = this.state.age.replace(\" \", \"\");\r\n      const weight = this.state.weight.replace(\" \", \"\");\r\n\r\n      // Is the username/email input empty?\r\n      this.setState({\r\n        formErrorText: ( age || weight ) === \"\" ? \"Please enter your age, weight.\" : \"\"\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let formErrorText;\r\n    let state = this.state;\r\n\r\n    // Create a form error text div with the error if it's errorState is not an empty string\r\n    if (state.formErrorText !== \"\") {\r\n      formErrorText = <div className=\"form-error-text\">{state.formErrorText}</div>\r\n    }\r\n\r\n    return(\r\n      <div className=\"profile-after-signup view-with-padding center-all\" styles={CreateProfileAfterSignupStyles}>\r\n\r\n        <h1 className=\"view-title\">{this.state.title}</h1>\r\n\r\n        <form className={`profile-form ${this.state.validForm ? 'display-errors' : '' }` }\r\n              onSubmit={this.handleSubmit}\r\n              noValidate>\r\n\r\n          {formErrorText}\r\n\r\n          {/* Age */}\r\n          <div className=\"form-group\">\r\n            <input\r\n              name=\"age\" type=\"number\"\r\n              id=\"intro-profile-age\"\r\n              className={this.state.ageErrorText !== '' ? 'form-error-input' : ''}\r\n              placeholder=\"My age\"\r\n              onChange={this.handleOnChange}\r\n              onBlur={this.handleOnBlur}\r\n              required/>\r\n          </div>\r\n\r\n          {/* Weight */}\r\n          <div className=\"form-group\">\r\n            <input\r\n              ref=\"weight\"\r\n              name=\"weight\"\r\n              id=\"intro-profile-weight\"\r\n              className={this.state.weightErrorText !== '' ? 'form-error-input' : ''}\r\n              placeholder=\"My weight\"\r\n              onChange={this.handleOnChange}\r\n              onBlur={this.handleOnBlur}\r\n              required/>\r\n              \r\n\r\n              <select \r\n                name=\"weight-measurement\" \r\n                id=\"weight-measurement\"\r\n                ref=\"weight-measurement\" \r\n                onChange={this.handleOnChange}>\r\n                <option value=\"lbs\" selected>lbs</option>\r\n                <option value=\"kg\" selected>kg</option>\r\n              </select>\r\n          </div>\r\n\r\n\r\n          <button type=\"submit\">\r\n            {\r\n              this.state.formSubmitted && <i className=\"fa fa-spinner fa-pulse\"></i>\r\n            }\r\n            { \r\n              !this.state.formSubmitted && \"Go\"\r\n            }\r\n          </button>\r\n          <h6 className=\"link-to-opposite-form\"><Link to=\"/dashboard\">Set these values later?</Link></h6>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.userReducers\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setLoader: (isLoading = false, loadingText = \"Loading ...\"  ) => dispatch(setLoader(isLoading, loadingText)),\r\n    setUser: (user) => { dispatch(setUser(user)) }\r\n  }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreateProfileAfterSignup));\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport { beginConfirm24HourMealResetMessage } from \"../../actions/user.actions\";\r\nimport * as DashboardStyles from \"./styles.scss\";\r\n\r\nexport class Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    document.title = \"Dashboard\";\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    // // If they're not signed in than no route to dashboard. Simply check if username is empty\r\n    // // If they're signed in though not confirmed, route to confirm-account\r\n    // //if ( !this.props.accountConfirmed ) return <Redirect to=\"/signin\" />\r\n    // if ( !this.props.user || !this.props.username || this.props.username === \"\" ) {\r\n    //   console.log(`[Dashboard] this.props.user.username === ''. Should route to signin`);\r\n    //   <Redirect to=\"/signin\" />\r\n    //   this.props.history.push('/signin');\r\n    // }\r\n\r\n    return (\r\n      <div className=\"dashboard view-with-padding flex center-all\" style={DashboardStyles}>\r\n        {/* <div className=\"view-header\"> */}\r\n        {/*   <h1 className=\"view-title\">Dashboard</h1> */}\r\n        {/* </div> */}\r\n\r\n        <div className=\"view-main flex center-all\">\r\n          <nav className=\"dashboard-menu flex center-all\">\r\n            <div className=\"dashboard-menu-route\">\r\n              <Link to=\"/add\" className=\"flex\">\r\n                <div className=\"link-container flex center-all\">\r\n                  <i className=\"fas fa-apple-alt\" />\r\n                  <span>Add a Item</span>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n            <div className=\"dashboard-menu-route\">\r\n              <Link to=\"/make-a-meal\" className=\"flex\">\r\n                <i className=\"fas fa-blender\" />\r\n                <span>Make a Meal</span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"dashboard-menu-route\">\r\n              <Link to=\"/totals\" className=\"flex\">\r\n                <i className=\"fas fa-box\" />\r\n                <span>Totals</span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"dashboard-menu-route\">\r\n              <Link to=\"/account\" className=\"flex\">\r\n                <i className=\"fas fa-box\" />\r\n                <span>Account</span>\r\n              </Link>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userReducers,\r\n    accountConfirmed: state.userReducers.accountConfirmed,\r\n    confirm24HourMealReset: state.userReducers.confirm24HourMealResetMessage\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setLoader: (showing, text) => {\r\n      dispatch(setLoader(showing, text));\r\n    },\r\n    beginConfirm24HourMealReset: () =>\r\n      dispatch(beginConfirm24HourMealResetMessage())\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(Dashboard)\r\n);\r\n","import configs from \"../configs\";\r\nimport axios from \"axios\";\r\n\r\nexport const sendSaveFoodDrinkRequest = foodDrink => {\r\n  console.log(`[DashboardService] sendSaveFoodDrinkRequest`, foodDrink);\r\n\r\n  return axios(`${configs.apiUrl}/user/add`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    withCredentials: true,\r\n    data: { foodDrink }\r\n  });\r\n};\r\n\r\n// sendSaveMealsRequest\r\nexport const sendSaveMealsRequest = (meals) => {\r\n  console.log(`[DashboardService] sendSaveMealsRequest`, meals);\r\n  return axios(`${configs.apiUrl}/user/saveMeals`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    withCredentials: true,\r\n    data: { meals }\r\n  });\r\n};\r\n\r\nexport const sendCreateNewMealRequest = (meal) => {\r\n  console.log(`[DashboardService] sendCreateNewMealRequest`, meal);\r\n  return axios(`${configs.apiUrl}/user/createNewMeal`, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    withCredentials: true,\r\n    data: { meal }\r\n  });\r\n};\r\n\r\nexport const sendSaveMeasurementRequest = (measurement) => {\r\n  return axios(`${configs.apiUrl}/user/saveMeasurement`, { params: { measurement} });\r\n};\r\n\r\nexport const sendDeleteMeasurementRequest = (measurement) => {\r\n  return axios(`${configs.apiUrl}/user/deleteMeasurement`, { params: { measurement} });\r\n};","import {\r\n  BEGIN_SAVING_NEW_MEASUREMENT,\r\n  SUCCESS_SAVING_NEW_MEASUREMENT,\r\n  FAILURE_SAVING_NEW_MEASUREMENT,\r\n  BEGIN_SAVING_NEW_FOOD_DRINK,\r\n  SUCCESS_SAVING_NEW_FOOD_DRINK,\r\n  FAILURE_SAVING_NEW_FOOD_DRINK,\r\n  PUSH_TO_SAVE_FOOD_DRINK_ERRORS,\r\n  FAILURE_SAVING_MEASUREMENT,\r\n  SUCCESS_SAVING_MEASUREMENT,\r\n  BEGIN_DELETING_MEASUREMENT,\r\n  FAILURE_DELETING_MEASUREMENT,\r\n  SUCCESS_DELETING_MEASUREMENT,\r\n  BEGIN_CREATING_NEW_MEAL,\r\n  FAILURE_CREATING_NEW_MEAL,\r\n  SUCCESS_CREATING_NEW_MEAL,\r\n  SAVE_MEASUREMENT_ERROR,\r\n  BEGIN_SAVING_MEALS,\r\n  SUCCESS_SAVING_MEALS,\r\n  FAILURE_SAVING_MEALS\r\n} from \"./types\";\r\nimport { beginStoringUser, setUser } from \"./user.actions\";\r\nimport { setAlert } from \"./alert.actions\";\r\nimport uuid from \"uuid\";\r\nimport {\r\n  sendSaveFoodDrinkRequest,\r\n  sendSaveMeasurementRequest,\r\n  sendDeleteMeasurementRequest,\r\n  sendCreateNewMealRequest,\r\n  sendSaveMealsRequest\r\n} from \"../services/dashboard.service\";\r\n\r\n// Saving a measurement\r\nexport let beginSavingMeasurement = () => {\r\n  return {\r\n    type: BEGIN_SAVING_NEW_MEASUREMENT,\r\n    payload: {\r\n      isSavingMeasurement: true\r\n    }\r\n  };\r\n};\r\n\r\nexport let saveMeasurement = measurement => {\r\n  return function(dispatch, getState) {\r\n    dispatch(beginSavingMeasurement());\r\n\r\n    sendSaveMeasurementRequest(measurement)\r\n      .then(res => {\r\n        if (!res.success) {\r\n        } else {\r\n          dispatch(successSavingMeasurement());\r\n        }\r\n      })\r\n      .catch(error => {\r\n        // simply, if there's an error, store the adjective in localStorage todoSaves and keep\r\n        // trying to save them and on sucessfull save, delete localStorage item.\r\n        dispatch(failureSavingMeasurement(measurement, error));\r\n      });\r\n  };\r\n};\r\n\r\nexport let successSavingMeasurement = measurement => {\r\n  return {\r\n    type: SUCCESS_SAVING_NEW_MEASUREMENT,\r\n    payload: {\r\n      measurement,\r\n      isSavingMeasurement: false\r\n    }\r\n  };\r\n};\r\n\r\nexport let failureSavingMeasurement = (measurement, error) => {\r\n  let saveMeasurementErrors;\r\n  let measurementErrors = {\r\n    type: FAILURE_SAVING_NEW_MEASUREMENT,\r\n    measurement,\r\n    error,\r\n    id: uuid(),\r\n    message: \"Oh, there was an error. Please try SAVING the measurement again.\"\r\n  };\r\n\r\n  let serializedMeasurementError = JSON.stringify(error);\r\n\r\n  try {\r\n    saveMeasurementErrors = JSON.parse(\r\n      localStorage.getItem(\"saveMeasurementErrors\")\r\n    );\r\n  } catch (error) {\r\n    console.log(\r\n      `An error occured parsing localStorage saveMeasurementErrors item`,\r\n      error\r\n    );\r\n  }\r\n\r\n  if (saveMeasurementErrors === null) {\r\n    try {\r\n      localStorage.setItem(\r\n        `saveMeasurementErrors`,\r\n        JSON.stringify([serializedMeasurementError])\r\n      );\r\n    } catch (error) {\r\n      console.log(`An error occured setting saveMeasurementErrors`, error);\r\n    }\r\n  } else {\r\n    saveMeasurementErrors.push(serializedMeasurementError);\r\n\r\n    try {\r\n      localStorage.setItem(\r\n        `saveMeasurementErrors`,\r\n        JSON.stringify(saveMeasurementErrors)\r\n      );\r\n    } catch (error) {\r\n      console.log(`An error occured setting saveMeasurementErrors`, error);\r\n    }\r\n  }\r\n\r\n  return {\r\n    type: FAILURE_SAVING_NEW_MEASUREMENT,\r\n    error: measurementErrors\r\n  };\r\n};\r\n\r\n// Add new measurement\r\n// TODO a measurement is added to the users measurements[] ?\r\nexport let beginSavingNewMeasurement = () => {\r\n  return function(dispatch) {\r\n    return {\r\n      type: BEGIN_SAVING_NEW_MEASUREMENT,\r\n      payload: {\r\n        isSAVINGNewMeasurement: true\r\n      }\r\n    };\r\n  };\r\n};\r\n\r\nexport let addNewMeasurement = adjective => {};\r\n\r\nexport let successSavingNewMeasurement = () => {\r\n  return function(dispatch) {\r\n    return {\r\n      type: SUCCESS_SAVING_NEW_MEASUREMENT,\r\n      payload: {\r\n        isSAVINGNewMeasurment: false\r\n      }\r\n    };\r\n  };\r\n};\r\n\r\nexport let failureSavingNewMeasurment = () => {\r\n  return {\r\n    type: FAILURE_SAVING_NEW_MEASUREMENT,\r\n    payload: {\r\n      isSAVINGNewMeasurement: false\r\n    }\r\n  };\r\n};\r\n\r\n// Delete measurement\r\nexport let beginDeletingMeasurement = () => {\r\n  return {\r\n    type: BEGIN_DELETING_MEASUREMENT,\r\n    payload: {\r\n      isDeletingMeasurement: true\r\n    }\r\n  };\r\n};\r\n\r\nexport let deleteMeasurement = (measurement, index) => {\r\n  return function(dispatch, getState) {\r\n    let user = getState().userReducers;\r\n    let measurements = user.measurements;\r\n\r\n    sendDeleteMeasurementRequest()\r\n      .then(res => {\r\n        if (!res.success) {\r\n          dispatch(failureDeletingMeasurement(res.data.error));\r\n        } else {\r\n          let newMeasurements = measurements.filter((_measurement, index) => {\r\n            return _measurement.toUpperCase() === measurement.toUpperCase();\r\n          });\r\n          dispatch(\r\n            successDeletingMeasurement(Object.assign({}, user, newMeasurements))\r\n          );\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch(failureDeletingMeasurement(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport let successDeletingMeasurement = user => {\r\n  return {\r\n    type: SUCCESS_DELETING_MEASUREMENT,\r\n    payload: {\r\n      isDeletingMeasurement: false,\r\n      user\r\n    }\r\n  };\r\n};\r\n\r\nexport let failureDeletingMeasurement = () => {\r\n  return {\r\n    type: FAILURE_DELETING_MEASUREMENT,\r\n    payload: {\r\n      isDeletingMeasurement: false\r\n    }\r\n  };\r\n};\r\n\r\n// Add a food or drink item\r\nexport let beginSavingNewFoodDrink = foodDrink => {\r\n  console.log(`[dashboardActions] beginSavingNewFoodDrink`);\r\n  return function(dispatch) {\r\n    dispatch(saveNewFoodDrink(foodDrink));\r\n\r\n    return dispatch({\r\n      type: BEGIN_SAVING_NEW_FOOD_DRINK\r\n    });\r\n  };\r\n};\r\n\r\nexport let saveNewFoodDrink = foodDrink => {\r\n  return function(dispatch) {\r\n    sendSaveFoodDrinkRequest(foodDrink)\r\n      .then(response => {\r\n        // TODO\r\n        // If the item already exists\r\n        // 1. check current getStore() for existing item name trim etc.\r\n        // 2. If already exists, tell user to add a new measurement for that item\r\n        // 3 Otherwise save item.\r\n        console.log(`response from sendSaveFoodDrinkRequest`, response);\r\n        if (response.status === 200) {\r\n          dispatch(successSavingNewFoodDrink(response.data.data.savedUser));\r\n        } else {\r\n          dispatch(failureSavingNewFoodDrink());\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(`[Add -> saveFoodDrink] An error occured`, error);\r\n      });\r\n  };\r\n};\r\n\r\nexport let successSavingNewFoodDrink = user => {\r\n  return function(dispatch) {\r\n    dispatch(setAlert(true, \"Item added!\", \"\", \"success\"));\r\n    dispatch(setUser(user));\r\n\r\n    setTimeout(() => {\r\n      dispatch(setAlert(false, \"\"));\r\n    }, 2800);\r\n\r\n    return dispatch({\r\n      type: SUCCESS_SAVING_NEW_FOOD_DRINK\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureSavingNewFoodDrink = errors => {\r\n  return {\r\n    type: FAILURE_SAVING_NEW_FOOD_DRINK,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\n// Create a new meal\r\nexport let beginCreatingNewMeal = meal => {\r\n  console.log(`beginCreatingNewMeal meal`, meal);\r\n  return function(dispatch) {\r\n    dispatch(createNewMeal(meal));\r\n\r\n    return dispatch({\r\n      type: BEGIN_CREATING_NEW_MEAL\r\n    });\r\n  };\r\n};\r\n\r\nexport let createNewMeal = meal => {\r\n  return function(dispatch) {\r\n    sendCreateNewMealRequest(meal)\r\n      .then(response => {\r\n        // TODO\r\n        // If the item already exists\r\n        // 1. check current getStore() for existing item name trim etc.\r\n        // 2. If already exists, tell user to add a new measurement for that item\r\n        // 3 Otherwise save item.\r\n        console.log(`response from sendSaveFoodDrinkRequest`, response);\r\n        if (response.status === 200) {\r\n          dispatch(successCreatingNewMeal(response.data.data));\r\n        } else {\r\n          dispatch(failureCreatingNewMeal(response.dashboardActions));\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(`[Add -> saveFoodDrink] An error occured`, error);\r\n      });\r\n  };\r\n};\r\n\r\nexport let successCreatingNewMeal = user => {\r\n  console.log(`successCreatingNewMeal`);\r\n  return function(dispatch) {\r\n    dispatch(beginStoringUser(user));\r\n\r\n    return dispatch({\r\n      type: SUCCESS_CREATING_NEW_MEAL\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureCreatingNewMeal = errors => {\r\n  return {\r\n    type: FAILURE_CREATING_NEW_MEAL,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\n\r\n// Save meals\r\nexport let beginSavingMeals = meals => {\r\n  return function(dispatch) {\r\n    dispatch(saveMeals(meals));\r\n\r\n    return dispatch({\r\n      type: BEGIN_SAVING_MEALS\r\n    });\r\n  };\r\n};\r\n\r\nexport let saveMeals = meals => {\r\n  return async function(dispatch) {\r\n    const response = await sendSaveMealsRequest(meals);\r\n\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      dispatch(successSavingMeals(response.data.data));\r\n    } else {\r\n      dispatch(failureSavingMeals(response.data.data));\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport let successSavingMeals = user => {\r\n  return function(dispatch) {\r\n    console.log(`successSavingMeals`, user);\r\n    dispatch(setUser(user));\r\n\r\n    return dispatch({\r\n      type: SUCCESS_SAVING_MEALS\r\n    });\r\n  };\r\n};\r\n\r\nexport let failureSavingMeals = errors => {\r\n  return {\r\n    type: FAILURE_SAVING_MEALS,\r\n    payload: {\r\n      errors\r\n    }\r\n  };\r\n};\r\n\r\n// TODO this isn't real. \r\nexport let pushToSaveFoodDrinkErrors = errors => {\r\n  return {\r\n    type: FAILURE_SAVING_NEW_FOOD_DRINK,\r\n    payload: {\r\n      errors\r\n    }\r\n  }\r\n}\r\n\r\n","import {\r\n  BEGIN_CALCULATING_TOTALS,\r\n  CALCULATE_TOTALS,\r\n  CALCULATE_TOTALS_SUCCESS,\r\n  CALCULATE_TOTALS_FAILURE,\r\n  BEGIN_MEAL_ADDITION_CALCULATION,\r\n  MEAL_ADDITION_CALCULATION,\r\n  MEAL_ADDITION_CALCULATION_SUCCESS,\r\n  MEAL_ADDITION_CALCULATION_FAILURE,\r\n} from \"./types\";\r\n\r\nexport let beginCalculatingTodaysTotals = () => {\r\n  return function(dispatch) {\r\n    dispatch(calculateTotals());\r\n\r\n    return dispatch({\r\n      type: BEGIN_CALCULATING_TOTALS\r\n    });\r\n  }\r\n};\r\n\r\nexport let calculateTotals = () => {\r\n  // loop over meals.foodDrinks concatinate\r\n\r\n  return function(dispatch, getState) { \r\n    const meals = getState().userReducers.meals;\r\n    const totals = getState().totalsReducers.totals;\r\n    let newTotals = {};\r\n\r\n      meals.forEach(meal => {\r\n        meal.foodDrinks.forEach(consumable => {\r\n          // Strip the non vitamin and mineral keys\r\n\r\n\r\n          // If !newTotals.hasOwnProperty(consumable.key)\r\n          // newTotals[key]: key + totals[key] \r\n        })\r\n      });\r\n\r\n    // const payload = {\r\n    //   vitaminA: 0,\r\n    //   vitaminB1: 0,\r\n    //   vitaminB2: 0,\r\n    //   vitaminB3: 0,\r\n    //   vitaminB5: 0,\r\n    //   vitaminB6: 0,\r\n    //   vitaminB7: 0,\r\n    //   calcium: 0,\r\n    //   choline: 0,\r\n    //   chromium: 0,\r\n    //   copper: 0,\r\n    //   fluoride: 0,\r\n    //   folicAcid: 0,\r\n    //   iodine: 0,\r\n    //   iron: 0,\r\n    //   magnesium: 0,\r\n    //   manganese: 0,\r\n    //   molybdenum: 0,\r\n    //   phosphorus: 0,\r\n    //   potassium: 0,\r\n    //   salt: 0,\r\n    //   vitaminD3: 0,\r\n    //   vitaminE: 0,\r\n    //   vitaminK: 0,\r\n    //   zinc: 0\r\n    // }\r\n    \r\n    return dispatch({\r\n      type: CALCULATE_TOTALS_SUCCESS,\r\n      payload: {\r\n        newTotals\r\n      }\r\n    });\r\n  }\r\n};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\n//import { setMeal } from \"../../actions/user.actions\";\r\nimport { getVitamins } from \"../../utilities/index.js\";\r\n\r\nexport class Detail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ...props,\r\n      title: \"Details\",\r\n      consumable: null,\r\n      vitamins: null,\r\n      consumableId: null,\r\n      consumableIndex: 0\r\n    };\r\n\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.handleOnNext = this.handleOnNext.bind(this);\r\n    this.handleOnPrevious = this.handleOnPrevious.bind(this);\r\n    this.outputItemMeasurementOptions = this.outputItemMeasurementOptions.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n\r\n    this.setState(\r\n      {\r\n        vitamins: getVitamins()\r\n      },\r\n      () => {\r\n        console.log(this.state.vitamins);\r\n      }\r\n    );\r\n\r\n    // if ( this.props.user && this.props.user.hasOwnProperty('consumables') && this.props.user.consumables.length ) {\r\n    //   this.props.user.consumables.find((consumable, index) => {\r\n    //     if ( consumable._id === this.props.match.params.id ) {\r\n    //       return this.setState({\r\n    //         item: consumable,\r\n    //         consumableIndex: index\r\n    //       });\r\n    //     } else {\r\n    //       return;\r\n    //     }\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  componentWillReceiveProps() {}\r\n\r\n  setSelectedConsumable(consumable) {}\r\n\r\n  closeModal() {\r\n    //this.props.history.push('/set-meal');\r\n    this.props.close();\r\n  }\r\n\r\n  handleOnPrevious() {\r\n    const { user } = this.props;\r\n    const { consumableIndex: index } = this.state;\r\n\r\n    if (\r\n      user &&\r\n      user.hasOwnProperty(\"consumables\") &&\r\n      Array.isArray(user.consumables)\r\n    ) {\r\n      // get the length of the arrayu\r\n      // get the index of the consumable\r\n\r\n      if (index <= 0) {\r\n        // hide the previous button\r\n      } else {\r\n        this.setState({\r\n          item: user.consumables[index - 1],\r\n          consumableIndex: index - 1\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleOnNext() {\r\n    const { user } = this.props;\r\n    const { consumableIndex: index } = this.state;\r\n    let length = 0;\r\n\r\n    if (\r\n      user &&\r\n      user.hasOwnProperty(\"consumables\") &&\r\n      Array.isArray(user.consumables)\r\n    ) {\r\n      // get the length of the arrayu\r\n      // get the index of the consumable\r\n\r\n      length = user.consumables.length;\r\n\r\n      if (index + 1 >= length) {\r\n        // hide the previous button\r\n      } else {\r\n        this.setState({\r\n          item: user.consumables[index + 1],\r\n          consumableIndex: index + 1\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  outputMeasurement(vitamin) {\r\n    const { vitamins } = this.state;\r\n    let measurement = vitamins.find((v, index) => {\r\n      if (v.inputName === vitamin) {\r\n        measurement = v.measurement;\r\n        return v.measurement;\r\n      } else {\r\n        return undefined;\r\n      }\r\n    });\r\n\r\n    return measurement;\r\n  }\r\n\r\n  outputConsumableDetails() {\r\n    const { user } = this.props;\r\n    const { vitamins } = this.state;\r\n\r\n    return user.consumables.map((consumable, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <li className=\"vitamin\">\r\n            <span>{this.state.vitamins[index][\"name\"]}:</span>\r\n            {vitamins[index].measurement}\r\n          </li>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  add(consumable) {\r\n    console.log(consumable);\r\n\r\n    // HTTP request to user/adds\r\n    // .then()\r\n    // dispatch(updateUser)\r\n    //\r\n\r\n    // setMeal()\r\n    //   .then(results => {\r\n    //     console.log(`[Detail -> add()] setMeal() .then() results`, results);\r\n    //   })\r\n    //   .catch(error => {\r\n    //     console.log(`An error occured setting a meal`);\r\n    //   });\r\n  }\r\n\r\n  outputItemMeasurementOptions(servingSize) {\r\n    return servingSize.map((m, index) => {\r\n      return (\r\n        <option name=\"servingSize\" key={index + 1} ref=\"servingSize\" value=\"m\">\r\n          {m}\r\n        </option>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { item } = this.state;\r\n\r\n    let consumable;\r\n    let itemName = \"\";\r\n\r\n    // if (servingSize.length === 1) {\r\n    //   itemServingSize = servingSize[0];\r\n    // } else {\r\n    //   itemServingSize = (\r\n    //     <select className=\"servingSize\" name=\"servingSize\" ref=\"servingSize\">\r\n    //       {this.outputItemMeasurementOptions()}\r\n    //     </select>\r\n    //   )\r\n    // }\r\n\r\n    if (item) {\r\n      if (item.hasOwnProperty(\"servingSize\")) {\r\n      }\r\n      if (item.hasOwnProperty(\"itemName\")) {\r\n        itemName = item.itemName;\r\n        consumable = (\r\n          <div className=\"consumable-wrapper\">\r\n            <ul className=\"vitamins\">\r\n              {this.outputConsumableDetails}\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin A:</span>\r\n                {item.vitaminA}\r\n                <div className=\"my-amounts\">\r\n                  <div>RDA: 100</div>\r\n                  <div>Current: 42</div>\r\n                </div>\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B1:</span>\r\n                {item.vitaminB1}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B2:</span>\r\n                {item.vitaminB2}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B3:</span>\r\n                {item.vitaminB3}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B5:</span>\r\n                {item.vitaminB5}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B6:</span>\r\n                {item.vitaminB6}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B7:</span>\r\n                {item.vitaminB7}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin B12:</span>\r\n                {item.vitaminB12}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Calium:</span>\r\n                {item.calcium}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Chromium:</span>\r\n                {item.chromium}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Choline:</span>\r\n                {item.choline}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Copper:</span>\r\n                {item.copper}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Flouride:</span>\r\n                {item.flouride}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Folic Acid:</span>\r\n                {item.folicAcid}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Iodine:</span>\r\n                {item.iodine}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Iron:</span>\r\n                {item.iron}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Magnesium:</span>\r\n                {item.magnesium}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Phosphorus:</span>\r\n                {item.phosphorus}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Potassium:</span>\r\n                {item.potassium}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Selenium:</span>\r\n                {item.selenium}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Salt:</span>\r\n                {item.salt}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin D3:</span>\r\n                {item.vitaminD3}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin E:</span>\r\n                {item.vitaminE}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Vitamin K:</span>\r\n                {item.vitaminK}\r\n              </li>\r\n              <li className=\"vitamin\">\r\n                <span>Zinc:</span>\r\n                {item.zinc}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n      } else {\r\n        consumable = (\r\n          <div className=\"consumable-wrapper\">\r\n            <p className=\"no-item-selected\">No item selected.</p>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"detail view\">\r\n        <div className=\"detail-header\">\r\n          <h1>{itemName}</h1>\r\n          <div className=\"close-container\">\r\n            Close <i className=\"fa fa-times close\" onClick={this.closeModal} />\r\n          </div>\r\n        </div>\r\n        <div className=\"detail-controls\">\r\n          <div\r\n            className=\"previous\"\r\n            onClick={() => {\r\n              this.handleOnPrevious();\r\n            }}\r\n          >\r\n            Previous\r\n          </div>\r\n          <div\r\n            className=\"next\"\r\n            onClick={() => {\r\n              this.handleOnNext();\r\n            }}\r\n          >\r\n            Next Item\r\n          </div>\r\n        </div>\r\n        {consumable}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    showAlert: state.alertReducers.showAlert,\r\n    user: state.userReducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setAlert: (isVisible, text) => dispatch(setAlert(isVisible, text))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Detail);\r\n","import * as vitaminsJSON from '../vitamins.json';\r\n\r\nexport const getVitamins = () => {\r\n\treturn vitaminsJSON.vitamins;\r\n}","import React, { PropTypes } from 'react';\r\n\r\nexport const ShowSelectAMealMessage = (props) => {\r\n\treturn (\r\n\t    <div className=\"select-a-meal-message flex center-all\">\r\n\t      Please select a meal\r\n\t    </div>\r\n\t); \r\n};\r\n\r\nexport default ShowSelectAMealMessage;\r\n","import React, { useEffect, PropTypes } from \"react\";\r\nimport { Select, Input } from \"antd\";\r\n\r\nconst Option = Select.Option;\r\n\r\nexport const ServingSizeErrorMessage = props => {\r\n  return (\r\n    <div className=\"consumable-error serving-size-error-message\">\r\n      Select a serving size.\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const NumOfServingsErrorMessage = props => {\r\n  return (\r\n    <div className=\"consumable-error quantity-error-message\">\r\n      Enter the number of servings.\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const AddButton = props => {\r\n  return (\r\n    <button type=\"button\" className=\"add\" onClick={props.save}>\r\n      Add\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const FoodDrinksForm = props => {\r\n  return (\r\n    <div\r\n      data-consumable-id={props.selectedFoodDrink._id}\r\n      className={`flex column ${\r\n        props.selectedFoodDrink.foodOrDrink === \"food\" ? \"food\" : \"drink\"\r\n      }`}\r\n    >\r\n      <form className=\"consumable-form flex column space-around align-center\">\r\n        <div className=\"serving-size\">\r\n          <label htmlFor=\"serving-size-select\">\r\n            Serving Size\r\n            <Select\r\n              name=\"serving-size\"\r\n              id=\"serving-size-select\"\r\n              defaultValue={props.selectedFoodDrink.servingSize}\r\n              onChange={props.servingSizeOnChange}\r\n            >\r\n              <Option disabled key={\"Select a serving size\"}>\r\n                Select a serving size\r\n              </Option>\r\n              {props.servingSizes.map((servingSize, index) => {\r\n                return (\r\n                  <Option key={index + 1} value={servingSize}>\r\n                    {servingSize}\r\n                  </Option>\r\n                );\r\n              })}\r\n            </Select>\r\n            {props.formSubmitted &&\r\n              (!props.selectedFoodDrink.servingSize ||\r\n                props.selectedFoodDrink.servingSize ===\r\n                  \"Select a serving size\" ||\r\n                props.selectedFoodDrink.servingSize === \"\") && (\r\n                <ServingSizeErrorMessage />\r\n              )}\r\n          </label>\r\n        </div>\r\n\r\n        {/* TODO Should be num of servings */}\r\n        <div className=\"quantity\">\r\n          <label htmlFor=\"servings-input\">\r\n            How many servings?\r\n            <Input\r\n              id=\"servings-input\"\r\n              type=\"number\"\r\n              name=\"numOfServings\"\r\n              value={String(props.selectedFoodDrink.numOfServings)}\r\n              placeholder=\"3 servings\"\r\n              onChange={event => {\r\n                props.setFormIsSubmitted(false);\r\n                props.handleNumOfServingsOnChange(event);\r\n              }}\r\n            />\r\n            {props.formSubmitted &&\r\n              (!props.selectedFoodDrink.numOfServings && (\r\n                <NumOfServingsErrorMessage />\r\n              ))}\r\n          </label>\r\n        </div>\r\n\r\n        <AddButton save={props.saveFoodDrinkToMeal}></AddButton>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FoodDrinksForm;\r\n","import React, { PropTypes } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AddFirstFoodItem = props => {\r\n\tif (props.user.foodDrinks.length < 1) {\r\n\t\treturn (\r\n\t        <div className=\"add-first-food-item\">\r\n\t          <Link to=\"/me/add\">Add my first item</Link>\r\n\t        </div>\r\n\t    );\r\n\t} else {\r\n\t\treturn (<div />)\r\n\t}\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tuser: state.userReducers\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddFirstFoodItem);","import React, { PropTypes, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Select } from \"antd\";\r\nimport classNames from \"classnames\";\r\nimport SelectAMealMessage from \"./SelectAMealMessage\";\r\nimport FoodDrinksForm from \"./FoodDrinksForm\";\r\nimport AddFirstFoodItem from \"./AddFirstFoodItem\";\r\nimport * as styles from \"./styles.scss\";\r\n\r\nconst Option = Select.Option;\r\n\r\nconst ChooseAConsumable = props => {\r\n  const { foodDrinks } = props;\r\n  const numOfFoodDrinks = foodDrinks && foodDrinks.length;\r\n  const foodDrinksSelectClassNames = classNames(\r\n    \"flex\",\r\n    \"column\",\r\n    \"align-start\",\r\n    { \"space-between\": numOfFoodDrinks < 1 },\r\n    { \"justify-start\": numOfFoodDrinks >= 1 }\r\n  );\r\n\r\n  const FoodDrinkOptions = foodDrinks.sort().map((foodDrink, index) => {\r\n    return (\r\n      <Option\r\n        className=\"consumable-option\"\r\n        name=\"consumable-option\"\r\n        value={foodDrink._id}\r\n        key={index}\r\n      >\r\n        {foodDrink.name} [{foodDrink.foodOrDrink}] (\r\n        {foodDrink.selectedMeasurement})\r\n      </Option>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <section\r\n      className=\"choose-a-consumable\"\r\n      value={props.foodDrinkSelectValue}\r\n      style={styles}\r\n    >\r\n      <div className=\"consumable flex column space-between align-center\">\r\n        <div className={foodDrinksSelectClassNames}>\r\n          <h2>1. Choose a item:</h2>\r\n\r\n          <div className=\"flex align-center select-and-new-consumable-link-container\">\r\n            <Select\r\n              key={123}\r\n              id=\"consumables-select\"\r\n              className={`${numOfFoodDrinks < 1 ? \"no-margin-right\" : \"\"}`}\r\n              name=\"consumable-select\"\r\n              defaultValue={\"Choose\"}\r\n              onChange={props.foodDrinkSelectOnChange}\r\n              placeholder=\"Select a consumable\"\r\n            >\r\n              <Option disabled key={123}>\r\n                Choose a consumable\r\n              </Option>\r\n              {FoodDrinkOptions}\r\n            </Select>\r\n            <Link className=\"add-new-consumable-link\" to=\"/me/add\">\r\n              <i className=\"fa fa-plus\"> </i> Add a new item\r\n            </Link>\r\n          </div>\r\n\r\n          <AddFirstFoodItem />\r\n        </div>\r\n        {/* {SelectedFoodDrinkForm} */}\r\n        {props.selectedFoodDrink.hasOwnProperty(\"_id\") && (\r\n          <FoodDrinksForm\r\n            selectedFoodDrink={props.selectedFoodDrink}\r\n            selectedMeal={props.selectedMeal}\r\n            servingSizes={props.servingSizes}\r\n            formSubmitted={props.formSubmitted}\r\n            servingSizeOnChange={props.servingSizeOnChange}\r\n            setFormIsSubmitted={props.setFormIsSubmitted}\r\n            handleNumOfServingsOnChange={props.handleNumOfServingsOnChange}\r\n            saveFoodDrinkToMeal={props.saveFoodDrinkToMeal}\r\n          ></FoodDrinksForm>\r\n        )}\r\n        {props.formSubmitted &&\r\n          props.selectedFoodDrink.servingSize !== null &&\r\n          props.selectedFoodDrink.numOfServings !== null &&\r\n          !props.selectedMeal.hasOwnProperty(\"name\") && <SelectAMealMessage />}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userReducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {};\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ChooseAConsumable);\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"antd\";\r\nimport classNames from \"classnames\";\r\n//import * as styles from \"./styles.scss\";\r\n\r\nexport const Meal = ({\r\n\tmeal,\r\n\tdeleteMeal,\r\n\tmealsLength,\r\n\tsaveMealName,\r\n\tmealNameOnChange\r\n}) => {\r\n\r\n\tconst [mealName, setMealName] = React.useState(\"\");\r\n\tconst [showInput, toggleInput] = React.useState(false);\r\n\tconst [showContent, toggleContent] = React.useState(false);\r\n\tconst [showEdit, toggleShowEdit] = React.useState(true);\r\n\tconst [currentMeal, setCurrentMeal] = React.useState({});\r\n\tconst [componentJustMounted, setMounted] = React.useState(false);\r\n\r\n\tlet MealName;\r\n\tlet MealNameText;\r\n\tlet SetTitleInput;\r\n\tlet WhatsInTheMeal;\r\n\tlet NoItemsInTheMeal;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!componentJustMounted) {\r\n\t\t\tfor (let key in currentMeal) {\r\n\t\t\t\tif (Object.hasOwnProperty(key)) {\r\n\t\t\t\t} else if (currentMeal.id !== meal.id) {\r\n\t\t\t\t\ttoggleShowEdit(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetMounted(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetCurrentMeal(meal);\r\n\t\tsetTimeout(() => toggleShowEdit(false), 2000);\r\n\t});\r\n\r\n\tif (meal) {\r\n\t\t// TODO shouldn't have to check if meal exists. Something about selecting \"ADD >\" when no meal is created,\r\n\t\tconst mealNameClasses = classNames(\"edit\", { \"show-edit\": showEdit });\r\n\r\n\t\tSetTitleInput = (\r\n\t\t\t<div className=\"set-meal-name-input-container\">\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclassName=\"set-meal-name-input\"\r\n\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\tplaceholder=\"My meal name is ...\"\r\n\t\t\t\t\tvalue={mealName}\r\n\t\t\t\t\tonChange={event => {\r\n\t\t\t\t\t\t// Why stopProgagation?\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\tsetMealName(event.target.value);\r\n\t\t\t\t\t\tmealNameOnChange(event.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"set-meal-name-controls flex space-between align-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsaveMealName();\r\n\t\t\t\t\t\t\tsetMealName(\"\");\r\n\t\t\t\t\t\t\ttoggleInput(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\ttoggleInput(false);\r\n\t\t\t\t\t\t\tsetMealName(\"\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tMealNameText = meal.name ? (\r\n\t\t\t<div className=\"meal-name-text\">\r\n\t\t\t\t<span className=\"selected-meal\">Selected Meal</span>: {`${meal.name}`}\r\n\t\t\t\t<span className={mealNameClasses}>(edit)</span>\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<div>\r\n\t\t\t\tMeal {`${mealsLength}`} <span className=\"edit\">(edit)</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tMealName = (\r\n\t\t\t<h1\r\n\t\t\t\tclassName=\"meal-header-meal-name flex center-all\"\r\n\t\t\t\tonClick={() => toggleInput(!showInput)}\r\n\t\t\t>\r\n\t\t\t\t{MealNameText}\r\n\t\t\t</h1>\r\n\t\t);\r\n\r\n\t\tWhatsInTheMeal = meal.foodDrinks.map((foodDrink, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<table key={index}>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Serving Size</th>\r\n\t\t\t\t\t\t\t<th>Measurement</th>\r\n\t\t\t\t\t\t\t<th>Number Of Servings</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t<td>{foodDrink.name}</td>\r\n\t\t\t\t\t\t\t<td>{String(foodDrink.servingSize)}</td>\r\n\t\t\t\t\t\t\t<td>{String(foodDrink.selectedMeasurement)}</td>\r\n\t\t\t\t\t\t\t<td>{String(foodDrink.numOfServings)}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (!meal.foodDrinks.length || meal.foodDrinks.length < 1) {\r\n\t\t\tNoItemsInTheMeal = (\r\n\t\t\t\t<div className=\"no-items-in-the-meal\">\r\n\t\t\t\t\tYou haven't made this meal yet\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"meal\"\r\n\t\t\tonClick={() => {\r\n\t\t\t\ttoggleContent(!showContent);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"meal-header flex space-between align-center\">\r\n\t\t\t\t{!showInput ? MealName : \"\"}\r\n\t\t\t\t{showInput && SetTitleInput}\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName=\"fa fa-trash\"\r\n\t\t\t\t\tonClick={event => {\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\tdeleteMeal(meal.id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"meal-main\">\r\n\t\t\t\t{NoItemsInTheMeal}\r\n\t\t\t\t{WhatsInTheMeal}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Meal;\r\n","import React, { PropTypes, useEffect } from \"react\";\r\nimport Meal from \"./Meal\";\r\nimport { Select } from \"antd\";\r\nimport * as styles from \"./styles.scss\";\r\n\r\nconst Option = Select.Option;\r\n\r\nconst MyMeals = ({\r\n  meals,\r\n  selectedMeal,\r\n  createNewMeal,\r\n  saveMeals,\r\n  deleteMeal,\r\n  saveMealName,\r\n  handleMealNameOnChange,\r\n  handleMealSelectOnChange\r\n}) => {\r\n  // MealsOptions\r\n  let SelectedMeal;\r\n  let MealsOptions;\r\n  let NoMealsMessage;\r\n\r\n  useEffect(() => {\r\n    console.log(\"selectedMeal\", selectedMeal, typeof selectedMeal);\r\n  });\r\n\r\n  if (meals && meals.length) {\r\n    MealsOptions = meals.map((meal, index) => {\r\n      return (\r\n        <Option key={index + 1} value={meal._id}>\r\n          {meal.name}\r\n        </Option>\r\n      );\r\n    });\r\n  }\r\n\r\n  if (!meals || !meals.length) {\r\n    NoMealsMessage = (\r\n      <div className=\"no-meals-text\">No meals created today.</div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"my-meals\" style={styles}>\r\n      <h2 className=\"section-title\">2. Make a meal</h2>\r\n      <div className=\"meals-select-buttons-container flex space-between align-center\">\r\n        <div className=\"meals-select-container\">\r\n          <Select\r\n            key={\"choose a meal select\"}\r\n            id=\"meals-select\"\r\n            name=\"meals-select\"\r\n            defaultValue={\r\n              selectedMeal.hasOwnProperty(\"_id\")\r\n                ? selectedMeal._id\r\n                : \"Pick a meal\"\r\n            }\r\n            onChange={event => {\r\n              handleMealSelectOnChange(event);\r\n            }}\r\n            placeholder=\"Select a consumable\"\r\n          >\r\n            <Option disabled key={\"choose a meal\"}>\r\n              Choose a meal\r\n            </Option>\r\n            {MealsOptions}\r\n          </Select>\r\n        </div>\r\n        <div className=\"buttons flex space-around align-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"new-meal\"\r\n            onClick={() => createNewMeal()}\r\n          >\r\n            New meal\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"save-meals\"\r\n            onClick={() => saveMeals()}\r\n          >\r\n            Save my meals\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"meals-container\">\r\n        {selectedMeal && selectedMeal.hasOwnProperty(\"_id\") && (\r\n          <Meal\r\n            selectedMeal={selectedMeal}\r\n            meal={meals.find(meal => meal._id === selectedMeal._id)}\r\n            mealsLength={meals.length}\r\n            deleteMeal={deleteMeal}\r\n            saveMealName={saveMealName}\r\n            mealNameOnChange={handleMealNameOnChange}\r\n          />\r\n        )}\r\n      </div>\r\n      {NoMealsMessage}\r\n    </section>\r\n  );\r\n};\r\n\r\nMyMeals.displayName = \"SeeTheMeals\";\r\n\r\nexport default MyMeals;\r\n","import React from \"react\";\r\n\r\nexport class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // You can also log the error to an error reporting service\r\n    //logErrorToMyService(error, errorInfo);\r\n    console.log(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // You can render any custom fallback UI\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport moment from \"moment\";\r\nimport momentz from \"moment-timezone\";\r\nimport * as MakeAMealStyles from \"./styles.scss\";\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\nimport {\r\n  setUser,\r\n  beginConfirm24HourMealResetMessage\r\n} from \"../../actions/user.actions\";\r\nimport {\r\n  beginCreatingNewMeal,\r\n  beginSavingMeals\r\n} from \"../../actions/dashboard.actions\";\r\nimport { calculateTotals } from \"../../actions/totals.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport { sendSaveMealsRequest } from \"../../services/dashboard.service\";\r\nimport * as LocalStorage from \"../../utilities/localStorage\";\r\nimport ViewHeader from \"../../components/ViewHeader\";\r\nimport Detail from \"./Detail\";\r\nimport ChooseAConsumable from \"./ChooseAConsumable\";\r\nimport MyMeals from \"./MyMeals\";\r\nimport ErrorBoundary from \"../../components/ErrorBoundary\";\r\nimport Confirm24HourMealResetMessage from \"./Confirm24HourMealResetMessage\";\r\nimport Clock from \"react-live-clock\";\r\nimport { Input, Select, Option } from \"antd\";\r\n\r\nconst DetailStyles = {\r\n  position: \"absolute\"\r\n};\r\n\r\nexport class MakeAMeal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      title: \"Make a meal\",\r\n      date: \"\",\r\n      timezoneGuess: \"\",\r\n      showDetailModal: false,\r\n      servingSizes: [\"1\", \"3/4\", \"1/2\", \"1/3\", \"1/4\", \"1/8\", \"1/16\", \"1/32\"],\r\n      newMeasurement: \"\",\r\n      selectedFoodDrink: {\r\n        numOfServings: 0,\r\n        servingSize: \"Select a serving size\",\r\n        measurement: \"\"\r\n      },\r\n      meals: [],\r\n      selectedMeal: {},\r\n      mealName: \"\",\r\n      showMealNameInput: false,\r\n      foodDrinkSelectValue: \"Choose\",\r\n      formSubmitted: false,\r\n      showSelectAMealMessage: false\r\n    };\r\n\r\n    this.quantityRef = React.createRef();\r\n\r\n    document.title = \"Make a Meal\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(`componentDidMount`);\r\n    const { date, timezoneGuess } = this.getDateAndTimeZone();\r\n    let meals;\r\n    let selectedMeal;\r\n    let mealsFromLocalStorage;\r\n    let selectedMealFromLocalStorage;\r\n\r\n    console.log(`this.props.user`, this.props.user);\r\n\r\n    if (this.props.user.isAuthenticated) {\r\n      if (this.props.user.meals && this.props.user.meals.length === 1) {\r\n        console.log(\r\n          `this.props.user.meals && this.props.user.meals.length === 1`\r\n        );\r\n        this.setState({\r\n          selectedMeal: { ...this.props.user.meals[0] }\r\n        });\r\n      }\r\n\r\n      try {\r\n        mealsFromLocalStorage = LocalStorage.getItem(\"meals\");\r\n        if (!mealsFromLocalStorage) {\r\n          meals = this.props.user.meals;\r\n        } else if (mealsFromLocalStorage && mealsFromLocalStorage.length) {\r\n          meals = mealsFromLocalStorage;\r\n        }\r\n      } catch (error) {\r\n        console.warn(\r\n          `An error occured calling localStorage.getItem('meals')`,\r\n          error\r\n        );\r\n\r\n        meals = this.props.user.meals;\r\n      }\r\n\r\n      try {\r\n        selectedMealFromLocalStorage = LocalStorage.getItem(\"selectedMeal\");\r\n        selectedMeal = !selectedMealFromLocalStorage\r\n          ? this.state.selectedMeal\r\n          : selectedMealFromLocalStorage;\r\n      } catch (error) {\r\n        console.log(\r\n          `An error occured calling localStorage.getItem('selectedMeal')`,\r\n          error\r\n        );\r\n        selectedMeal = this.state.selectedMeal;\r\n      }\r\n\r\n      this.setState({\r\n        date,\r\n        timezoneGuess,\r\n        meals: [...meals],\r\n        selectedMeal: Object.assign({}, this.state.selectedMeal, selectedMeal)\r\n      });\r\n    } else {\r\n      this.setState({\r\n        date,\r\n        timezoneGuess\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let meals;\r\n    let selectedMeal;\r\n    let mealsFromLocalStorage;\r\n    let selectedMealFromLocalStorage;\r\n\r\n    if (this.props.user.isAuthenticated) {\r\n      if (prevProps.isCreatingNewMeal && !this.props.isCreatingNewMeal) {\r\n        this.props.setLoader(false);\r\n      }\r\n\r\n      console.log(prevProps.user, this.props.user);\r\n      if (\r\n        prevProps.user.meals &&\r\n        !prevProps.user.meals.length &&\r\n        this.props.user.meals.length === 1\r\n      ) {\r\n        console.log(`props.user.meals.length === 1`);\r\n        this.setState({\r\n          selectedMeal: { ...this.props.user.meals[0] }\r\n        });\r\n      }\r\n\r\n      // Handle saving meals\r\n      if (prevProps.isSavingMeals && !this.props.isSavingMeals) {\r\n        LocalStorage.updateLocalStorage(\"meals\", this.props.user.meals);\r\n        if (LocalStorage.isInLocalStorage(\"selectedMeal\")) {\r\n          let selectedMeal = LocalStorage.getItem(\"selectedMeal\");\r\n          if (selectedMeal) {\r\n            LocalStorage.updateLocalStorage(\r\n              \"selectedMeal\",\r\n              this.props.user.meals.filter(meal => {\r\n                if (selectedMeal._id) {\r\n                  return meal._id === selectedMeal._id;\r\n                } else {\r\n                  return meal.id === selectedMeal.id;\r\n                }\r\n              })\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!prevState.selectedMeal && this.state.selectedMeal) {\r\n        console.log(this.state.selectedMeal);\r\n      }\r\n    }\r\n\r\n    // Handles if /make-a-meal is refreshed\r\n    if (!prevProps.user.isAuthenticated && this.props.user.isAuthenticated) {\r\n      if (this.props.user.meals && this.props.user.meals.length === 1) {\r\n        console.log(`props.user.meals.length === 1`);\r\n        this.setState({\r\n          selectedMeal: { ...this.props.user.meals[0] }\r\n        });\r\n      }\r\n      // try {\r\n      //   mealsFromLocalStorage = LocalStorage.getItem(\"meals\");\r\n      //   if (!mealsFromLocalStorage) {\r\n      //     meals = this.props.user.meals;\r\n      //   } else if (mealsFromLocalStorage && mealsFromLocalStorage.length) {\r\n      //     meals = mealsFromLocalStorage;\r\n      //   }\r\n      // } catch (error) {\r\n      //   console.warn(\r\n      //     `An error occured calling localStorage.getItem('meals')`,\r\n      //     error\r\n      //   );\r\n\r\n      //   meals = this.props.user.meals;\r\n      // }\r\n\r\n      // try {\r\n      //   selectedMealFromLocalStorage = LocalStorage.getItem(\"selectedMeal\");\r\n      //   selectedMeal = !selectedMealFromLocalStorage\r\n      //     ? this.state.selectedMeal\r\n      //     : selectedMealFromLocalStorage;\r\n      // } catch (error) {\r\n      //   console.log(\r\n      //     `An error occured calling localStorage.getItem('selectedMeal')`,\r\n      //     error\r\n      //   );\r\n      //   selectedMeal = this.state.selectedMeal;\r\n      // }\r\n\r\n      // SElected meal was the original thing. So meals is equal to meals\r\n    }\r\n  }\r\n\r\n  getDateAndTimeZone = () => {\r\n    let dateObj = new Date();\r\n    const momentDateObj = moment(dateObj);\r\n    const month = momentDateObj.format(\"MMMM\");\r\n    const day = momentDateObj.format(\"DD\");\r\n    const year = momentDateObj.format(\"YYYY\");\r\n    const date = `${month} ${day}, ${year}`;\r\n    const timezoneGuess = momentz.tz.guess();\r\n\r\n    return { date, timezoneGuess };\r\n  };\r\n\r\n  createNewMeal = (foodDrink = {}) => {\r\n    const { selectedFoodDrink } = this.state;\r\n    const { meals } = this.props.user;\r\n    let foodDrinkObjectIsNotEmpty = false;\r\n\r\n    // Is the meal created with a foodDrink object ie { servingSize, numOfServingsetc. }\r\n    for (let key in foodDrink) {\r\n      if (foodDrink.hasOwnProperty(key)) {\r\n        foodDrinkObjectIsNotEmpty = true;\r\n        foodDrink.numOfServings = selectedFoodDrink.numOfServings;\r\n      }\r\n    }\r\n\r\n    const idAndMealNumber =\r\n      !meals.length || meals.length === 0 ? 1 : meals.length + 1;\r\n\r\n    const newMeal = {\r\n      id: idAndMealNumber,\r\n      name: `Meal-${idAndMealNumber}`,\r\n      foodDrinks: foodDrinkObjectIsNotEmpty ? [foodDrink] : [],\r\n      saved: false // not necessary\r\n    };\r\n\r\n    this.props.beginCreatingNewMeal(newMeal);\r\n  };\r\n\r\n  addConsumableToMeal = () => {\r\n    const { selectedMeal, selectedFoodDrink } = this.state;\r\n    const { meals } = this.props.user;\r\n    const { numOfServings, servingSize } = selectedFoodDrink;\r\n    //let mealsToUpdate = meals;\r\n    let mealsToUpdate = meals;\r\n    let foodDrinkToUpdate = { ...selectedFoodDrink };\r\n    let isSameMeasurement; // isSameMeasurement maybe?\r\n    let foodDrinkIndex;\r\n    let foodDrinkIsAlreadyIncluded;\r\n    let mealToUpdate = { ...selectedMeal };\r\n    let mealToUpdateIndex;\r\n    let userHasMealsToday = meals && meals.length >= 1;\r\n    let noMealHasBeenSelected =\r\n      !selectedMeal || !selectedMeal.hasOwnProperty(\"id\");\r\n\r\n    if (!userHasMealsToday) {\r\n      this.createNewMeal(selectedFoodDrink);\r\n    } else if (userHasMealsToday && noMealHasBeenSelected) {\r\n      this.setState({ showSelectAMealMessage: true });\r\n    } else {\r\n      mealToUpdateIndex = meals.findIndex(meal => meal.id === selectedMeal.id);\r\n\r\n      foodDrinkIsAlreadyIncluded = this.foodDrinkAlreadyIncluded(\r\n        foodDrinkToUpdate\r\n      );\r\n      isSameMeasurement = this.foodDrinksAreSameMeasurement(foodDrinkToUpdate);\r\n\r\n      if (\r\n        !foodDrinkIsAlreadyIncluded ||\r\n        (foodDrinkIsAlreadyIncluded && !isSameMeasurement)\r\n      ) {\r\n        // Because it's a new measurement of that foodDrink,\r\n        // add it to this meal.\r\n        mealToUpdate.foodDrinks.push(foodDrinkToUpdate);\r\n      } else if (foodDrinkIsAlreadyIncluded && isSameMeasurement) {\r\n        // Then just increment the number of servings\r\n        foodDrinkIndex = mealToUpdate.foodDrinks.findIndex(foodDrink => {\r\n          return (\r\n            foodDrink._id === selectedFoodDrink._id &&\r\n            foodDrink.servingSize === selectedFoodDrink.servingSize\r\n          );\r\n        });\r\n\r\n        mealToUpdate.foodDrinks[foodDrinkIndex].numOfServings += parseFloat(\r\n          numOfServings\r\n        );\r\n      }\r\n\r\n      mealsToUpdate[mealToUpdateIndex] = mealToUpdate;\r\n\r\n      // axios.post('/updateMeal', { id, meal });\r\n      // Database User.find({_id, meal.id: meal})\r\n      // On success actions setUser();\r\n\r\n      this.setState({\r\n        meals: mealsToUpdate,\r\n        selectedMeal: Object.assign({}, this.state.selectedMeal, mealToUpdate),\r\n        formSubmitted: false,\r\n        selectedFoodDrink: Object.assign(this.state.selectedFoodDrink, {\r\n          numOfServings: 0,\r\n          servingSize: \"Select a serving size\",\r\n          measurement: \"\"\r\n        })\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteMeal = mealId => {\r\n    const { meals } = this.state;\r\n    let filteredMeals;\r\n\r\n    if (this.props.user.meals.length === 1) {\r\n      filteredMeals = [];\r\n    } else {\r\n      console.log(meals);\r\n      filteredMeals = meals.filter(meal => meal.id !== mealId);\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        meals: [...filteredMeals],\r\n        selectedMeal: filteredMeals.length\r\n          ? filteredMeals[filteredMeals.length - 1]\r\n          : { id: \"Choose a meal\" }\r\n      },\r\n      () => {\r\n        console.log(this.props.user.meals);\r\n        if (this.props.user.meals.length === 0) {\r\n          LocalStorage.clearLocalStorage();\r\n        } else {\r\n          LocalStorage.addToLocalStorage(\"meals\", this.props.user.meals);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  foodDrinkAlreadyIncluded = foodDrink => {\r\n    const { selectedMeal } = this.state;\r\n    let existingFoodDrink;\r\n\r\n    if (\r\n      selectedMeal &&\r\n      selectedMeal.hasOwnProperty(\"foodDrinks\") &&\r\n      selectedMeal.foodDrinks.length\r\n    ) {\r\n      existingFoodDrink = selectedMeal.foodDrinks.some((_foodDrink, index) => {\r\n        return _foodDrink._id === foodDrink._id;\r\n      });\r\n    }\r\n\r\n    return existingFoodDrink;\r\n  };\r\n\r\n  foodDrinksAreSameMeasurement = foodDrink => {\r\n    const { selectedMeal } = this.state;\r\n    let sameServingSize;\r\n\r\n    if (\r\n      selectedMeal &&\r\n      selectedMeal.hasOwnProperty(\"foodDrinks\") &&\r\n      selectedMeal.foodDrinks.length\r\n    ) {\r\n      sameServingSize = selectedMeal.foodDrinks.some((_foodDrink, index) => {\r\n        return _foodDrink.servingSize === foodDrink.servingSize;\r\n      });\r\n    }\r\n\r\n    return sameServingSize;\r\n  };\r\n\r\n  saveMeals = () => {\r\n    // TODO async await\r\n    this.props.beginSavingMeals(this.props.user.meals);\r\n    //     sendSaveMealsRequest(this.props.user.meals)\r\n    //       .then((response) => {\r\n    //         console.log(`MakeAMeal() response`, response, response.data.data.user);\r\n    //\r\n    //         if (response.status === 200) {\r\n    //           console.log(response.data.data);\r\n    //           this.props.setUser(response.data.data.user);\r\n    //           LocalStorage.addToLocalStorage('meals', this.props.user.meals);\r\n    //           LocalStorage.removeFromLocalStorage(['selectedMeal']);\r\n    //           this.props.setAlert(true, \"Saved meals!\");\r\n    //\r\n    //           setTimeout(() => {this.props.setAlert(false)}, 3000);\r\n    //\r\n    //           this.props.calculateTotals();\r\n    //         }\r\n    //         // HTTP request\r\n    //         // On success LocalStorage.setItem()\r\n    //       })\r\n    //       .catch(error => {\r\n    //         console.log(`An error occured setting a meal`, error);\r\n    //       });\r\n  };\r\n\r\n  setSelectedMeal = selectedMeal => {\r\n    this.setState(\r\n      {\r\n        selectedMeal: Object.assign({}, this.state.selectedMeal, selectedMeal)\r\n      },\r\n      () =>\r\n        LocalStorage.addToLocalStorage(\"selectedMeal\", this.state.selectedMeal)\r\n    );\r\n  };\r\n\r\n  makeAMealName = (name, id) => {\r\n    console.log(`makeAMealName`, name, id);\r\n    const { meals, selectedMeal } = this.state;\r\n    let selectedMealIndex;\r\n    let newMealsState = this.props.user.meals;\r\n\r\n    meals.find((meal, index) => {\r\n      if (meal.id === selectedMeal.id) {\r\n        newMealsState[index][\"name\"] = name;\r\n\r\n        this.setState(\r\n          {\r\n            meals: [newMealsState],\r\n            mealName: \"\"\r\n          },\r\n          () => LocalStorage.addToLocalStorage(\"meals\", this.props.user.meals)\r\n        );\r\n      } else {\r\n        return undefined;\r\n      }\r\n    });\r\n  };\r\n\r\n  addNewMeasurement = id => {\r\n    console.log(`[MakeAMeal addNewMeasurement(id)]`, id);\r\n    // find consumable.id.measurements.push(this.state.newMeasurement);\r\n    // update LocalStorage\r\n    // update user object Redux\r\n    // something about if an existing newMeasurement is toggledOpen in another different\r\n    // food item than close it and clear its input\r\n  };\r\n\r\n  toggleMealNameInput = value => {\r\n    console.log(`[MakeAMeal] toggleMealNameInput()`);\r\n    this.setState({ showMealNameInput: value === \"open\" ? true : false });\r\n  };\r\n\r\n  saveMealName = () => {\r\n    console.log(`[MakeAMeal -> saveMealName()]`);\r\n    const { selectedMeal, mealName, meals } = this.state;\r\n\r\n    let foundMeal = meals.find(meal => meal.id === selectedMeal.id);\r\n    foundMeal.name = mealName;\r\n\r\n    this.setState(\r\n      {\r\n        meals: meals.map(meal =>\r\n          meal.id === selectedMeal.id ? { ...meal, name: mealName } : meal\r\n        ),\r\n        selectedMeal: Object.assign({}, this.state.selectedMeal, foundMeal)\r\n      },\r\n      () => {\r\n        console.log(this.props.user.meals);\r\n        LocalStorage.addToLocalStorage(\"meals\", this.props.user.meals);\r\n      }\r\n    );\r\n  };\r\n\r\n  setFormSubmitted = formSubmitted => {\r\n    this.setState({ formSubmitted });\r\n  };\r\n\r\n  saveFoodDrinkToMeal = () => {\r\n    const { selectedFoodDrink } = this.state;\r\n    const { servingSize, numOfServings } = selectedFoodDrink;\r\n    const foodFormIsValid = this.isFoodFormValid();\r\n\r\n    this.setFormSubmitted(true);\r\n\r\n    if (foodFormIsValid) {\r\n      if (\r\n        servingSize !== \"\" &&\r\n        servingSize !== \"Select a serving size\" &&\r\n        numOfServings &&\r\n        numOfServings !== \"\"\r\n      ) {\r\n        this.addConsumableToMeal();\r\n      }\r\n    }\r\n  };\r\n\r\n  handleOnCloseDetail = () => {\r\n    this.setState({ showDetailModal: false });\r\n  };\r\n\r\n  isFoodFormValid = () => {\r\n    const { servingSize, numOfServings } = this.state.selectedFoodDrink;\r\n    return (\r\n      servingSize !== \"\" &&\r\n      servingSize !== \"Select a serving size\" &&\r\n      numOfServings\r\n    );\r\n  };\r\n\r\n  // ------------ OnChange -----------\r\n  handleMealNameOnChange = (name = \"\") => {\r\n    this.setState({\r\n      mealName: name.trim()\r\n    });\r\n  };\r\n\r\n  handleFoodDrinkSelectOnChange = id => {\r\n    const { user } = this.props;\r\n    const { foodDrinks } = user;\r\n\r\n    let foundFoodDrink = foodDrinks.find(item => item._id === id);\r\n\r\n    if (foodDrinks && foodDrinks.length && foundFoodDrink) {\r\n      this.setState({\r\n        formSubmitted: false,\r\n        selectedFoodDrink: {\r\n          ...this.state.selectedFoodDrink,\r\n          ...foundFoodDrink,\r\n          servingSize: \"Select a serving size\",\r\n          measurement: foundFoodDrink.selectedMeasurement,\r\n          numOfServings: \"\"\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleNewMeasurementOnChange = event => {\r\n    // something about if another food newMeasurement input is populated\r\n    // than clear it and close the input\r\n    // and this input is not sanitized. should it be sanitized trim() etc.?\r\n    this.setState({ newMeasurement: event.target.value });\r\n  };\r\n\r\n  handleNumOfServingsOnChange = event => {\r\n    const { selectedFoodDrink } = this.state;\r\n    let targetValue = event.target.value;\r\n    let numOfServings;\r\n\r\n    if (targetValue[0] === 0) {\r\n      numOfServings = targetValue.split(\"\").slice(1);\r\n    } else {\r\n      numOfServings = targetValue;\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        selectedFoodDrink: {\r\n          ...selectedFoodDrink,\r\n          numOfServings: numOfServings.replace(/[^0-9]+/g, \"\")\r\n        }\r\n      },\r\n      () => console.log(this.state.selectedFoodDrink)\r\n    );\r\n  };\r\n\r\n  handleServingSizeOnChange = value => {\r\n    console.log(`handleServingSizeOnChange`, value);\r\n    const { selectedFoodDrink } = this.state;\r\n\r\n    this.setState({\r\n      selectedFoodDrink: Object.assign({}, this.state.selectedFoodDrink, {\r\n        servingSize: value\r\n      })\r\n    });\r\n  };\r\n\r\n  handleMeasurementOnChange = event => {\r\n    const { selectedFoodDrink } = this.state;\r\n    this.setState({\r\n      selectedFoodDrink: {\r\n        ...selectedFoodDrink,\r\n        measurement: event.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  handleMealSelectOnChange = event => {\r\n    event.persist();\r\n    console.log(`handleMealSelectOnChange`, event.target.value);\r\n    console.log(this.props.user.meals);\r\n    const foundMeal = this.props.user.meals.find(\r\n      meal => meal._id === event.target.value\r\n    );\r\n\r\n    if (foundMeal) {\r\n      console.log(`foundMeal`, foundMeal);\r\n      this.setState(\r\n        {\r\n          selectedMeal: { ...foundMeal },\r\n          showSelectAMealMessage: false\r\n        },\r\n        () => {\r\n          LocalStorage.addToLocalStorage(\"selectedMeal\", foundMeal);\r\n        }\r\n      );\r\n    }\r\n  };\r\n  // ------------ / OnChange --------\r\n\r\n  confirmMealReset = () => {\r\n    this.props.beginConfirmMealReset24Hours();\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const {\r\n      meals,\r\n      servingSizes,\r\n      selectedMeal,\r\n      timezoneGuess,\r\n      formSubmitted,\r\n      selectedFoodDrink,\r\n      showSelectAMealMessage\r\n    } = this.state;\r\n    const { servingSize, numOfServings } = selectedFoodDrink;\r\n    let noFoodDrinksYet = user.foodDrinks && user.foodDrinks.length < 1;\r\n    const foodDrinksSelectClassNames = classNames(\r\n      \"flex\",\r\n      \"column\",\r\n      \"align-start\",\r\n      { \"space-between\": !noFoodDrinksYet },\r\n      { \"justify-start\": noFoodDrinksYet }\r\n    );\r\n    let Meals;\r\n    let AddButton;\r\n    let MealsOptions;\r\n    let NoMealsMessage;\r\n    let AddFirstFoodItem;\r\n    let FoodDrinkOptions;\r\n    let QuantityErrorMessage;\r\n    let SelectedFoodDrinkForm;\r\n    let ShowSelectAMealMessage;\r\n    let ServingSizeErrorMessage;\r\n\r\n    //------------------------------------------------------\r\n    // Conditional Components ( TODO convert to components )\r\n\r\n    // ServingSizeMeasurement\r\n    if (formSubmitted && (!servingSize || servingSize === \"\")) {\r\n      ServingSizeErrorMessage = (\r\n        <div className=\"consumable-error serving-size-error-message\">\r\n          Select a serving size.\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // QuantityErrorMessage\r\n    if (formSubmitted && (!numOfServings || parseFloat(numOfServings) === 0)) {\r\n      QuantityErrorMessage = (\r\n        <div className=\"consumable-error quantity-error-message\">\r\n          Enter the number of servings.\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // AddFirstFoodItem\r\n    if (noFoodDrinksYet) {\r\n      AddFirstFoodItem = (\r\n        <div className=\"add-first-food-item\">\r\n          <Link to=\"/me/add\">Add my first item</Link>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (user.foodDrinks && user.foodDrinks.length) {\r\n      FoodDrinkOptions = user.foodDrinks.sort().map((foodDrink, index) => {\r\n        return (\r\n          <option\r\n            className=\"consumable-option\"\r\n            name=\"consumable-option\"\r\n            value={foodDrink._id}\r\n            key={index}\r\n          >\r\n            {foodDrink.name} [{foodDrink.foodOrDrink}] (\r\n            {foodDrink.selectedMeasurement})\r\n          </option>\r\n        );\r\n      });\r\n    }\r\n\r\n    // SelectedFoodDrinkForm\r\n    if (selectedFoodDrink.hasOwnProperty(\"_id\")) {\r\n      SelectedFoodDrinkForm = (\r\n        <div\r\n          ref=\"consumable\"\r\n          data-consumable-id={selectedFoodDrink._id}\r\n          className={`flex column ${\r\n            selectedFoodDrink.foodOrDrink === \"food\" ? \"food\" : \"drink\"\r\n          }`}\r\n        >\r\n          <form className=\"consumable-form flex column space-around align-center\">\r\n            <div className=\"serving-size\">\r\n              <label htmlFor=\"serving-size-select\">\r\n                Serving Size\r\n                <select\r\n                  ref=\"serving-size\"\r\n                  name=\"serving-size\"\r\n                  id=\"serving-size-select\"\r\n                  value={selectedFoodDrink.servingSize}\r\n                  onChange={this.handleServingSizeOnChange}\r\n                >\r\n                  <option disabled selected value=\"\">\r\n                    Select a Serving\r\n                  </option>\r\n                  {servingSizes.map((servingSize, index) => {\r\n                    return (\r\n                      <option key={index + 1} value={servingSize}>\r\n                        {servingSize}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n                {ServingSizeErrorMessage}\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"quantity\">\r\n              <label htmlFor=\"quantity-input\">\r\n                How many servings?\r\n                <Input\r\n                  id=\"quantity-input\"\r\n                  type=\"number\"\r\n                  name=\"numOfServings\"\r\n                  value={String(numOfServings)}\r\n                  placeholder=\"How many?\"\r\n                  onChange={event => {\r\n                    this.setFormSubmitted(false);\r\n                    this.handleNumOfServingsOnChange(event);\r\n                  }}\r\n                />\r\n                {QuantityErrorMessage}\r\n              </label>\r\n            </div>\r\n            {/*\r\n                <div className=\"buttons\">\r\n                  <i className=\"fa fa-info\"></i>\r\n                  <button type=\"button\">Calculate</button>\r\n                  <button type=\"button\">Smart Calculate</button>\r\n                </div>\r\n                */}\r\n            {AddButton}\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // MealsOptions\r\n    if (meals && meals.length) {\r\n      MealsOptions = this.props.user.meals.map((meal, index) => {\r\n        return (\r\n          <option key={index + 1} value={meal.id}>\r\n            {meal.name}\r\n          </option>\r\n        );\r\n      });\r\n    }\r\n\r\n    if (showSelectAMealMessage && formSubmitted) {\r\n      ShowSelectAMealMessage = (\r\n        <div className=\"select-a-meal-message flex center-all\">\r\n          Please select a meal\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Conditional Components\r\n    //-------------------------------------------\r\n\r\n    if (this.props.user.isAuthenticated) {\r\n      return (\r\n        <ErrorBoundary>\r\n          <div className=\"make-a-meal view center-all\" styles={MakeAMealStyles}>\r\n            {/* Main Content */}\r\n            <div className=\"view-main\">\r\n              <div className=\"content\">\r\n                {/* Food Drinks - Select Menu on change shows the FoodDrink options and Add To meal */}\r\n                <ChooseAConsumable\r\n                  formSubmitted={this.state.formSubmitted}\r\n                  selectedMeal={this.state.selectedMeal}\r\n                  foodDrinks={this.props.user.foodDrinks}\r\n                  foodDrinkSelectValue={this.state.foodDrinkSelectValue}\r\n                  selectedFoodDrink={selectedFoodDrink}\r\n                  servingSizes={servingSizes}\r\n                  foodDrinkSelectOnChange={this.handleFoodDrinkSelectOnChange}\r\n                  servingSizeOnChange={this.handleServingSizeOnChange}\r\n                  setFormIsSubmitted={this.setFormSubmitted}\r\n                  handleNumOfServingsOnChange={this.handleNumOfServingsOnChange}\r\n                  saveFoodDrinkToMeal={this.saveFoodDrinkToMeal}\r\n                />\r\n\r\n                {/* Meals */}\r\n                <MyMeals\r\n                  meals={this.props.user.meals}\r\n                  selectedMeal={this.state.selectedMeal}\r\n                  createNewMeal={this.createNewMeal}\r\n                  deleteMeal={this.deleteMeal}\r\n                  saveMeals={this.saveMeals}\r\n                  saveMealName={this.saveMealName}\r\n                  handleMealNameOnChange={this.handleMealNameOnChange}\r\n                  handleMealSelectOnChange={this.handleMealSelectOnChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* FoodDrink Detail 'Modal' */}\r\n            {this.state.showDetailModal && (\r\n              <Detail\r\n                styles={DetailStyles}\r\n                servingSize={this.state.servingSize}\r\n                item={this.state.selectedFoodDrink}\r\n                close={this.handleOnCloseDetail}\r\n              />\r\n            )}\r\n          </div>\r\n        </ErrorBoundary>\r\n      );\r\n    } else {\r\n      return <div>Waiting...</div>;\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    confirmed24HourMealResetMessage:\r\n      state.userReducers.confirmed24HourMealResetMessage,\r\n    isConfirming24HourMealResetMessages:\r\n      state.userReducers.isConfirming24HourMealResetMessages,\r\n    isConfirming24Message:\r\n      state.userReducers.isConfirming24HourMealResetMessage,\r\n    showAlert: state.alertReducers.showAlert,\r\n    isSavingMeals: state.dashboardReducers.isSavingMeals,\r\n    isCreatingNewMeal: state.dashboardReducers.isCreatingNewMeal,\r\n    user: state.userReducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUser: user => dispatch(setUser(user)),\r\n    setAlert: (isVisible, title, body) =>\r\n      dispatch(setAlert(isVisible, title, body)),\r\n    setLoader: (isVisible, text, showSpinner = true) =>\r\n      dispatch(setLoader(isVisible, text, showSpinner)),\r\n    beginConfirmMealReset24Hours: () =>\r\n      dispatch(beginConfirm24HourMealResetMessage()),\r\n    beginCreatingNewMeal: meal => dispatch(beginCreatingNewMeal(meal)),\r\n    calculateTotals: () => dispatch(calculateTotals()),\r\n    beginSavingMeals: meals => dispatch(beginSavingMeals(meals))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MakeAMeal);\r\n","import React, { Component, Fragment } from 'react';\r\n\r\nconst styles = {\r\n  form: {\r\n    width: '350rem',\r\n    maxWidth: '25rem',\r\n    height: '50vh',\r\n    minHeaight: '20rem',\r\n    backgroundColor: 'rgba(255,255,255,0.8)',\r\n    borderRadius: '0.5rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: '999999999'\r\n  },\r\n  confirmText: {\r\n    color: '#222',\r\n    fontSize: '1.5rem'\r\n  },\r\n  button: {\r\n    width: '9rem',\r\n    margin: '1rem auto',\r\n    fontSize: '1.5rem',\r\n    backgroundColor: '#333',\r\n    border: 'none',\r\n    boxShadow: '0 0.2rem 0.2rem #000'\r\n  }\r\n};\r\n\r\n\r\n// TODO rename this to confirm or similar\r\nexport class AreYouSure extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.answer = this.answer.bind(this);\r\n  }\r\n\r\n\r\n\r\n\r\n  answer( is ) {\r\n    console.log(`[AreYouSure] answer( ${is} )`);\r\n\r\n    this.props.answerIs(is);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"flex center-all\" style={styles.form}>\r\n        <p style={styles.confirmText}>Are you sure?</p>\r\n        <button className=\"btn btn-primary\" style={styles.button} type=\"button\" onClick={() => {\r\n          this.answer('yes');\r\n        }}>Yes</button>\r\n        <button  className=\"btn btn-primary\" style={styles.button} type=\"button\" onClick={() => {\r\n          this.answer('no')\r\n        }}>No</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default AreYouSure;","import React, { useEffect } from \"react\";\r\nimport { Input } from \"antd\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nexport const FoodDrinkInputName = props => {\r\n  useEffect(() => {\r\n    console.log(props.name);\r\n  }, [props.name]);\r\n  return (\r\n    <>\r\n      <h3 id=\"step-description\">Set your items name</h3>\r\n      <div className=\"step-content name\">\r\n        <TextField\r\n          id=\"food-drink-name-input\"\r\n          label=\"\"\r\n          placeholder=\"Food or drink name\"\r\n          value={props.name}\r\n          onChange={props.handleOnChange}\r\n          margin=\"normal\"\r\n          variant=\"outlined\"\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodDrinkInputName;\r\n","import React, { useEffect } from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst Option = Select.Option;\r\n\r\nexport const FoodOrDrink = props => {\r\n  useEffect(() => {\r\n    console.log(props.foodOrDrink);\r\n  }, [props.foodOrDrink]);\r\n  return (\r\n    <>\r\n      <h3 className=\"stepper-description\">Is this a food or a drink item?</h3>\r\n      <div className=\"stepper-content\">\r\n        <Select\r\n          id=\"measurements-select\"\r\n          value={props.foodOrDrink}\r\n          defaultValue=\"Select a type\"\r\n          onChange={props.handleOnChange}\r\n          style={{ width: 200 }}\r\n          placeholder=\"Select a type\"\r\n        >\r\n          <Option key={\"2\"} value=\"food\">\r\n            Food\r\n          </Option>\r\n          <Option key={\"3\"} value=\"drink\">\r\n            Drink\r\n          </Option>\r\n        </Select>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodOrDrink;\r\n","import React, { useEffect } from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst Option = Select.Option;\r\n\r\nexport const Measurements = props => {\r\n  let MeasurementOptions;\r\n\r\n  useEffect(() => {\r\n    console.log(props.selectedMeasurement);\r\n    MeasurementOptions = props.measurements.map((measurement, index) => {\r\n      return (\r\n        <option\r\n          key={index + 1}\r\n          name=\"measurement-option\"\r\n          value={measurement.toString()}\r\n        >\r\n          {measurement}\r\n        </option>\r\n      );\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"stepper-description\">What is the serving size?</h3>\r\n      {props.oneMeasurementRequiredMessage}\r\n      <div className=\"stepper-content flex row justify-start align-center wrap\">\r\n        <Select\r\n          id=\"measurements-select\"\r\n          defaultValue=\"Select a measurement\"\r\n          value={props.selectedMeasurement}\r\n          onChange={props.handleOnChange}\r\n          showSearch\r\n          style={{ width: 200 }}\r\n          placeholder=\"Select a measurement\"\r\n          optionFilterProp=\"children\"\r\n          filterOption={(input, option) =>\r\n            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >=\r\n            0\r\n          }\r\n        >\r\n          {props.measurements.map((measurement, index) => {\r\n            return (\r\n              <Option\r\n                key={index + 1}\r\n                name=\"measurement-option\"\r\n                value={measurement.toString()}\r\n              >\r\n                {measurement}\r\n              </Option>\r\n            );\r\n          })}\r\n        </Select>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Measurements;\r\n","import React, { Component, useEffect } from \"react\";\r\nimport { Input } from \"antd\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport classNames from \"classnames\";\r\n\r\nexport class NutritionalData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n  }\r\n\r\n  goBack = () => {\r\n    console.log(`goBack`);\r\n    this.props.goBack();\r\n  };\r\n  clearForm = () => {\r\n    this.props.clearInnerForm();\r\n  };\r\n  save = () => {\r\n    this.props.save();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h3 className=\"step-description\">\r\n          The number of calories, vitamins and minerals.\r\n        </h3>\r\n        <div className=\"step-content nutritional-data flex row justify-start align-center wrap\">\r\n          {/* <button type=\"button\" className=\"compare-to-rda\">\r\n            <img src=\"https://img.icons8.com/ios/50/000000/health-graph.png\" />\r\n            Calculate RDA %\r\n          </button>\r\n          <button className=\"clear-form-button\">Clear all values</button> */}\r\n          <div className=\"wrap flex justify-start\">\r\n            <div className=\"input calorie-input\">\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"calories\"\r\n                label=\"Calories\"\r\n                value={this.props.state.calories}\r\n                className=\"add-form-input\"\r\n                onChange={event => {\r\n                  this.props.handleOnChange(event);\r\n                }}\r\n                id=\"calories\"\r\n                margin=\"normal\"\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n            {this.props.vitaminsJSON.default.vitamins.map((vitamin, index) => {\r\n              if (vitamin.name === \"manganese\") console.log(vitamin);\r\n              // TODO: rename vitamin as form-control or use Material UI\r\n              return (\r\n                <div className=\"input\" key={index}>\r\n                  <TextField\r\n                    label={vitamin.name}\r\n                    type=\"number\"\r\n                    name={vitamin.inputName}\r\n                    value={\r\n                      this.props.state[vitamin.inputName] === 0\r\n                        ? 0\r\n                        : this.props.state[vitamin.inputName]\r\n                    }\r\n                    className=\"add-form-input\"\r\n                    onChange={event => {\r\n                      this.props.handleOnChange(event);\r\n                    }}\r\n                    id={vitamin.id}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NutritionalData;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  CSSTransitionGroup,\r\n  ReactCSSTransitionGroup,\r\n  SwitchTransition,\r\n  FadeTransition\r\n} from \"react-transition-group\";\r\nconst styles = {\r\n  component: {\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\",\r\n    bottom: \"0\",\r\n    left: \"0\",\r\n    zIndex: \"99999999999\",\r\n    backgroundColor: \"#ffffff\",\r\n    width: \"100%\",\r\n    height: \"100vh\"\r\n  },\r\n  p: {\r\n    fontSize: \"3rem\"\r\n  }\r\n};\r\nexport class NutritionalInfoTransition extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      content: [\r\n        { text: \"Okay, great, let's set some nutritional information!\" }\r\n      ]\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // setTimeout(() => {\r\n    //   this.setState({\r\n    //     content: [{ text: \"Some new text.\" }]\r\n    //   });\r\n    // }, 3000);\r\n\r\n    setTimeout(() => {\r\n      this.props.setIsTransitioningState(false);\r\n      this.props.setHasSeenNutritionalContentTransition();\r\n    }, 3000);\r\n  }\r\n\r\n  render() {\r\n    let content = this.state.content.map((c, index) => {\r\n      return <div key={index}>{c.text}</div>;\r\n    });\r\n    return (\r\n      <div\r\n        style={styles.component}\r\n        class=\"flex center-all\"\r\n        id=\"nutritional-info-transition\"\r\n      >\r\n        <CSSTransitionGroup\r\n          transitionName=\"content\"\r\n          transitionAppear={true}\r\n          transitionAppearTimeout={500}\r\n          transitionEnter={false}\r\n          transitionLeave={false}\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={500}\r\n        >\r\n          {content}\r\n        </CSSTransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NutritionalInfoTransition;\r\n","export const DEFAULT_FOOD_OR_DRINK_VALUE = \"Select a type\";\r\nexport const DEFAULT_SELECTED_MEASUREMENT_VALUE = \"Select a measurement\";\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\nimport classNames from \"classnames\";\r\nimport configs from \"../../configs\";\r\nimport {\r\n  addToLocalStorage,\r\n  removeFromLocalStorage,\r\n  getItem as getFromLocalStorage\r\n} from \"../../utilities/localStorage\";\r\n\r\nimport * as vitaminsJSON from \"../../vitamins.json\";\r\nimport * as NewConsumableStyles from \"./styles.scss\";\r\n\r\nimport _ from \"lodash\";\r\n\r\nimport AreYouSure from \"./AreYouSure\";\r\nimport FoodDrinkInputName from \"./Name\";\r\nimport FoodOrDrink from \"./Type\";\r\nimport Measurements from \"./Measurements\";\r\nimport NutritionalData from \"./NutritionalData\";\r\nimport ViewHeader from \"../../components/ViewHeader\";\r\nimport NutritionalInfoTransition from \"./NutritionalInfoTransition\";\r\n\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\nimport { setUser } from \"../../actions/user.actions\";\r\nimport {\r\n  beginSavingNewFoodDrink,\r\n  pushToSaveFoodDrinkErrors\r\n} from \"../../actions/dashboard.actions\";\r\nimport {\r\n  MEASUREMENT_REQUIRED,\r\n  FOOD_OR_DRINK_REQUIRED,\r\n  FOODDRINK_NAME_REQUIRED\r\n} from \"../../actions/types\";\r\n\r\nimport {\r\n  DEFAULT_FOOD_OR_DRINK_VALUE,\r\n  DEFAULT_SELECTED_MEASUREMENT_VALUE\r\n} from \"./constants\";\r\n\r\nconst confirmContainerStyles = {\r\n  position: \"fixed\",\r\n  top: \"0\",\r\n  right: \"0\",\r\n  bottom: \"0\",\r\n  left: \"0\",\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n  zIndex: \"999999999\",\r\n  flexDirection: \"column\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"rgba(2, 2, 2, 0.5)\"\r\n};\r\n\r\nexport class Add extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      step: 1,\r\n      steps: [\r\n        {\r\n          name: \"name\",\r\n          capitalizedName: \"Name\",\r\n          completed: false\r\n        },\r\n        {\r\n          name: \"type\",\r\n          capitalizedName: \"Type\",\r\n          completed: false\r\n        },\r\n        {\r\n          name: \"measurements\",\r\n          capitalizedName: \"Measurements\",\r\n          completed: false\r\n        },\r\n        {\r\n          name: \"nutritionalData\",\r\n          capitalizedName: \"Nutritional Data\",\r\n          completed: false\r\n        }\r\n      ],\r\n      skipped: [],\r\n      title: \"Save a new consumable\",\r\n      foodDrinkInputName: \"\",\r\n      foodOrDrink: DEFAULT_FOOD_OR_DRINK_VALUE,\r\n      selectedMeasurement: DEFAULT_SELECTED_MEASUREMENT_VALUE,\r\n      measurements: [],\r\n      servingSize: \"\",\r\n      showAreYouSure: false,\r\n      measurementEditMode: false,\r\n      calories: null,\r\n      vitaminA: null,\r\n      vitaminB1: null,\r\n      vitaminB2: null,\r\n      vitaminB3: null,\r\n      vitaminB5: null,\r\n      vitaminB6: null,\r\n      vitaminB7: null,\r\n      vitaminB12: null,\r\n      calcium: null,\r\n      choline: null,\r\n      chromium: null,\r\n      copper: null,\r\n      fluoride: null,\r\n      folicAcid: null,\r\n      iodine: null,\r\n      iron: null,\r\n      magnesium: null,\r\n      manganese: null,\r\n      molybdenum: null,\r\n      phosphorus: null,\r\n      potassium: null,\r\n      selenium: null,\r\n      salt: null,\r\n      vitaminD3: null,\r\n      vitaminE: null,\r\n      vitaminK: null,\r\n      zinc: null,\r\n      formSubmitted: false,\r\n      showOneMeasurementRequiredMessage: false,\r\n      selectedTypeOfRequiredMessage: \"Please select a food or drink item.\",\r\n      selectedMeasurementRequiredMessage:\r\n        \"Selecting a measurement is required.\",\r\n      atLeastOneMeasurementRequiredMessage:\r\n        \"You must keep at least once measurement.\",\r\n      formErrors: [],\r\n      isDesktop: false,\r\n      innerWidth: 0,\r\n      isValidForm: false,\r\n      isInStepperPhase: true,\r\n      isTransitioningToNutritionalData: false,\r\n      hasSeenTransitionToNutritionalData: false\r\n    };\r\n\r\n    document.title = \"New Food or Drink\";\r\n\r\n    console.log(vitaminsJSON);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // TODO consider using a constant for name of step localStorage value\r\n    //      and rename 'step' to something else.\r\n    const step = getFromLocalStorage(\"step\") ? getFromLocalStorage(\"step\") : 1;\r\n    this.setState({\r\n      step,\r\n      windowInnerWidth: window.innerWidth,\r\n      isDesktop: window.innerWidth < configs.minDesktopViewport ? false : true\r\n    });\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      this.setState({\r\n        windowInnerWidth: window.innerWidth,\r\n        isDesktop: window.innerWidth < configs.minDesktopViewport ? false : true\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // Handle success saving a new foodDrink.\r\n    if (\r\n      !prevProps.successSavingNewFoodDrink &&\r\n      this.props.successSavingNewFoodDrink\r\n    ) {\r\n      this.clearForm();\r\n      this.clearNutritionalDataForm();\r\n      removeFromLocalStorage([\"newConsumableValues\", \"step\"]);\r\n      this.setState({\r\n        isInStepperPhase: true\r\n      });\r\n    }\r\n\r\n    //Handle if the saveNewFoodDrinkErrors array obtains a length\r\n    if (\r\n      !prevProps.saveNewFoodDrinkErrors.length &&\r\n      this.props.saveNewFoodDrinkErrors.length > 0\r\n    ) {\r\n      setAlert(true, `Please fix these errors`, `fdsafds`);\r\n    }\r\n\r\n    // Handle step change\r\n    if (prevState.step !== this.state.step) {\r\n      addToLocalStorage(\"step\", this.state.step);\r\n    }\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.log(`componentDidCatch()`);\r\n    console.log(error);\r\n    console.log(info);\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    console.log(error);\r\n  }\r\n\r\n  // Rename this to something about handling vitamin inputs on change\r\n  handleOnChange = event => {\r\n    console.log(`handleOnChange`);\r\n    event.persist();\r\n    this.setState(\r\n      {\r\n        [event.target.name]: parseInt(event.target.value)\r\n      },\r\n      () => {\r\n        addToLocalStorage(\"newConsumableValues\", {\r\n          foodDrinkInputName: this.state.foodDrinkInputName,\r\n          foodOrDrink: this.state.foodOrDrink,\r\n          selectedMeasurement: this.state.selectedMeasurement,\r\n          calories: this.state.calories,\r\n          vitaminA: this.state.vitaminA,\r\n          vitaminB1: this.state.vitaminB1,\r\n          vitaminB2: this.statevitaminB2,\r\n          vitaminB3: this.state.vitaminB3,\r\n          vitaminB5: this.state.vitaminB5,\r\n          vitaminB6: this.state.vitaminB6,\r\n          vitaminB7: this.state.vitaminB7,\r\n          vitaminB12: this.state.vitaminB12,\r\n          calcium: this.state.calcium,\r\n          choline: this.state.choline,\r\n          chromium: this.state.chromium,\r\n          copper: this.state.copper,\r\n          fluoride: this.state.fluoride,\r\n          folicAcid: this.state.folicAcid,\r\n          iodine: this.state.iodine,\r\n          iron: this.state.iron,\r\n          magnesium: this.state.magnesium,\r\n          manganese: this.state.manganese,\r\n          molybdenum: this.state.molybdenum,\r\n          phosphorus: this.state.phosphorus,\r\n          potassium: this.state.potassium,\r\n          selenium: this.state.selenium,\r\n          salt: this.state.salt,\r\n          vitaminD3: this.state.vitaminD3,\r\n          vitaminE: this.state.vitaminE,\r\n          vitaminK: this.state.vitaminK,\r\n          zinc: this.state.zinc\r\n        });\r\n\r\n        console.log(`CALORIESSSSS`, this.state.calories);\r\n      }\r\n    );\r\n  };\r\n\r\n  /* So yeah I created the COokies display and so on click it should call an action that\r\n  // confirm 24hourMealREset message*/\r\n\r\n  handleFoodDrinkInputOnChange = event => {\r\n    console.log(`handleFoodDrinkInputOnChange`);\r\n    let stepsToUpdate = this.state.steps.slice();\r\n\r\n    stepsToUpdate[0].completed =\r\n      event.target.value.trim() === \"\" ? false : true;\r\n\r\n    this.setState({\r\n      foodDrinkInputName: event.target.value,\r\n      steps: stepsToUpdate\r\n    });\r\n  };\r\n\r\n  handleNewMeasurementOnChange = event => {\r\n    console.log(`handleNewMeasurementOnChange`);\r\n    const measurementIsAlreadyAdded = this.measurementIsAlreadyAdded(\r\n      event.target.value\r\n    );\r\n\r\n    if (!measurementIsAlreadyAdded) {\r\n      this.setState({ newMeasurement: event.target.value }, () => {\r\n        console.log(`setState calling debounceValidateForm`);\r\n        this.debounceValidateForm();\r\n      });\r\n    }\r\n  };\r\n\r\n  outputQuantity = () => {\r\n    let quantity = [];\r\n\r\n    this.state.quantity.forEach((q, index) => {\r\n      quantity.push(index + 1);\r\n    });\r\n\r\n    return quantity.map((quantity, index) => {\r\n      return <option name={`quantity-${quantity}`}>{quantity}</option>;\r\n    });\r\n  };\r\n\r\n  outputVitamins = () => {};\r\n\r\n  areYouSure = () => {\r\n    this.setState({ showAreYouSure: true });\r\n  };\r\n\r\n  handleAnswer = answer => {\r\n    this.setState({ showAreYouSure: false }, () => {\r\n      if (answer === \"yes\") {\r\n        this.clearForm();\r\n        // // TODO delete session using sessionStorage action creater\r\n      }\r\n    });\r\n  };\r\n\r\n  clearForm = () => {\r\n    this.setState(\r\n      {\r\n        step: 1,\r\n        steps: [\r\n          {\r\n            name: \"name\",\r\n            capitalizedName: \"Name\",\r\n            completed: false\r\n          },\r\n          {\r\n            name: \"type\",\r\n            capitalizedName: \"Type\",\r\n            completed: false\r\n          },\r\n          {\r\n            name: \"measurements\",\r\n            capitalizedName: \"Measurements\",\r\n            completed: false\r\n          },\r\n          {\r\n            name: \"nutritionalData\",\r\n            capitalizedName: \"Nutritional Content\",\r\n            completed: false\r\n          }\r\n        ],\r\n        title: \"Save a new consumable\",\r\n        foodDrinkInputName: \"\",\r\n        foodOrDrink: DEFAULT_FOOD_OR_DRINK_VALUE,\r\n        selectedMeasurement: DEFAULT_SELECTED_MEASUREMENT_VALUE,\r\n        measurements: [],\r\n        servingSize: \"\",\r\n        showAreYouSure: false,\r\n        measurementEditMode: false,\r\n        calories: null,\r\n        vitaminA: 0,\r\n        vitaminB1: 0,\r\n        vitaminB2: 0,\r\n        vitaminB3: 0,\r\n        vitaminB5: 0,\r\n        vitaminB6: 0,\r\n        vitaminB7: 0,\r\n        vitaminB12: 0,\r\n        calcium: 0,\r\n        choline: 0,\r\n        chromium: 0,\r\n        copper: 0,\r\n        fluoride: 0,\r\n        folicAcid: 0,\r\n        iodinee: 0,\r\n        iron: 0,\r\n        magnesium: 0,\r\n        molybdenum: 0,\r\n        phosphorus: 0,\r\n        potassium: 0,\r\n        selenium: 0,\r\n        salt: 0,\r\n        vitaminD3: 0,\r\n        vitaminE: 0,\r\n        vitaminK: 0,\r\n        zinc: 0,\r\n        formSubmitted: false,\r\n        showOneMeasurementRequiredMessage: false,\r\n        selectedTypeOfRequiredMessage: \"Please select a food or drink item.\",\r\n        selectedMeasurementRequiredMessage:\r\n          \"Selecting a measurement is required.\",\r\n        atLeastOneMeasurementRequiredMessage:\r\n          \"You must keep at least once measurement.\",\r\n        formErrors: []\r\n      },\r\n      () => {\r\n        // Clear item name, description and vitamin values\r\n        document.getElementById(\"food-drink-name-input\").value = \"\";\r\n        document.querySelectorAll(\".add-form-input\").forEach(input => {\r\n          input.value = \"\";\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  setfoodOrDrink = type => {\r\n    this.setState(\r\n      {\r\n        foodOrDrink: type\r\n      },\r\n      () => {\r\n        // TODO update session using sessionStorage action creater\r\n      }\r\n    );\r\n  };\r\n\r\n  setSelectedMeasurement = selectedMeasurement => {\r\n    this.turnEditModeOff();\r\n    this.setState({ selectedMeasurement });\r\n  };\r\n\r\n  addNewMeasurement = () => {\r\n    const { newMeasurement, measurements } = this.state;\r\n    const measurementIsAlreadyAdded = this.measurementIsAlreadyAdded(\r\n      newMeasurement\r\n    );\r\n\r\n    console.log(newMeasurement);\r\n\r\n    if (!measurementIsAlreadyAdded) {\r\n      this.setState({\r\n        measurements: [...measurements, newMeasurement],\r\n        showOneMeasurementRequiredMessage: false\r\n      });\r\n    }\r\n  };\r\n\r\n  turnEditModeOn = () => {\r\n    this.setState({ measurementEditMode: true });\r\n  };\r\n\r\n  turnEditModeOff = () => {\r\n    this.setState({ measurementEditMode: false });\r\n  };\r\n\r\n  deleteMeasurement = measurementIndex => {\r\n    const { measurements } = this.state;\r\n\r\n    // This is the last measurement. You cannot delete it.\r\n    if (measurements.length && measurements.length === 1) {\r\n      this.setState({\r\n        measurementEditMode: false,\r\n        showOneMeasurementRequiredMessage: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        measurements: this.state.measurements.filter((measurement, index) => {\r\n          return index !== measurementIndex;\r\n        }),\r\n        measurementEditMode: true,\r\n        showOneMeasurementRequiredMessage: false\r\n      });\r\n    }\r\n  };\r\n\r\n  measurementIsAlreadyAdded = newMeasurement => {\r\n    return this.state.measurements.some((measurement, index) => {\r\n      return measurement.toLowerCase() === newMeasurement.toLowerCase();\r\n    });\r\n  };\r\n\r\n  isValidForm = () => {\r\n    const { foodDrinkInputName, foodOrDrink, selectedMeasurement } = this.state;\r\n    let isValidForm = false;\r\n    let errors = [];\r\n\r\n    if (\r\n      foodDrinkInputName !== \"\" &&\r\n      (foodOrDrink !== \"\" && foodOrDrink !== DEFAULT_FOOD_OR_DRINK_VALUE) &&\r\n      (selectedMeasurement !== \"\" &&\r\n        selectedMeasurement !== DEFAULT_SELECTED_MEASUREMENT_VALUE)\r\n    ) {\r\n      isValidForm = true;\r\n\r\n      // this.props.notSureSomehowClearSaveFoodDrinkErrors array\r\n      // this.props.clearSaveFoodDrinksErrors()\r\n    } else {\r\n      if (foodDrinkInputName === \"\") {\r\n        errors.push({\r\n          type: FOODDRINK_NAME_REQUIRED,\r\n          message: \"What is the name of your food or drink item?\"\r\n        });\r\n      }\r\n\r\n      if (foodOrDrink === \"\" || foodOrDrink === \"Select a type\") {\r\n        errors.push({\r\n          type: FOOD_OR_DRINK_REQUIRED,\r\n          message: \"Is this a food or drink?\"\r\n        });\r\n      }\r\n\r\n      if (\r\n        selectedMeasurement === \"\" ||\r\n        selectedMeasurement === \"Select a measurement\"\r\n      ) {\r\n        errors.push({\r\n          type: MEASUREMENT_REQUIRED,\r\n          message: \"Please select a measurement?\"\r\n        });\r\n      }\r\n\r\n      // TODO this function isn't real.\r\n      //this.props.pushToSaveFoodDrinkErrors(errors);\r\n\r\n      isValidForm = false;\r\n    }\r\n\r\n    return isValidForm;\r\n  };\r\n\r\n  setIsValidForm = isValidForm => {\r\n    this.setState({ isValidForm });\r\n  };\r\n\r\n  delayIsValidForm = () => {\r\n    console.log(`delayIsValidForm()`);\r\n    _.delay(() => {}, 400, () => {\r\n      this.setIsValidForm(this.isValidForm());\r\n    });\r\n  };\r\n\r\n  saveFoodOrDrink = () => {\r\n    const { selectedMeasurement } = this.state;\r\n    // So if the 3 steps are valid, Add.\r\n    // I click on Add, disabled if any of those or formSubmitted.\r\n    // I click on Add, form is submitted, disdabled.\r\n    // Form is not valid, disabled = false\r\n    // otherwise disabled is true\r\n    // beginSavingNewFoodDrink\r\n    // If the form is valid, formSubmitted remains true\r\n    //\r\n    console.log(`IS VALID FORM`, this.isValidForm());\r\n    if (this.isValidForm()) {\r\n      this.setState({ formSubmitted: true, isValidForm: true }, () => {\r\n        const foodDrink = {\r\n          details: {\r\n            name: this.state.foodDrinkInputName,\r\n            foodOrDrink: this.state.foodOrDrink,\r\n            measurements: [...this.props.user.measurements],\r\n            selectedMeasurement\r\n          },\r\n          nutritionalData: {\r\n            quantity: this.state.quantity,\r\n            calories: this.state.calories,\r\n            vitaminA: this.state.vitaminA,\r\n            vitaminB1: this.state.vitaminB1,\r\n            vitaminB2: this.state.vitaminB2,\r\n            vitaminB3: this.state.vitaminB3,\r\n            vitaminB5: this.state.vitaminB5,\r\n            vitaminB6: this.state.vitaminB6,\r\n            vitaminB7: this.state.vitaminB7,\r\n            vitaminB12: this.state.vitaminB12,\r\n            calcium: this.state.calcium,\r\n            choline: this.state.choline,\r\n            chromium: this.state.chromium,\r\n            copper: this.state.copper,\r\n            fluoride: this.state.fluoride,\r\n            folicAcid: this.state.folicAcid,\r\n            iodine: this.state.iodine,\r\n            iron: this.state.iron,\r\n            magnesium: this.state.magnesium,\r\n            molybdenum: this.state.selenium,\r\n            salt: this.state.molybdenum,\r\n            phosphorus: this.state.phosphorus,\r\n            potassium: this.state.potassium,\r\n            selenium: this.state.salt,\r\n            vitaminD3: this.state.vitaminD3,\r\n            vitaminE: this.state.vitaminE,\r\n            vitaminK: this.state.vitaminK,\r\n            zinc: this.state.zinc\r\n          }\r\n        };\r\n        console.log(foodDrink);\r\n        this.props.beginSavingNewFoodDrink(foodDrink);\r\n      });\r\n    } else {\r\n      alert(\"NOT VALID FORM\");\r\n      // state.formSubmitted is false by default\r\n    }\r\n  };\r\n\r\n  handleMesurementsOnChange = event => {\r\n    this.setIsValidForm(this.isValidForm());\r\n    this.setState({\r\n      newMeasurement: event.target.value.trim()\r\n    });\r\n  };\r\n\r\n  handleFoodOrDrinkOnChange = foodOrDrink => {\r\n    let stepsToUpdate = this.state.steps.slice();\r\n    stepsToUpdate[1].completed = true;\r\n    this.setState({\r\n      steps: stepsToUpdate,\r\n      foodOrDrink\r\n    });\r\n  };\r\n\r\n  handleMeasurementSelectOnChange = measurement => {\r\n    console.log(`handleMeasurementSelectOnChange`, measurement);\r\n\r\n    // ideally\r\n    let stepsToUpdate = this.state.steps.slice();\r\n    stepsToUpdate[2].completed = true;\r\n\r\n    // So yeah fat arrow functions remove the scope restriction??\r\n    this.setState({\r\n      steps: stepsToUpdate,\r\n      selectedMeasurement: measurement\r\n    });\r\n  };\r\n\r\n  previous = () => {\r\n    console.log(`previous`);\r\n    const { step, steps } = this.state;\r\n\r\n    if (step > 1) {\r\n      console.log(`step > 1`);\r\n      this.setState(\r\n        {\r\n          step: step - 1\r\n        },\r\n        () => {\r\n          console.log(this.state.step);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  next = () => {\r\n    const { step, steps } = this.state;\r\n\r\n    if (step < steps.length) {\r\n      this.setState(\r\n        prevState => {\r\n          return {\r\n            step: prevState.step + 1\r\n          };\r\n        },\r\n        () => {\r\n          console.log(this.state.step);\r\n        }\r\n      );\r\n    } else {\r\n      this.setState({\r\n        isInStepperPhase: false,\r\n        isTransitioningToNutritionalData: !this.state\r\n          .hasSeenTransitionToNutritionalData\r\n      });\r\n    }\r\n  };\r\n\r\n  setStep = selectedStep => {\r\n    console.log(`setStep`, selectedStep);\r\n    this.setState({ step: selectedStep });\r\n  };\r\n\r\n  isStepSkipped(step) {\r\n    //return this.skipped.includes(step);\r\n  }\r\n\r\n  clearNutritionalDataForm = () => {\r\n    this.setState({\r\n      calories: null,\r\n      vitaminA: 0,\r\n      vitaminB1: 0,\r\n      vitaminB2: 0,\r\n      vitaminB3: 0,\r\n      vitaminB5: 0,\r\n      vitaminB6: 0,\r\n      vitaminB7: 0,\r\n      vitaminB12: 0,\r\n      calcium: 0,\r\n      choline: 0,\r\n      chromium: 0,\r\n      copper: 0,\r\n      fluoride: 0,\r\n      folicAcid: 0,\r\n      iodinee: 0,\r\n      iron: 0,\r\n      magnesium: 0,\r\n      molybdenum: 0,\r\n      phosphorus: 0,\r\n      potassium: 0,\r\n      selenium: 0,\r\n      salt: 0,\r\n      vitaminD3: 0,\r\n      vitaminE: 0,\r\n      vitaminK: 0,\r\n      zinc: 0\r\n    });\r\n  };\r\n\r\n  handleNutritionalDataGoBack = () => {\r\n    console.log(\"handleNutritionalDataGoBack\");\r\n    this.setState(\r\n      {\r\n        isInStepperPhase: true\r\n      },\r\n      () => {\r\n        console.log(this.state);\r\n      }\r\n    );\r\n  };\r\n\r\n  handleSetIsTransitioningState = isTransitioning => {\r\n    this.setState({\r\n      isTransitioningToNutritionalData: isTransitioning\r\n    });\r\n  };\r\n\r\n  handleSetHasSeenNutritionalDataTransition = () => {\r\n    console.log(\"handleSetHasSeenNutritionalDataTransition\");\r\n    this.setState({\r\n      hasSeenTransitionToNutritionalData: true\r\n    });\r\n  };\r\n\r\n  clearActiveStepFormValue = () => {\r\n    console.log(`clearActiveStepFormValue`);\r\n    switch (this.state.step) {\r\n      case 1:\r\n        this.setState(prevState => {\r\n          let steps = prevState.steps;\r\n          steps[0].completed = false;\r\n\r\n          return {\r\n            ...steps,\r\n            foodDrinkInputName: \"\"\r\n          };\r\n        });\r\n        break;\r\n      case 2:\r\n        this.setState(prevState => {\r\n          let steps = prevState.steps;\r\n          steps[1].completed = false;\r\n\r\n          return {\r\n            ...steps,\r\n            foodOrDrink: DEFAULT_FOOD_OR_DRINK_VALUE\r\n          };\r\n        });\r\n        break;\r\n      case 3:\r\n        this.setState(prevState => {\r\n          let steps = prevState.steps;\r\n          steps[2].completed = false;\r\n\r\n          return {\r\n            ...steps,\r\n            selectedMeasurement: DEFAULT_SELECTED_MEASUREMENT_VALUE\r\n          };\r\n        });\r\n        break;\r\n      case 4:\r\n        this.setState(\r\n          {\r\n            steps: this.state.steps.map((s, i) => {\r\n              if (i + 1 === this.state.step) {\r\n                return {\r\n                  ...this.state.steps[this.state.step - 1],\r\n                  completed: false\r\n                };\r\n              }\r\n\r\n              return s;\r\n            })\r\n          },\r\n          () => this.clearNutritionalDataForm()\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      steps,\r\n      showOneMeasurementRequiredMessage,\r\n      atLeastOneMeasurementRequiredMessage,\r\n      isDesktop,\r\n      foodOrDrink\r\n    } = this.state;\r\n\r\n    const contentClasses = classNames({\r\n      content: this.state.isInStepperPhase,\r\n      \"content-with-padding\": !this.state.isInStepperPhase\r\n    });\r\n\r\n    let FormErrors;\r\n    let FoodOrDrinkIcon;\r\n    let EditMeasurementButton;\r\n    let OneMeasurementRequiredMessage;\r\n\r\n    if (foodOrDrink !== DEFAULT_FOOD_OR_DRINK_VALUE) {\r\n      if (foodOrDrink === \"food\") {\r\n        FoodOrDrinkIcon = <i className=\"fa fa-leaf\"></i>;\r\n      } else {\r\n        FoodOrDrinkIcon = <i className=\"fa fa-coffee\"></i>;\r\n      }\r\n    } else {\r\n      FoodOrDrinkIcon = \"\";\r\n    }\r\n\r\n    if (this.props.isAuthenticated) {\r\n      if (showOneMeasurementRequiredMessage) {\r\n        OneMeasurementRequiredMessage = (\r\n          <div className=\"one-measurement-required\">\r\n            {atLeastOneMeasurementRequiredMessage}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      if (\r\n        this.props.user.measurements &&\r\n        Array.isArray(this.props.user.measurements)\r\n      ) {\r\n        EditMeasurementButton = (\r\n          <button\r\n            type=\"button\"\r\n            className=\"measurement-edit-button\"\r\n            onClick={() => {\r\n              !this.state.measurementEditMode\r\n                ? this.turnEditModeOn()\r\n                : this.turnEditModeOff();\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        );\r\n      }\r\n\r\n      if (\r\n        !this.state.isInStepperPhase &&\r\n        this.state.isTransitioningToNutritionalData &&\r\n        !this.state.hasSeenTransitionToNutritionalData\r\n      ) {\r\n        return (\r\n          <NutritionalInfoTransition\r\n            setIsTransitioningState={this.handleSetIsTransitioningState}\r\n            setHasSeenNutritionalDataTransition={\r\n              this.handleSetHasSeenNutritionalDataTransition\r\n            }\r\n          ></NutritionalInfoTransition>\r\n        );\r\n      } else {\r\n        return (\r\n          <div\r\n            className=\"new-consumable view flex column center-all\"\r\n            styles={NewConsumableStyles}\r\n          >\r\n            {/* <div className=\"view-header flex align-center space-between\">\r\n              <h1 className=\"view-title\">{this.state.title}</h1>\r\n              {this.state.isDesktop && (\r\n                <div className=\"form-group form-group-form-controls  buttons flex center-all\">\r\n                  {FormErrors}\r\n                </div>\r\n              )}\r\n            </div> */}\r\n            <div className=\"view-main\">\r\n              <div className={contentClasses}>\r\n                <>\r\n                  <div id=\"steps-tabs\">\r\n                    <ul className=\"flex\">\r\n                      {this.state.steps.map((s, i) => {\r\n                        return (\r\n                          <li\r\n                            className={\r\n                              this.state.step === i + 1 ? \"active\" : \"\"\r\n                            }\r\n                            onClick={() => this.setState({ step: i + 1 })}\r\n                          >\r\n                            {s.capitalizedName}\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                  </div>\r\n                  <div id=\"mobile-steps\">\r\n                    <div className=\"step flex align-center\">\r\n                      <span\r\n                        className={this.state.step === 1 ? \"hidden\" : \"\"}\r\n                        onClick={() => {\r\n                          if (this.state.step !== 1) {\r\n                            this.setState({\r\n                              step:\r\n                                this.state.step > 1\r\n                                  ? (this.state.step -= 1)\r\n                                  : this.state.step\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        <i className=\"fa fa-chevron-left\"></i>\r\n                      </span>\r\n                      <span className=\"name\">\r\n                        {this.state.steps[this.state.step - 1].capitalizedName}\r\n                      </span>\r\n                      <span\r\n                        className={\r\n                          this.state.step === this.state.steps.length\r\n                            ? \"hidden\"\r\n                            : \"\"\r\n                        }\r\n                        onClick={() => {\r\n                          if (this.state.step < this.state.steps.length) {\r\n                            this.setState({\r\n                              step:\r\n                                this.state.step < this.state.steps.length\r\n                                  ? (this.state.step += 1)\r\n                                  : this.state.step\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        <i className=\"fa fa-chevron-right\"></i>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"steps-container flex column\">\r\n                    <div id=\"steps-header\" className=\"flex space-between\">\r\n                      <div className=\"flex align-center\">\r\n                        <div className=\"name\">\r\n                          {this.state.foodDrinkInputName === \"\"\r\n                            ? \"My item\"\r\n                            : this.state.foodDrinkInputName}\r\n                        </div>\r\n                        <div className=\"food-or-drink-icon\">\r\n                          {FoodOrDrinkIcon}\r\n                        </div>\r\n                        <div className=\"measurement\">\r\n                          {this.state.selectedMeasurement !==\r\n                          DEFAULT_SELECTED_MEASUREMENT_VALUE\r\n                            ? `(${this.state.selectedMeasurement})`\r\n                            : \"\"}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"buttons flex justify-end align-center\">\r\n                        <button\r\n                          className=\"btn btn-primary save\"\r\n                          type=\"button\"\r\n                          onClick={this.saveFoodOrDrink}\r\n                        >\r\n                          Add\r\n                        </button>\r\n                        {/* <button\r\n                        className=\"btn btn-primary restart\"\r\n                        type=\"button\"\r\n                        onClick={this.areYouSure}\r\n                      >\r\n                        Restart\r\n                      </button>\r\n\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={this.clearActiveStepFormValue}\r\n                        className=\"btn btn-primary clear\"\r\n                      >\r\n                        Clear\r\n                      </button> */}\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"steps-content\">\r\n                      <div className=\"step\">\r\n                        {this.state.step === 1 && (\r\n                          <FoodDrinkInputName\r\n                            name={this.state.foodDrinkInputName}\r\n                            handleOnChange={this.handleFoodDrinkInputOnChange}\r\n                          />\r\n                        )}\r\n\r\n                        {this.state.step === 2 && (\r\n                          <FoodOrDrink\r\n                            foodOrDrink={this.state.foodOrDrink}\r\n                            handleOnChange={this.handleFoodOrDrinkOnChange}\r\n                          />\r\n                        )}\r\n\r\n                        {this.state.step === 3 && (\r\n                          <Measurements\r\n                            selectedMeasurement={this.state.measurement}\r\n                            measurements={this.props.user.measurements}\r\n                            selectedMeasurement={this.state.selectedMeasurement}\r\n                            oneMeasurementRequiredMessage={\r\n                              OneMeasurementRequiredMessage\r\n                            }\r\n                            handleOnChange={\r\n                              this.handleMeasurementSelectOnChange\r\n                            }\r\n                          />\r\n                        )}\r\n\r\n                        {this.state.step === 4 && (\r\n                          <NutritionalData\r\n                            state={this.state}\r\n                            vitaminsJSON={vitaminsJSON}\r\n                            outputVitamins={this.outputVitamins}\r\n                            handleOnChange={event => {\r\n                              console.log(\r\n                                event.target.name,\r\n                                event.target.value\r\n                              );\r\n                              this.handleOnChange(event);\r\n                            }}\r\n                            save={() => {\r\n                              this.saveFoodOrDrink();\r\n                            }}\r\n                            goBack={() => {\r\n                              this.handleNutritionalDataGoBack();\r\n                            }}\r\n                            clearInnerForm={() => {\r\n                              this.clearNutritionalDataForm();\r\n                            }}\r\n                            oneMeasurementRequiredMessage={\r\n                              OneMeasurementRequiredMessage\r\n                            }\r\n                          >\r\n                            {this.props.children}\r\n                          </NutritionalData>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"steps-controls\">\r\n                      <div\r\n                        id=\"steps-controls-container\"\r\n                        className=\"flex center-all\"\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          disabled={this.state.step === 1}\r\n                          onClick={this.previous}\r\n                          className={`flex space-between align-center ${\r\n                            this.state.step === 1 ? \"disabled\" : \"\"\r\n                          }`}\r\n                        >\r\n                          Previous\r\n                        </Button>\r\n\r\n                        <Button\r\n                          type=\"button\"\r\n                          disabled={this.state.step === this.state.steps.length}\r\n                          onClick={this.next}\r\n                          className={`flex space-between align-center ${\r\n                            this.state.step === this.state.steps.length\r\n                              ? \"disabled\"\r\n                              : \"\"\r\n                          }`}\r\n                        >\r\n                          Next\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              </div>\r\n\r\n              <form>\r\n                {/* Type of food or drink and name*/}\r\n                <div className=\"form-group type-of-and-name-group flex center-all\">\r\n                  <div className=\"form-group-content type-of-and-name flex space-around\" />\r\n                </div>\r\n              </form>\r\n\r\n              {/* \"Are you sure?\" modal */}\r\n              {this.state.showAreYouSure ? (\r\n                <div style={confirmContainerStyles}>\r\n                  <AreYouSure answerIs={this.handleAnswer} />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    } else {\r\n      return (\r\n        <div className=\"view-with-padding flex center-all color-black\">\r\n          <Link to=\"/auth/signin\">Sign In</Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    showAlert: state.alertReducers.showAlert,\r\n    user: state.userReducers,\r\n    isAuthenticated: state.userReducers.isAuthenticated,\r\n    isSavingNewFoodDrink: state.dashboardReducers.isSavingNewFoodDrink,\r\n    successSavingNewFoodDrink:\r\n      state.dashboardReducers.successSavingNewFoodDrink,\r\n    saveNewFoodDrinkErrors: state.userReducers.saveNewFoodDrinkErrors\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUser: user => {\r\n      dispatch(setUser(user));\r\n    },\r\n    setAlert: (isVisible, title = \"\", body = \"\") => {\r\n      dispatch(setAlert(isVisible, title, body));\r\n    },\r\n    beginSavingNewFoodDrink: foodDrink =>\r\n      dispatch(beginSavingNewFoodDrink(foodDrink)),\r\n    pushToSaveFoodDrinkErrors: errors => {\r\n      dispatch(pushToSaveFoodDrinkErrors(errors));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Add);\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { setAlert } from '../../actions/alert.actions';\r\nimport { SERVER_URL } from '../../app-config';\r\n\r\n\r\nexport class EditConsumable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props); \r\n\r\n    this.state = {\r\n      title: 'Edit Consumable',\r\n    }\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  edit() {\r\n    let item;\r\n\r\n    console.log(`[Edit] add()`)\r\n    // TODO send the item to database\r\n    console.log(`fetch POST to api/user/addItem`);\r\n\r\n    try {\r\n      item = JSON.stringify({\r\n        vitaminA: this.state.vitaminA,\r\n        vitaminB1: this.state.vitaminB1,\r\n        vitaminB2: this.state.vitaminB2,\r\n        vitaminB3: this.state.vitaminB3,\r\n        vitaminB5: this.state.vitaminB5,\r\n        vitaminB6: this.state.vitaminB6,\r\n        vitaminB7: this.state.vitaminB7,\r\n        vitaminB12: this.state.vitaminB12,\r\n        calcium: this.state.calcium,\r\n        choline: this.state.choline,\r\n        chromium: this.state.chromium,\r\n        copper: this.state.copper,\r\n        flouride: this.state.flouride,\r\n        folicAcid: this.state.folicAcid,\r\n        iodine: this.state.iodine,\r\n        iron: this.state.iron,\r\n        magnesium: this.state.magnesium,\r\n        molybdenum: this.state.molybdenum,\r\n        phosphorus: this.state.phosphorus,\r\n        potassium: this.state.potassium,\r\n        selenium: this.state.selenium,\r\n        salt: this.state.salt,\r\n        vitaminD3: this.state.vitaminD3,\r\n        vitaminE: this.state.vitaminE,\r\n        vitaminK: this.state.vitaminK,\r\n        zinc: this.state.zinc\r\n      });\r\n    } catch(error) {\r\n      console.log(`[Dashboard edit] An error occured stringifying an item, or some othe`, error);\r\n    }\r\n\r\n    if ( item.hasOwnProperty('iron') ) {\r\n      const headers = { \"Content-Type\": \"application/json\" };\r\n      const body = JSON.stringify({ item });\r\n\r\n      fetch(`${SERVER_URL}/user/edit`, {\r\n        method: 'POST',\r\n        headers,\r\n        body\r\n      })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log(response);\r\n      })\r\n      .catch(error => {\r\n        console.log(`[Edit] error POSTing to user/newItem | error: ${error}`);\r\n\r\n        // TODO handle error\r\n      });  \r\n    } else {\r\n      // TODO handle error\r\n      console.log(`[Dashboard edit] An error occured. `);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleSubmit() {\r\n    return console.log(`handleSubmit`);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"edit view center-all\">\r\n        <h1>{this.state.title}</h1>\r\n        <button onClick={ () => { this.handleSubmit() } }>Submit</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    showAlert: state.alertReducers.showAlert\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setAlert: (isVisible, title, body) => { dispatch( setAlert(isVisible, title, body) ) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditConsumable);","import React, { useEffect } from \"react\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport user from \"./lnr-user.svg\";\r\n\r\nconst NutrientData = props => {\r\n  useEffect(() => {});\r\n  // Should be no undefined values.\r\n  // TODO should be no undefined data passed\r\n  // should be const OutOfText on a single line\r\n  let OutOfText = \"\";\r\n  let color = \"\";\r\n\r\n  if (props.total) {\r\n    OutOfText = props.total.toString() + \" out of \" + props.rda.toString();\r\n  }\r\n\r\n  let width = !props.total ? 0 : (props.total / props.rda) * 100;\r\n\r\n  if (width > 100) {\r\n    width = 100;\r\n  }\r\n\r\n  if (width <= 5) {\r\n    color = \"rgb(0, 10, 37)\";\r\n  } else if (width > 5 && width <= 10) {\r\n    color = \"rgb(0, 11, 38)\";\r\n  } else if (width > 10 && width <= 15) {\r\n    color = \"rgb(0, 12, 39)\";\r\n  } else if (width > 15 && width <= 20) {\r\n    color = \"rgb(0, 13, 40)\";\r\n  } else if (width > 20 && width <= 25) {\r\n    color = \"rgb(0, 14, 41)\";\r\n  } else if (width > 25 && width <= 30) {\r\n    color = \"rgb(0, 15, 42)\";\r\n  } else if (width > 30 && width <= 35) {\r\n    color = \"rgb(0, 16, 43)\";\r\n  } else if (width > 35 && width <= 40) {\r\n    color = \"rgb(0, 17, 44)\";\r\n  } else if (width > 40 && width <= 45) {\r\n    color = \"rgb(0, 18, 45)\";\r\n  } else if (width > 45 && width <= 50) {\r\n    color = \"rgb(0, 19, 46)\";\r\n  } else if (width > 50 && width <= 55) {\r\n    color = \"rgb(0, 20, 47)\";\r\n  } else if (width > 55 && width <= 60) {\r\n    color = \"rgb(0, 21, 48)\";\r\n  } else if (width > 60 && width <= 65) {\r\n    color = \"rgb(0, 22, 49)\";\r\n  } else if (width > 65 && width <= 70) {\r\n    color = \"rgb(0, 23, 50)\";\r\n  } else if (width > 70 && width <= 75) {\r\n    color = \"rgb(0, 24, 51)\";\r\n  } else if (width > 75 && width <= 80) {\r\n    color = \"rgb(0, 25, 52)\";\r\n  } else if (width > 85 && width <= 85) {\r\n    color = \"rgb(0, 26, 53)\";\r\n  } else if (width > 85 && width <= 90) {\r\n    color = \"rgb(0, 27, 54)\";\r\n  } else if (width > 90 && width <= 95) {\r\n    color = \"rgb(0, 28, 55)\";\r\n  } else if (width > 95 && width <= 100) {\r\n    color = \"rgb(0, 29, 56)\";\r\n  }\r\n\r\n  color = \"#5f89ad\";\r\n\r\n  console.log(color);\r\n  width += \"%\";\r\n\r\n  const styles = {\r\n    percentage: {\r\n      width,\r\n      background: color,\r\n      animation: \"animatePercentage 1s\"\r\n    },\r\n    modal: {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"nutrient-container\" styles={styles}>\r\n      <div styles={styles} className=\"nutrient flex space-between align-center\">\r\n        <div className=\"percentage\" style={styles.percentage}></div>\r\n        <div className=\"nutrient-name-and-data\">\r\n          <div className=\"nutrient-name\">{props.name}</div>\r\n          <div className=\"nutrient-data\">\r\n            {OutOfText}\r\n            {props.measurement}\r\n            {false && (\r\n              <i\r\n                className=\"lnr lnr-user icon\"\r\n                onClick={() => props.showDetailsModal(props.name)}\r\n              ></i>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nNutrientData.displayName = \"NutrientData\";\r\n\r\n// NutrientData.propTypes = {\r\n//     className: PropTypes.string,\r\n// };\r\n\r\nexport default NutrientData;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setLoader } from '../../actions/loading.actions'; \r\nimport { toggleDetails } from '../../actions/details.actions';\r\n//import { calculateTotals } from './totals_actions';\r\nimport NutrientData from './NutrientData';\r\nimport * as styles from './styles.scss';\r\nimport * as vitaminsObj from '../../vitamins.json';\r\n\r\nexport class TodaysTotals extends Component {\r\n/* basically this.vitsMinsCals.map( v => {\r\n    foodDrinks.map(f => {\r\n      \r\n\r\n    })\r\n})*/\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: 'My Totals',\r\n      vitaminsUpdated: false,\r\n      selctedVitamin: '',\r\n      showVitaminDetailsModal: false,\r\n      userHasNoMeals: false,\r\n      vitaminsMineralsCalories: [\r\n        {\r\n          name: 'Calories',\r\n          id: 'calories',\r\n          inputName: 'calories',\r\n          rda: 2000,\r\n          measurement: 'mcg',\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-A\",\r\n          id: \"vitamin-a\",\r\n          inputName: \"vitaminA\",\r\n          rda: 900,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B1\",\r\n          id: \"vitamin-b1\",\r\n          inputName: \"vitaminB1\",\r\n          rda: 1.2,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B2\",\r\n          id:   \"vitamin-b2\",\r\n          inputName: \"vitaminB2\",\r\n          rda: 1.3,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B3\",\r\n          id: \"vitamin-b3\",\r\n          inputName: \"vitaminB3\",\r\n          rda: 16,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B5\",\r\n          id: \"vitamin-B5\",\r\n          inputName: \"vitaminB5\",\r\n          rda: 5,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B6\",\r\n          id: \"vitamin-b6\",\r\n          inputName: \"vitaminB6\",\r\n          rda: 1.3,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B7\",\r\n          id: \"vitamin-b7\",\r\n          inputName: \"vitaminB7\",\r\n          rda: 30,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-B12\",\r\n          id: \"vitamin-b12\",\r\n          inputName: \"vitaminB12\",\r\n          rda: 2.4,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Calcium\",\r\n          id: \"calcium\",\r\n          inputName: \"calcium\",\r\n          rda: 1000,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Choline\",\r\n          id: \"choline\",\r\n          inputName: \"choline\",\r\n          rda: 550,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Chromium\",\r\n          id: \"chromium\",\r\n          inputName: \"chromium\",\r\n          rda: 35,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Copper\",\r\n          id: \"copper\",\r\n          inputName: \"copper\",\r\n          rda: 900,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Fluoride\",\r\n          id: \"fluoride\",\r\n          inputName: \"fluoride\",\r\n          rda: 4,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Folic Acid\",\r\n          id: \"folic-acid\",\r\n          inputName: \"folicAcid\",\r\n          rda: 400,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Iodine\",\r\n          id: \"iodine\",\r\n          inputName: \"iodine\",\r\n          rda: 150,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Iron\",\r\n          id: \"iron\",\r\n          inputName: \"iron\",\r\n          rda: 8,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Magnesium\",\r\n          id: \"magnesium\",\r\n          inputName: \"magnesium\",\r\n          rda: 400,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Manganese\",\r\n          id: \"manganese\",\r\n          inputName: \"manganese\",\r\n          rda: 2.3,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Molybdenum\",\r\n          id: \"molybdenum\",\r\n          inputName: \"molybdenum\",\r\n          rda: 45,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Phosphorus\",\r\n          id: \"phosphorus\",\r\n          inputName: \"phosphorus\",\r\n          rda: 700,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Potassium\",\r\n          id: \"potassium\",\r\n          inputName: \"potassium\",\r\n          rda: 4700,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Selenium\",\r\n          id: \"selenium\",\r\n          inputName: \"selenium\",\r\n          rda: 55,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Salt\",\r\n          id: \"salt\",\r\n          inputName: \"salt\",\r\n          rda: 500,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-D3\",\r\n          id: \"vitamin-d3\",\r\n          inputName: \"vitaminD3\",\r\n          rda: 10000,\r\n          iuValue: 0,   \r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-D3\",\r\n          id: \"vitamin-d3\",\r\n          inputName: \"vitaminD3\",\r\n          rda: 10000,\r\n          iuValue: 0,   \r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-E\",\r\n          id: \"vitamin-e\",\r\n          inputName: \"vitaminE\",\r\n          rda: 15,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Vitamin-K\",\r\n          id: \"vitamin-k\",\r\n          inputName: \"vitaminK\",\r\n          rda: 120,\r\n          measurement: \"mcg\",\r\n          total: 0\r\n        },\r\n        {\r\n          name: \"Zinc\",\r\n          id: \"zinc\",\r\n          inputName: \"zinc\",\r\n          rda: 11,\r\n          measurement: \"mg\",\r\n          total: 0\r\n        }\r\n      ],\r\n      vitamins: [vitaminsObj.vitamins],\r\n      totalsAreCalculated: false\r\n    }\r\n\r\n    //const { user } = this.props;\r\n    // if (user.isAuthenticated && this.userHasMealsToday()) {     \r\n    //   if (user.meals.some(meal => meal.foodDrinks.length)) {\r\n    //     this.props.calculateTotals();\r\n    //   }\r\n    // }\r\n\r\n    document.title = \"Todays Totals\";\r\n  }\r\n\r\n\r\n\r\n  componentDidMount(){\r\n    const { user  } = this.props;\r\n\r\n    // TODO \r\n    // Probalby detele this.\r\n    // Use either reducer or context\r\n    // totalsAreCalculated\r\n    // if !totalsAreCalculated then perform this\r\n    if (user.isAuthenticated) {\r\n      this.beginCalculateTotalsChecks();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { user } = this.props;\r\n\r\n    // Handles page refresh\r\n    if (!prevProps.user.isAuthenticated && user.isAuthenticated) {\r\n      this.beginCalculateTotalsChecks();\r\n    }\r\n  }\r\n\r\n\r\n  userHasMealsToday = () => {\r\n    const { user } = this.props;\r\n    return user.meals && user.meals.length > 0;\r\n  }\r\n\r\n  someMealsAreNotEmpty = () => {\r\n    return this.props.user.meals.map(meal => {\r\n      meal.foodDrinks.some(fd => {\r\n        return '_id' in fd;\r\n      });\r\n    });\r\n  }\r\n\r\n  beginCalculateTotalsChecks = () => {\r\n      if (this.userHasMealsToday() && this.someMealsAreNotEmpty()) {\r\n        let mealsToCalculate = this.props.user.meals.filter(meal => meal.foodDrinks.length);\r\n        mealsToCalculate.forEach(({ foodDrinks }) => this.calculateTotals(foodDrinks));        \r\n      } else {\r\n        // User has no meals\r\n        // Or all meals are empty\r\n        // ... display message\r\n      }\r\n  }\r\n\r\n  calculateTotals(mealsData) {\r\n    let strippedMealsData = mealsData.map(meal => this.deleteNonVitaminsMineralsCalories(meal));\r\n\r\n\r\n    this.setState(prevState => {\r\n      let newState = {...prevState};\r\n\r\n      let newVitaminsMineralsCalories = newState.vitaminsMineralsCalories.map((nutritionalDataObject, index) => {\r\n        strippedMealsData.forEach(mealData => {\r\n          nutritionalDataObject.total += mealData[nutritionalDataObject.inputName]\r\n        });\r\n\r\n        return nutritionalDataObject;\r\n      });\r\n\r\n\r\n      return { \r\n        ...prevState, \r\n        totalsAreCalculated: true,\r\n        vitaminsMineralsCalories: [...newVitaminsMineralsCalories] \r\n      }\r\n      \r\n    }, () => console.log(this.state));\r\n  }\r\n\r\n  deleteNonVitaminsMineralsCalories = (foodDrink) => {\r\n    delete foodDrink.servingSize;\r\n    delete foodDrink.numOfServings;\r\n    delete foodDrink.measurements;\r\n    delete foodDrink.foodOrDrink;\r\n    delete foodDrink.selectedMeasurement;\r\n    delete foodDrink._id;\r\n    delete foodDrink.name;\r\n\r\n    return foodDrink;\r\n  } \r\n\r\n  outputTodaysTotals = () => { \r\n  \r\n    return this.state.vitaminsMineralsCalories.map((nutritionalDataObject, index) => {\r\n      return <NutrientData \r\n                      name={nutritionalDataObject.name}\r\n                      measurement={nutritionalDataObject.measurement}\r\n                      total={nutritionalDataObject.total}\r\n                      rda={nutritionalDataObject.rda}\r\n                      key={index}  \r\n                      showDetailsModal={ this.showVitaminDetailsModal  }\r\n                      onClick={ () => { this.setState({ selectedVitamin: nutritionalDataObject.name }) }} /> \r\n    });\r\n  }\r\n\r\n  showVitaminDetailsModal = () => {    \r\n    this.setState({ showVitaminDetailsModal: true });\r\n  }\r\n\r\n  render() {\r\n    const { vitamins, userHasNoMeals } = this.state;\r\n    const { user } = this.props;\r\n    let Nutrients;\r\n    let UserHasNoMealsMessage;\r\n    \r\n    if (!this.userHasMealsToday()) {\r\n      UserHasNoMealsMessage = (<div>You haven't made any meals today.</div>);\r\n    } else if (this.someMealsAreNotEmpty() && this.state.totalsAreCalculated) {\r\n      Nutrients = this.outputTodaysTotals();\r\n    }\r\n\r\n    return (\r\n      <div id=\"totals\" className=\"view center-all\" styles={styles}>\r\n        <h1 className=\"view-title\">{ this.state.title }</h1>\r\n        <div className=\"totals-chart\">\r\n          {UserHasNoMealsMessage}\r\n          {Nutrients}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    ...state,\r\n    user: state.userReducers,\r\n    showDetails: state.detailsReducers.showDetails\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setLoader: (load, text) => dispatch(setLoader(load, text)),\r\n    toggleDetails: showDetails => { dispatch( toggleDetails(showDetails) ) }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TodaysTotals);\r\n","import {\r\n\tTOGGLE_DETAILS\r\n} from './types';\r\n\r\n// export const setText = ( title = '', body = '' ) => {\r\n// \treturn {\r\n// \t\ttype: SET_TEXT,\r\n// \t\tpayload: {\r\n// \t\t\ttitle,\r\n// \t\t\tbody\r\n// \t\t}\r\n// \t}\r\n// };\r\n\r\nexport const toggleDetails = ( showDetails ) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_DETAILS,\r\n\t\tpayload: {\r\n\t\t\tshowDetails\r\n\t\t}\r\n\t}\r\n};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as ConsumedStyles from \"./styles.scss\";\r\n\r\nexport class Consumed extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"consumed view\" styles={ConsumedStyles}>\r\n        <h1 className=\"view-title\">Consumed</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    ...state\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {};\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Consumed);\r\n","import React, { Component } from 'react';\r\nimport * as PageNotFoundStyles from './styles.scss';\r\n\r\n/**\r\n * PageNotFound\r\n */\r\nexport const PageNotFound = props => {\r\n  \r\n    return (\r\n      <div className=\"page-not-found view-with-padding flex center-all\" styles={PageNotFoundStyles}>\r\n        <h1>Sorry that page doesn't exist.</h1>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Menu = props => {\r\n  // TODO tried connecting to redux and signing out with an action\r\n  // though showed props.signOut is not a function.\r\n  // why?s\r\n\r\n  return (\r\n    <div id=\"header-menu-dropdown\" className=\"\">\r\n      <div className=\"arrow\"></div>\r\n      <div\r\n        className=\"flex column justify-center align-start\"\r\n        onClick={() => {\r\n          props.closeMenu();\r\n        }}\r\n      >\r\n        <Link className=\"menu-item\" to=\"/\">\r\n          Home\r\n        </Link>\r\n        <Link className=\"menu-item\" to=\"/dashboard\">\r\n          Dashboard\r\n        </Link>\r\n        <div className=\"menu-item sign-out\" onClick={props.signOut}>\r\n          Sign Out\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\n\r\nimport { beginSigningOut } from \"../../actions/user.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport { toggleMenu } from \"../../actions/menu.actions\";\r\nimport { Menu } from \"./Menu\";\r\nimport * as HeaderStyles from \"./styles.scss\";\r\nimport configs from \"../../configs\";\r\nimport classNames from \"classnames\";\r\nexport class Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentRoute: \"\",\r\n      communicationType: \"message\",\r\n      menuOpen: false,\r\n      userSelectedSignOut: false,\r\n      userMenuIsVisible: false,\r\n      isDesktopViewport: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //console.log(`window.innerWidth`, window.innerWidth);\r\n    this.setState({\r\n      isDesktopViewport:\r\n        window.innerWidth < configs.minDesktopViewport ? false : true\r\n    });\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      //console.log(`resize window.innerWidth`, window.innerWidth);\r\n      this.setState({\r\n        isDesktopViewport:\r\n          window.innerWidth < configs.minDesktopViewport ? false : true\r\n      });\r\n    });\r\n  }\r\n\r\n  signOut = () => {\r\n    this.props.signOut();\r\n  };\r\n\r\n  closeMenu = () => {\r\n    this.setState({ userMenuIsVisible: false });\r\n  };\r\n\r\n  render() {\r\n    const { isDesktopViewport } = this.state;\r\n    const {\r\n      user,\r\n      siteName,\r\n      menuOpen,\r\n      location: { pathname }\r\n    } = this.props;\r\n\r\n    // TODO what is this?\r\n    if (this.state.userSelectedSignOut) {\r\n      return <Redirect to=\"/signin\" />;\r\n    }\r\n\r\n    let IsAuthenticatedMenu;\r\n    let MobileIsAuthenticatedMenu;\r\n    let NotAuthenticatedRoutes;\r\n\r\n    if (!user.isAuthenticated) {\r\n      NotAuthenticatedRoutes = (\r\n        <nav id=\"header-menu\" className=\"header-menu not-authenticated\">\r\n          <div>\r\n            <Link to=\"/signin\">Sign In</Link>\r\n          </div>\r\n          <div>\r\n            <Link className=\"register-link\" to=\"/register\">\r\n              Sign Up\r\n            </Link>\r\n          </div>\r\n        </nav>\r\n      );\r\n    } else {\r\n      IsAuthenticatedMenu = (\r\n        <nav id=\"header-menu\" className=\"header-menu is-authenticated\">\r\n          <Link className=\"make-a-meal\" to=\"/make-a-meal\">\r\n            Make A Meal\r\n          </Link>\r\n          <Link className=\"dashboard\" to=\"/dashboard\">\r\n            Dashboard\r\n          </Link>\r\n          <Link className=\"totals\" to=\"/totals\">\r\n            Todays Totals\r\n          </Link>\r\n          <h2\r\n            className=\"header-user-name\"\r\n            onMouseLeave={() => {\r\n              this.setState({ userMenuIsVisible: false });\r\n            }}\r\n            onClick={() => {\r\n              this.setState({\r\n                userMenuIsVisible: !this.state.userMenuIsVisible\r\n              });\r\n            }}\r\n          >\r\n            {user.username.length && user.username.length >= 15\r\n              ? user.username.substr(0, 15) + \"...\"\r\n              : user.username}\r\n            <i className=\"fa fa-caret-down\" />\r\n            {this.state.userMenuIsVisible && (\r\n              <Menu signOut={this.signOut} closeMenu={this.closeMenu} />\r\n            )}\r\n          </h2>\r\n        </nav>\r\n      );\r\n\r\n      MobileIsAuthenticatedMenu = (\r\n        <nav\r\n          id=\"mobile-header-menu\"\r\n          className=\"header-menu mobile-is-authenticated\"\r\n        >\r\n          <h2\r\n            className=\"header-user-name flex center-all\"\r\n            onMouseLeave={() => {\r\n              this.setState({ userMenuIsVisible: false });\r\n            }}\r\n            onClick={() => {\r\n              this.setState({\r\n                userMenuIsVisible: !this.state.userMenuIsVisible\r\n              });\r\n            }}\r\n          >\r\n            {user.username}\r\n            <i className=\"fa fa-caret-down\" />\r\n            {this.state.userMenuIsVisible && (\r\n              <Menu signOut={this.signOut} closeMenu={this.closeMenu} />\r\n            )}\r\n          </h2>\r\n        </nav>\r\n      );\r\n    }\r\n\r\n    const headerClassNames = classNames(\"header\", {\r\n      \"dark-header\": this.props.location.pathname !== \"/\"\r\n    });\r\n\r\n    return (\r\n      <header\r\n        styles={HeaderStyles}\r\n        id={this.props.location.pathname !== \"/\" ? \"dark-header\" : \"\"}\r\n        className=\"header\"\r\n      >\r\n        <h1\r\n          className={`header-site-name ${\r\n            !user.isAuthenticated && !isDesktopViewport\r\n              ? \"center-site-name\"\r\n              : \"\"\r\n          }`}\r\n        >\r\n          <Link to=\"/\">{siteName}</Link>\r\n        </h1>\r\n\r\n        <div className=\"header-right-container flex row\">\r\n          {!isDesktopViewport && MobileIsAuthenticatedMenu}\r\n          {isDesktopViewport && IsAuthenticatedMenu}\r\n          {NotAuthenticatedRoutes}\r\n        </div>\r\n\r\n        <div\r\n          className={`header-menu-toggler ${\r\n            menuOpen ? \"menu-toggler-hidden\" : \"\"\r\n          } `}\r\n          onClick={this.props.toggleMenu}\r\n        >\r\n          <div className={`toggler ${user.isAuthenticated ? \"\" : \"none\"}`}>\r\n            <span className={`${menuOpen ? \"background-white\" : \"\"} `} />\r\n            <span className={`${menuOpen ? \"background-white\" : \"\"} `} />\r\n            <span className={`${menuOpen ? \"background-white\" : \"\"} `} />\r\n            <span className={`${menuOpen ? \"background-white\" : \"\"} `} />\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    menuOpen: state.menuReducers.menuOpen,\r\n    user: state.userReducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setLoader: (isLoading, loadingText) =>\r\n      dispatch(setLoader(isLoading, loadingText)),\r\n    toggleMenu: () => dispatch(toggleMenu()),\r\n    signOut: () => dispatch(beginSigningOut())\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(Header)\r\n);\r\n","import { TOGGLE_MENU } from \"./types\";\r\n\r\nexport const toggleMenu = () => {\r\n\treturn {\r\n\t\ttype: TOGGLE_MENU\r\n\t}\r\n};","import React, { Component } from \"react\";\r\n\r\nexport default class Account extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return <div>Account</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FormError from \"../../components/FormError\";\r\nimport { beginPasswordReset } from \"../../actions/user.actions\";\r\nimport * as ResetPasswordStyles from \"./styles.scss\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\n\r\nexport class ResetPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      formSubmitted: false,\r\n      email: \"\",\r\n      emailSentSuccessful: false,\r\n      formErrorText: \"\",\r\n      emailErrorText: \"\"\r\n    };\r\n  }\r\n\r\n  handleOnChange = event => {\r\n    console.log(`handleOnChange event`, event.target.value);\r\n    this.setState(\r\n      {\r\n        email: event.target.value\r\n      },\r\n      () => {\r\n        console.log(this.state.email);\r\n      }\r\n    );\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    console.log(`handleSubmit`, event.target.value);\r\n    this.props.beginPasswordReset(this.state.email.trim());\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"reset-password flex column view-with-padding center-all\"\r\n        styles={ResetPasswordStyles}\r\n      >\r\n        <div id=\"headings-and-form-container\">\r\n          <h1 className=\"view-title\">Forgot Password</h1>\r\n          <h2>\r\n            Enter your email address and we will send you a link to reset your\r\n            password.\r\n          </h2>\r\n          <form noValidate>\r\n            <div class=\"form-control\">\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                onChange={this.handleOnChange}\r\n              />\r\n              <button type=\"button\" onClick={this.handleSubmit}>\r\n                Reset Password\r\n              </button>\r\n              <FormError error={this.state.formError} />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    beginPasswordReset: email => dispatch(beginPasswordReset(email)),\r\n    setLoader: (isVisible, text, showSpinner = false) =>\r\n      dispatch(setLoader(isVisible, text, showSpinner))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ResetPassword);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { confirmResetPasswordToken } from \"../../services/user.service\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport * as CSS from \"./styles.scss\";\r\nimport { PASSWORDS_MATCH_ERROR_TEXT, EMAIL_REGEX } from \"../../constants\";\r\nimport configs from \"../../configs\";\r\nimport * as _ from \"lodash\";\r\nimport axios from \"axios\";\r\n\r\nconst styles = {\r\n  a: {\r\n    color: \"#000\"\r\n  }\r\n};\r\n\r\nexport class ConfirmResetPasswordToken extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isMounted: false,\r\n      isValidToken: false,\r\n      showForm: false,\r\n      formSubmitted: false,\r\n      isValidForm: false,\r\n      password: \"\",\r\n      confirm: \"\",\r\n      email: \"\",\r\n      passwordErrorText: \"\",\r\n      confirmErrorText: \"\",\r\n      emailErrorText: \"\",\r\n      formErrorText: \"\",\r\n      email: \"\"\r\n    };\r\n\r\n    document.title = \"Reset Password\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setLoader(true, \"\", true);\r\n    this.setState({ isMounted: true }, () => {\r\n      console.log(this.props.match.params.token);\r\n      const token = this.props.match.params.token;\r\n\r\n      if (token) {\r\n        confirmResetPasswordToken(token)\r\n          .then(response => {\r\n            if (response.status === 200 || response.status === 304) {\r\n              this.props.setLoader(false);\r\n              this.setState({\r\n                isValidToken: true,\r\n                showForm: true,\r\n                email: response.data.email\r\n              });\r\n            } else if (response.status === 404) {\r\n              this.props.setLoader(false);\r\n              this.setState({\r\n                showForm: false,\r\n                invalidToken: true\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.log(\r\n              `An error occured confirming reset password token`,\r\n              error\r\n            );\r\n            this.props.setLoader(false);\r\n            this.setState({\r\n              showForm: false,\r\n              invalidToken: true\r\n            });\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  inputsAreAllPopulated = () => {\r\n    console.log(`inputsAreAllPopulated()`);\r\n    // TODO: I just added the document.getElem ... test if it works.\r\n    let state = this.state;\r\n    let password = document.getElementById(\"password\").value.replace(\" \", \"\");\r\n    let confirm = document.getElementById(\"confirm\").value.replace(\" \", \"\");\r\n\r\n    return (\r\n      state.password.replace(\" \", \"\") &&\r\n      password &&\r\n      state.confirm.replace(\" \", \"\") &&\r\n      confirm !== \"\"\r\n    );\r\n  };\r\n\r\n  handleOnChange = ({ target: { name, value } }) => {\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleOnBlur = () => {\r\n    const { email } = this.state;\r\n\r\n    _.delay(function() {\r\n      if (email.trim() === \"\") {\r\n        // this.emailErrorText = 'Email required'\r\n        this.setState({\r\n          emailErrorText: \"Email required\"\r\n        });\r\n      }\r\n\r\n      if (email.trim() !== \"\" && !this.isValidEmail(email)) {\r\n        this.setState({\r\n          emailErrorText: \"Invalid email\"\r\n        });\r\n      }\r\n\r\n      if (email.trim() !== \"\" && this.isValidEmail(email)) {\r\n        this.setState({\r\n          emailErrorText: \"\"\r\n        });\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  sendNewEmailLink = () => {\r\n    axios(`${configs.apiUrl}/auth/send-new-reset-password-email`, {\r\n      method: \"POST\",\r\n      data: {\r\n        email: this.state.email\r\n      }\r\n    })\r\n      .then(response => {\r\n        console.log(response);\r\n      })\r\n      .catch(error => {\r\n        console.log(`An error occured sending a new email link`, error);\r\n      });\r\n  };\r\n\r\n  onSubmit = () => {\r\n    this.setState(\r\n      {\r\n        formSubmitted: true\r\n      },\r\n      () => {\r\n        if (this.inputsAreAllPopulated()) {\r\n          if (this.passwordsMatch()) {\r\n            console.log(`inputsAreAllPopualted passwordMatch`);\r\n            this.setState({ formSubmitted: true }, () => {\r\n              axios(`${configs.apiUrl}/auth/reset-password`, {\r\n                method: \"POST\",\r\n                withCredentials: true,\r\n                data: {\r\n                  email:\r\n                    this.state.email && this.state.email !== \"\"\r\n                      ? this.state.email\r\n                      : \"\",\r\n                  password: this.state.password\r\n                }\r\n              })\r\n                .then(response => {\r\n                  console.log(response);\r\n                  this.setState({ formSubmitted: true });\r\n                })\r\n                .catch(error => {\r\n                  console.log(error);\r\n                });\r\n            });\r\n          } else {\r\n            // set formErrorText 'Password's don't match'\r\n          }\r\n        } else {\r\n          // set formErrorText 'Fill out the form'\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  passwordsMatch = () => {\r\n    return (\r\n      this.state.password.replace(\" \", \"\") ===\r\n      this.state.confirm.replace(\" \", \"\")\r\n    );\r\n  };\r\n\r\n  isValidEmail = email => {\r\n    return email.match(EMAIL_REGEX);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"confirm-reset-password-token\">\r\n        {!this.state.isMounted && <></>}\r\n        {this.state.isMounted && this.state.invalidToken && (\r\n          <div id=\"invalid-token\" className=\"flex column center-all\">\r\n            <h1>\r\n              Looks like that link expired. <br /> Enter your email address to\r\n              have another one sent\r\n            </h1>\r\n            <form>\r\n              <input\r\n                name=\"email\"\r\n                type=\"email\"\r\n                onChange={this.handleOnChange}\r\n                onBlur={this.handleOnBlur}\r\n                placeholder=\"Email address\"\r\n              />\r\n              <button type=\"button\" onClick={this.sendNewEmailLink}>\r\n                Send new link\r\n              </button>\r\n              <div className=\"form-error\">{this.state.emailErrorText}</div>\r\n            </form>\r\n          </div>\r\n        )}\r\n        {this.state.isMounted && this.state.showForm && (\r\n          <div\r\n            className=\"confirm-reset-password-token flex column center-all view-with-padding\"\r\n            styles={CSS}\r\n          >\r\n            <input type=\"email\" placeholder=\"Email address\" />\r\n            <div id=\"h1-and-form-container\">\r\n              <h1>New password</h1>\r\n              {this.state.formErrorText}\r\n              <form className=\"flex  column center-all\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"New password\"\r\n                  onChange={this.handleOnChange}\r\n                  onBlur={this.handleOnBlur}\r\n                />\r\n                {this.state.passwordErrorText}\r\n                <input\r\n                  id=\"confirm\"\r\n                  name=\"confirm\"\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm new password\"\r\n                  onChange={this.handleOnChange}\r\n                  onBlur={this.handleOnBlur}\r\n                />\r\n                {this.state.confirmErrorText}\r\n                <button type=\"button\" onClick={this.onSubmit}>\r\n                  Save new password\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { ...state };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setLoader: (isVisible, text, showSpinner = false) =>\r\n      dispatch(setLoader(isVisible, text, showSpinner))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ConfirmResetPasswordToken);\r\n","import Home from \"./routes/home\";\r\nimport Register from \"./routes/register\";\r\nimport SignIn from \"./routes/signin\";\r\nimport CreateProfileAfterRegister from \"./routes/create\";\r\nimport Dashboard from \"./routes/Dashboard\";\r\nimport NewConsumable from \"./routes/new-consumable\";\r\nimport EditConsumable from \"./routes/edit-consumable\";\r\nimport TodaysTotals from \"./routes/todays-totals\";\r\nimport Consumed from \"./routes/Consumed\";\r\nimport MakeAMeal from \"./routes/make-a-meal\";\r\nimport PageNotFound from \"./routes/404\";\r\nimport Account from \"./routes/Account\";\r\nimport ResetPassword from \"./routes/reset-password\";\r\nimport ConfirmResetPasswordToken from \"./routes/confirm-reset-password-token\";\r\n\r\nexport const notAuthenticatedRoutes = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    component: Home\r\n  },\r\n  {\r\n    name: \"Register\",\r\n    path: \"/register\",\r\n    component: Register\r\n  },\r\n  {\r\n    name: \"Sign In\",\r\n    path: \"/signin\",\r\n    component: SignIn\r\n  },\r\n  {\r\n    name: \"Intro Profile\",\r\n    path: \"/intro-profile\",\r\n    component: CreateProfileAfterRegister\r\n  },\r\n  {\r\n    name: \"Reset Password\",\r\n    path: \"/reset-password\",\r\n    component: ResetPassword\r\n  }\r\n];\r\n\r\nexport const footerRoutes = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    component: Home\r\n  },\r\n  {\r\n    name: \"Dashboard\",\r\n    path: \"/dashboard\",\r\n    component: Home\r\n  },\r\n  {\r\n    name: \"Todays totals\",\r\n    path: \"/totals\",\r\n    component: TodaysTotals\r\n  },\r\n  {\r\n    name: \"Make a meal\",\r\n    path: \"/totals\",\r\n    component: MakeAMeal\r\n  }\r\n];\r\n\r\nexport const authenticatedRoutes = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    component: Home\r\n  },\r\n  // {\r\n  //   name: 'Search',\r\n  //   path: '/search',\r\n  //   component: Search\r\n  // },\r\n  {\r\n    name: \"Dashboard\",\r\n    path: \"/dashboard\",\r\n    component: Dashboard\r\n  },\r\n  {\r\n    name: \"Totals\",\r\n    path: \"/totals\",\r\n    component: TodaysTotals\r\n  },\r\n  {\r\n    name: \"Make A Meal\",\r\n    path: \"/make-a-meal\",\r\n    component: MakeAMeal\r\n  },\r\n\r\n  // {\r\n  //   name: 'Details',\r\n  //   path: '/totals/details',\r\n  //   component: Details\r\n  // },\r\n  // {\r\n  //   name: 'Vitamins',\r\n  //   path: '/dashboard/totals/vitamins',\r\n  //   component: Vitamins\r\n  // },\r\n  {\r\n    name: \"Add\",\r\n    path: \"/dd\",\r\n    component: NewConsumable\r\n  },\r\n  {\r\n    name: \"Edit\",\r\n    path: \"/edit\",\r\n    component: EditConsumable\r\n  },\r\n  {\r\n    name: \"Consumed\",\r\n    path: \"/consumed\",\r\n    component: Consumed\r\n  },\r\n  {\r\n    name: \"Account\",\r\n    path: \"/account\",\r\n    component: Account\r\n  },\r\n  {\r\n    name: \"Reset Password\",\r\n    path: \"/reset-password\",\r\n    component: ResetPassword\r\n  }\r\n];\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  notAuthenticatedRoutes,\r\n  authenticatedRoutes\r\n} from \"../../routesConfig\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as FooterStyles from \"./styles.scss\";\r\n\r\nexport class Footer extends Component {\r\n  footerRoutes;\r\n  render() {\r\n    const { user } = this.props;\r\n    let routesToMapOver;\r\n    let routes;\r\n\r\n    if (user && user.hasOwnProperty(\"username\")) {\r\n      routesToMapOver = authenticatedRoutes;\r\n    } else {\r\n      routesToMapOver = notAuthenticatedRoutes;\r\n    }\r\n\r\n    this.footerRoutes =\r\n      user.username !== \"\" ? authenticatedRoutes : notAuthenticatedRoutes;\r\n\r\n    routes = this.footerRoutes.map((route, index) => {\r\n      return (\r\n        <Link to={route.path} key={index + 1}>\r\n          {route.name}\r\n        </Link>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <footer style={FooterStyles}>\r\n        <section\r\n          className={`routes ${\r\n            user.username !== \"\"\r\n              ? \"authenticatedRoutes\"\r\n              : \"notAuthenticatedRoutes\"\r\n          }`}\r\n        >\r\n          {routes}\r\n        </section>\r\n        <section className=\"info flex center-all\">\r\n          <ul>\r\n            <li className=\"have-any-questions\">\r\n              Have any questions?&nbsp;&nbsp;\r\n              <Link to=\"contact-us\">\r\n                <br />\r\n                Contact Us\r\n              </Link>\r\n            </li>\r\n            <li className=\"created-by\">\r\n              Created by{\" \"}\r\n              <a\r\n                href=\"https://www.upwork.com/fl/kevinfdev\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Kevin Freistroffer\r\n              </a>\r\n            </li>\r\n            <li className=\"copyright\">Copyright 2018</li>\r\n          </ul>\r\n        </section>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userReducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {};\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Footer);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { toggleMenu } from \"../../actions/menu.actions\";\r\nimport { beginSigningOut } from \"../../actions/user.actions\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport {\r\n  authenticatedRoutes,\r\n  notAuthenticatedRoutes\r\n} from \"../../routesConfig\";\r\nimport * as MenuStyles from \"./styles.scss\";\r\nimport classNames from \"classnames\";\r\n\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nexport class Menu extends Component {\r\n  // eslint-disable-line react/prefer-stateless-function\r\n  routes;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      menuState: \"closed\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.routes =\r\n      this.props.username !== \"\" ? authenticatedRoutes : notAuthenticatedRoutes;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.username === \"\" && this.props.username !== \"\") {\r\n      this.routes = authenticatedRoutes;\r\n    }\r\n  }\r\n\r\n  signOut = () => {\r\n    this.props.toggleMenu();\r\n    this.props.beginSigningOut();\r\n  };\r\n\r\n  render() {\r\n    const menuClassNames = classNames({});\r\n    const { siteName, toggleMenu } = this.props;\r\n\r\n    return (\r\n      <div className=\"menu column\" styles={MenuStyles}>\r\n        <div className=\"menu-header flex row space-between align-center\">\r\n          <h1>Menu</h1>\r\n          <div className=\"close-menu\" onClick={toggleMenu}>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n        </div>\r\n        <nav className=\"flex column space-around\">\r\n          {this.routes &&\r\n            this.routes.map((route, index) => {\r\n              if (route.name !== \"Intro Profile\") {\r\n                return (\r\n                  <Link key={index + 1} to={route.path} onClick={toggleMenu}>\r\n                    <span className=\"icon-column\"></span>\r\n                    {route.name}\r\n                  </Link>\r\n                );\r\n              } else {\r\n                return null;\r\n              }\r\n            })}\r\n          {this.props.isAuthenticated && (\r\n            <a href=\"#\" onClick={this.beginSigningOut}>\r\n              <span className=\"icon-column flex align-center\">\r\n                <ExitToAppIcon />{\" \"}\r\n              </span>\r\n              Sign Out\r\n            </a>\r\n          )}\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: state.userReducers.username,\r\n    isAuthenticated: state.userReducers.isAuthenticated,\r\n    menuOpen: state.menuReducers.menuOpen\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    beginSigningOut: () => dispatch(beginSigningOut()),\r\n    setLoader: (isLoading = false, loadingText = \"\") =>\r\n      dispatch(setLoader(isLoading, loadingText)),\r\n    toggleMenu: () => dispatch(toggleMenu())\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Menu);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as LoadingStyles from './loading.scss';\r\nimport { setLoader } from '../../actions/loading.actions';\r\nimport loadingGif from './loadingGif.gif';\r\n\r\nexport class Loading extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.isLoading) {\r\n      return(\r\n        <div id=\"loading\" styles={LoadingStyles}>\r\n          <h2>{this.props.text}</h2>\r\n          {this.props.showSpinner && <img src={loadingGif} alt=\"Loading!\" />}\r\n        </div>\r\n      )\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoading: state.loadingReducers.isLoading,\r\n    text: state.loadingReducers.loadingText,\r\n    showSpinner: state.loadingReducers.showSpinner\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setLoader: (isLoading = false, loadingText = \"Loading ...\") => dispatch(setLoader(isLoading, loadingText))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Loading);\r\n","import React, { Component } from 'react';\r\nimport * as SearchStyles from './styles.scss';\r\n\r\nexport class Search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search view center-all\" styles={SearchStyles}>\r\n        <h1 className=\"view-title\">Search</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\nimport * as alertStyles from \"./styles.scss\";\r\n\r\nexport class Alert extends Component {\r\n\tcreateMarkup = () => {\r\n\t\treturn { __html: this.props.body };\r\n\t};\r\n\r\n\thandleOnClose = () => {\r\n\t\tthis.props.setAlert(false);\r\n\t};\r\n\t// TODO make it fade away after  9 seconds.\r\n\trender() {\r\n\t\tconst { isVisible, feeling } = this.props;\r\n\t\tconsole.log(feeling, typeof feeling);\r\n\t\tconst alertClasses = classNames(\r\n\t\t\t\"alert\",\r\n\t\t\t\"center-all\",\r\n\t\t\t{ \"block fade-in-alert\": isVisible },\r\n\t\t\t{ [feeling]: feeling }\r\n\t\t);\r\n\t\treturn (\r\n\t\t\t<div className={alertClasses} styles={alertStyles}>\r\n\t\t\t\t<h1 className=\"title\">{this.props.title}</h1>\r\n\t\t\t\t{this.props.body !== \"\" && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"body\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={this.createMarkup()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<span className=\"lnr lnr-cross\" onClick={this.handleOnClose} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\ttitle: state.alertReducers.title,\r\n\t\tbody: state.alertReducers.body,\r\n\t\tisVisible: state.alertReducers.isVisible,\r\n\t\tfeeling: state.alertReducers.feeling,\r\n\t\taddNewFoodDrinkErrors: state.userReducers.addNewFoodDrinkErrors\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsetAlert: (isVisible, title = \"\", body = \"\") =>\r\n\t\t\tdispatch(setAlert(isVisible, title, body))\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Alert);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setStayBox } from \"../../actions/staybox.actions\";\r\nimport { beginConfirm24HourMealResetMessage } from \"../../actions/user.actions\";\r\nimport * as StayBoxStyles from \"./styles.scss\";\r\n\r\nfunction createMarkup(html) {\r\n\treturn {\r\n\t\t__html: html\r\n\t};\r\n}\r\n\r\nexport const StayBox = props => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"stay-box flex row space-between align-center\"\r\n\t\t\tstyles={StayBoxStyles}\r\n\t\t>\r\n\t\t\t<div className=\"text\" dangerouslySetInnerHTML={createMarkup(props.text)} />\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"close-stay-box\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tconsole.log(props.confirm24HourMealReset);\r\n\t\t\t\t\tif (!props.confirm24HourMealReset) props.confirm24HourMealResetMessage(); \r\n\t\t\t\t\tprops.setStayBox(false, \"\");\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<span className=\"lnr lnr-cross\"> </span> \r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tisVisible: state.stayBoxReducers.isVisible,\r\n\t\ttext: state.stayBoxReducers.text,\r\n\t\tconfirm24HourMealReset: state.userReducers.confirmed24HourMealResetMessage\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tconfirm24HourMealResetMessage: () => dispatch(beginConfirm24HourMealResetMessage()),\r\n\t\tsetStayBox: (isVisible, text) => dispatch(setStayBox(isVisible, text))\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(StayBox);\r\n","import React, { Component } from \"react\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Home from \"../../routes/home\";\r\nimport Register from \"../../routes/register\";\r\nimport RegisterSuccess from \"../../routes/register-success\";\r\nimport SignIn from \"../../routes/signin\";\r\nimport ConfirmAccount from \"../../routes/confirm-account\";\r\nimport CreateProfileAfterRegister from \"../../routes/create\";\r\nimport Dashboard from \"../../routes/Dashboard\";\r\nimport MakeAMeal from \"../../routes/make-a-meal\";\r\nimport Detail from \"../../routes/make-a-meal/Detail\";\r\nimport NewConsumable from \"../../routes/new-consumable\";\r\nimport EditConsumable from \"../../routes/edit-consumable\";\r\nimport TodaysTotals from \"../../routes/todays-totals\";\r\nimport Consumed from \"../../routes/Consumed\";\r\nimport PageNotFound from \"../../routes/404\";\r\nimport Header from \"../header\";\r\nimport Footer from \"../footer\";\r\nimport Menu from \"../menu\";\r\nimport Loading from \"../loading\";\r\nimport Search from \"../search\";\r\nimport Alert from \"../alert\";\r\nimport StayBox from \"../stayBox\";\r\nimport ResetPassword from \"../../routes/reset-password\";\r\nimport ConfirmResetPasswordToken from \"../../routes/confirm-reset-password-token\";\r\nimport { setLoader } from \"../../actions/loading.actions\";\r\nimport {\r\n  authenticate,\r\n  setUser,\r\n  beginSigningOut,\r\n  resetIsSignedUp,\r\n  setFormError\r\n} from \"../../actions/user.actions\";\r\nimport { calculateTotals } from \"../../actions/totals.actions\";\r\nimport { setAlert } from \"../../actions/alert.actions\";\r\nimport { setStayBox } from \"../../actions/staybox.actions\";\r\nimport * as AppStyles from \"./styles.scss\";\r\nimport cookie from \"my-simple-cookie\";\r\n\r\nexport class App extends Component {\r\n  locationListener;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    axios.defaults.headers.post[\"crossDomain\"] = true;\r\n    document.title = \"illLive!\";\r\n    this.handleStayBoxSetIsVisible = this.handleStayBoxSetIsVisible.bind(this);\r\n\r\n    this.state = {\r\n      isADashboardTypeOfView: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost/1337/api/user/new\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(res => console.log(`RESSSS`, res))\r\n      .catch(err => console.log(`ERRRRR`, err));\r\n    const user_sid = cookie.get(\"user_sid\");\r\n    console.log(`USER_SID`, user_sid);\r\n    //axios('test').then(res => console.log(res)).catch(e => console.log(e));\r\n    // TODO think about if this should be in WillMount()\r\n    if (user_sid && (typeof user_sid === \"string\" && user_sid !== \"\")) {\r\n      this.props.authenticate();\r\n    }\r\n\r\n    this.locationListener = this.props.history.listen((location, action) => {\r\n      const path = location.pathname.substr(1);\r\n      if (\r\n        path === \"dashboard\" ||\r\n        path === \"add\" ||\r\n        path === \"make-a-meal\" ||\r\n        path === \"totals\"\r\n      ) {\r\n        this.setState({\r\n          isADashboardTypeOfView: true\r\n        });\r\n      }\r\n\r\n      if (this.props.user.errors && this.props.user.errors.length) {\r\n        console.log(`this.props.user.errors`);\r\n        if (\r\n          path === \"register\" ||\r\n          path === \"signin\" ||\r\n          path === \"reset-password\"\r\n        ) {\r\n          this.props.setFormError(\"\");\r\n        }\r\n      }\r\n      // if formErrors is populated\r\n      // if routing from the list of components that would use the formErrors\r\n      // than freaking, call props.setFormErrorrs([])\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.locationListener.unlisten();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\r\n      prevProps.resetPasswordEmailSent,\r\n      this.props.resetPasswordEmailSent\r\n    );\r\n    const {\r\n      isAuthenticating,\r\n      isAuthenticated,\r\n      confirmed24HourMealResetMessage,\r\n      authenticationErrors,\r\n      signInErrors,\r\n      isSigningUp,\r\n      isSigningIn,\r\n      isSigningOut,\r\n      isSignedUp,\r\n      isSendingResetPasswordEmail,\r\n      resetPasswordEmailSent,\r\n      setLoader,\r\n      history,\r\n      formErrorText\r\n    } = this.props;\r\n\r\n    console.log(this.props.isSendingRecoverPasswordEmail);\r\n\r\n    // Handle begining authentication\r\n    if (!prevProps.isAuthenticating && isAuthenticating) {\r\n      setLoader(true, \"\");\r\n    }\r\n\r\n    // Handle end or success/failure of authentication\r\n    if (prevProps.isAuthenticating && !isAuthenticating) {\r\n      if (isAuthenticated) {\r\n        if (this.props.user.meals && this.props.user.meals.length > 0) {\r\n          this.props.calculateTotals();\r\n        }\r\n      } else {\r\n        console.log(`authenticationErrors`, this.props.authenticationErrors);\r\n      }\r\n\r\n      this.props.setLoader(false);\r\n    }\r\n\r\n    // Handle beginning signing up\r\n    if (!prevProps.isSigningUp && isSigningUp) {\r\n      setLoader(true, \"Creating your account ...\", false);\r\n    }\r\n\r\n    if (prevProps.isSigningUp && !isSigningUp) {\r\n      // Handle successful sign up\r\n      if (!prevProps.isSignedUp && isSignedUp) {\r\n        setTimeout(() => {\r\n          setLoader(true, \"Account created!\", false);\r\n        }, 1400);\r\n\r\n        this.props.resetIsSignedUp();\r\n\r\n        setTimeout(() => {\r\n          setLoader(true, \"\", true);\r\n        }, 3200);\r\n\r\n        setTimeout(() => {\r\n          history.push(\"/register-success\");\r\n          setLoader(false);\r\n        }, 4900);\r\n\r\n        // TODO should be successfullSignUp or successfullRegistration\r\n      } else if (\r\n        this.props.accountCreated &&\r\n        sessionStorage.getItem(\"account-created\")\r\n      ) {\r\n        setTimeout(() => {\r\n          setLoader(true, \"There was some error. Please try again.\", false);\r\n        }, 1400);\r\n\r\n        setTimeout(() => {\r\n          setLoader(false);\r\n        }, 3200);\r\n      }\r\n    }\r\n\r\n    // Handle begin signing in\r\n    if (!prevProps.isSigningIn && isSigningIn) {\r\n      //setLoader(true, \"Signing in ...\", false);\r\n    }\r\n\r\n    // Handle finish signing in\r\n    if (prevProps.isSigningIn && !isSigningIn) {\r\n      if (isAuthenticated) {\r\n        setLoader(true, \"Signing in ...\", false);\r\n        if (this.props.user.meals && this.props.user.meals.length > 0) {\r\n          this.props.calculateTotals();\r\n        }\r\n        setTimeout(() => {\r\n          setLoader(true, \"Signed in!\", false);\r\n        }, 1400);\r\n\r\n        setTimeout(() => {\r\n          setLoader(true, \"\", true);\r\n        }, 3200);\r\n\r\n        setTimeout(() => {\r\n          history.push(\"/dashboard\");\r\n          setLoader(false);\r\n        }, 4900);\r\n      } else if (formErrorText !== \"\") {\r\n        console.log(`Unsuccessful sign in.`);\r\n        console.log(formErrorText);\r\n        setLoader(false);\r\n      }\r\n    }\r\n\r\n    // Handle begin signing out\r\n    if (!prevProps.isSigningOut && isSigningOut) {\r\n      setLoader(true, \"Signing you out ...\", false);\r\n    }\r\n\r\n    // Handle finish of signing out\r\n    if (prevProps.isSigningOut && !isSigningOut) {\r\n      setTimeout(() => {\r\n        setLoader(true, \"Signed out!\", false);\r\n      }, 1400);\r\n\r\n      setTimeout(() => {\r\n        setLoader(true, \"\", true);\r\n      }, 3200);\r\n\r\n      setTimeout(() => {\r\n        history.push(\"/\");\r\n        setLoader(false);\r\n      }, 4900);\r\n    }\r\n\r\n    // Handle sending a recovery email request\r\n    if (!prevProps.isSendingResetPasswordEmail && isSendingResetPasswordEmail) {\r\n      console.log(isSendingResetPasswordEmail);\r\n      this.props.setLoader(true, \"Sending an email ...\", false);\r\n    }\r\n\r\n    // Handle successful recover password email sent\r\n    if (!prevProps.resetPasswordEmailSent && resetPasswordEmailSent) {\r\n      this.props.setLoader(true, \"Email sent! Please check your email.\", false);\r\n\r\n      setTimeout(() => {\r\n        this.props.setLoader(false);\r\n      }, 3800);\r\n    }\r\n  }\r\n\r\n  componentDidCatch(errorString, errorInfo) {\r\n    console.warn(`[App] componentDidCatch()`, errorString, errorInfo);\r\n  }\r\n\r\n  handleStayBoxSetIsVisible(isVisible) {\r\n    this.props.setStayBox(isVisible);\r\n  }\r\n\r\n  setCookieFlag() {\r\n    alert(\"cookie\");\r\n  }\r\n\r\n  render() {\r\n    // if ( this.props.user) {\r\n    //   if ( this.props.user.firstName && this.props.user.firstName !== '' ) {\r\n    //     const menu = authenticatedRoutes.map(( route, index ) => {\r\n    //       return <li><Link key={index + 1} to={route.path} onClick={this.props.toggleMenu}>{route.name}</Link></li>\r\n    //     });\r\n    //   }\r\n    // }\r\n\r\n    return (\r\n      <div\r\n        className={`App ${this.props.menuIsOpen ? \"menu-open\" : \"\"}`}\r\n        styles={AppStyles}\r\n      >\r\n        {/* A lot of CSS styles are inspected from https://github.com and copied into this application after\r\n            a lot of time stressing over how to style this project. Thank you Github! */}\r\n        {this.props.stayBoxIsVisible && (\r\n          <StayBox\r\n            isVisible={this.props.stayBoxIsVisible}\r\n            text={this.props.stayBoxText}\r\n            setIsVisible={this.handleStayBoxSetIsVisible}\r\n          />\r\n        )}{\" \"}\r\n        <Loading />\r\n        <Menu siteName={this.props.appName} />{\" \"}\r\n        {this.props.alert.isVisible && (\r\n          <Alert\r\n            title={this.props.alert.title}\r\n            body={this.props.alert.body}\r\n            feeling={this.props.alert.feeling}\r\n          />\r\n        )}{\" \"}\r\n        <Header siteName={this.props.appName} />{\" \"}\r\n        <main>\r\n          {\" \"}\r\n          {\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />{\" \"}\r\n              <Route exact path=\"/register\" component={Register} />{\" \"}\r\n              <Route\r\n                exact\r\n                path=\"/register-success\"\r\n                component={RegisterSuccess}\r\n              />{\" \"}\r\n              <Route\r\n                exact\r\n                path=\"/my-details\"\r\n                component={CreateProfileAfterRegister}\r\n              />{\" \"}\r\n              <Route exact path=\"/signin\" component={SignIn} />{\" \"}\r\n              <Route\r\n                exact\r\n                path=\"/confirm-account/:token?\"\r\n                component={ConfirmAccount}\r\n              />{\" \"}\r\n              <Route exact path=\"/dashboard\" component={Dashboard} />{\" \"}\r\n              <Route exact path=\"/add\" component={NewConsumable} />{\" \"}\r\n              <Route exact path=\"/edit\" component={EditConsumable} />{\" \"}\r\n              <Route exact path=\"/make-a-meal\" component={MakeAMeal} />{\" \"}\r\n              <Route exact path=\"/totals\" component={TodaysTotals} />{\" \"}\r\n              <Route exact path=\"/consumed\" component={Consumed} />{\" \"}\r\n              <Route exact path=\"/search\" component={Search} />{\" \"}\r\n              <Route exact path=\"/detail/:id\" component={Detail} />{\" \"}\r\n              <Route\r\n                exact\r\n                path=\"/confirm-reset-password-token/:token?\"\r\n                component={ConfirmResetPasswordToken}\r\n              />{\" \"}\r\n              <Route exact path=\"/reset-password\" component={ResetPassword} />{\" \"}\r\n              <Route component={PageNotFound} />{\" \"}\r\n            </Switch>\r\n          }{\" \"}\r\n          {/* TODO style and make it a component at some point. */}{\" \"}\r\n          {/* <div id=\"cookie-agreement\" onClick={this.setCookieFlag}>\r\n                    We use cookies blah blah blah\r\n                  </div> */}{\" \"}\r\n        </main>{\" \"}\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    appName: state.appReducers.appName,\r\n    user: state.userReducers,\r\n    isAuthenticated: state.userReducers.isAuthenticated,\r\n    isAuthenticating: state.userReducers.isAuthenticating,\r\n    isSigningIn: state.userReducers.isSigningIn,\r\n    isSigningUp: state.userReducers.isSigningUp,\r\n    isSigningOut: state.userReducers.isSigningOut,\r\n    isSignedUp: state.userReducers.isSignedUp,\r\n    authenticationErrors: state.userReducers.authenticationErrors,\r\n    confirmedCookieFlag: state.userReducers.confirmedCookieFlag,\r\n    signInErrors: state.userReducers.signInErrors,\r\n    isSendingResetPasswordEmail: state.userReducers.isSendingResetPasswordEmail,\r\n    isLoading: state.loadingReducers.isLoading,\r\n    alert: state.alertReducers,\r\n    stayBoxText: state.stayBoxReducers.text,\r\n    stayBoxIsVisible: state.stayBoxReducers.isVisible,\r\n    menuIsOpen: state.menuReducers.menuOpen // TODO rename menuOpen to menuIsOpen in reducers\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    authenticate: () => {\r\n      dispatch(authenticate());\r\n    },\r\n    setLoader: (isLoading, loadingText, showSpinner = true) => {\r\n      dispatch(setLoader(isLoading, loadingText, showSpinner));\r\n    },\r\n    setAlert: (isVisible, title = \"\", body = \"\") => {\r\n      dispatch(setAlert(isVisible, title, body));\r\n    },\r\n    setUser: user => {\r\n      dispatch(setUser(user));\r\n    },\r\n    setStayBox: (isVisible, text = \"\") => {\r\n      dispatch(setStayBox(isVisible, text));\r\n    },\r\n    beginSigningOut: () => dispatch(beginSigningOut()),\r\n    resetIsSignedUp: () => dispatch(resetIsSignedUp()),\r\n    calculateTotals: () => dispatch(calculateTotals()),\r\n    setFormError: error => dispatch(setFormError(error))\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(App)\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { Router } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { store } from \"../store\";\r\nimport { saveState } from \"../utilities/store\";\r\nimport { debounce } from \"../utilities/subscribe\";\r\nimport App from \"./App\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nstore.subscribe(\r\n  debounce(() => {\r\n    saveState(store.getState());\r\n  }, 1000)\r\n);\r\n\r\nexport class ProviderComponent extends Component {\r\n  render() {    \r\n    return (\r\n      <Provider store={store  }>\r\n            <Router\r\n                history={history}>\r\n          <App />\r\n        </Router>\r\n      </Provider>      \r\n    );\r\n  }\r\n}\r\n\r\nexport default ProviderComponent;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport ProviderComponent from \"./components/Provider\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nReactDOM.render(<ProviderComponent />, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}